{
	"info": {
		"_postman_id": "e8951f14-145d-4a36-b1e0-6a5727d7597d",
		"name": "[AIBots] Logins",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "27973896",
		"_collection_link": "https://launchpad-dsaid.postman.co/workspace/Moonshot-Workspace~9c1f39db-dd94-4f31-8ace-bbaf5da2b4f2/collection/27973896-e8951f14-145d-4a36-b1e0-6a5727d7597d?action=share&source=collection_link&creator=27973896"
	},
	"item": [
		{
			"name": "Attempt to make unauthorised API requests",
			"item": [
				{
					"name": "No authentication provided",
					"item": [
						{
							"name": "Attempt to retrieve User Logins with no authentication",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 401\", function () {\r",
											"    pm.response.to.have.status(401);\r",
											"});\r",
											"pm.test(\"Attempt to logout user with no authentication\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(401);\r",
											"    pm.expect(jsonData.message).to.eql(\"Token was not provided\");\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/logins",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{AGENTS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"logins"
									]
								}
							},
							"response": [
								{
									"name": "Attempt to retrieve User Logins with no authentication",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/logins",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"logins"
											]
										}
									},
									"status": "Unauthorized",
									"code": 401,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Sun, 23 Jun 2024 10:40:51 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "441"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 401,\n    \"message\": \"Token was not provided\",\n    \"request\": {\n        \"url\": \"https://localhost:20002/latest/logins\",\n        \"headers\": {\n            \"user-agent\": \"PostmanRuntime/7.39.0\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"bcf656b9-d5d7-4f9e-a1d6-da74bd193911\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\"\n        },\n        \"path_params\": {},\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 50190\n        },\n        \"body\": \"\"\n    },\n    \"details\": {}\n}"
								}
							]
						},
						{
							"name": "Attempt to logout user with no authentication",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 401\", function () {\r",
											"    pm.response.to.have.status(401);\r",
											"});\r",
											"pm.test(\"Attempt to logout user with no authentication\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(401);\r",
											"    pm.expect(jsonData.message).to.eql(\"Token was not provided\");\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/logins",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{AGENTS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"logins"
									]
								}
							},
							"response": [
								{
									"name": "Attempt to logout user with no authentication",
									"originalRequest": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/logins",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"logins"
											]
										}
									},
									"status": "Unauthorized",
									"code": 401,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Sun, 23 Jun 2024 10:41:07 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "441"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 401,\n    \"message\": \"Token was not provided\",\n    \"request\": {\n        \"url\": \"https://localhost:20002/latest/logins\",\n        \"headers\": {\n            \"user-agent\": \"PostmanRuntime/7.39.0\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"f59b277a-2e4f-4237-9bd7-be6c71eccec7\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\"\n        },\n        \"path_params\": {},\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 55404\n        },\n        \"body\": \"\"\n    },\n    \"details\": {}\n}"
								}
							]
						},
						{
							"name": "Attempt to refresh user token with no authentication",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 401\", function () {\r",
											"    pm.response.to.have.status(401);\r",
											"});\r",
											"pm.test(\"Attempt to refresh user token with no authentication\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(401);\r",
											"    pm.expect(jsonData.message).to.eql(\"Token was not provided\");\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "POST",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/refresh",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{AGENTS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"refresh"
									]
								}
							},
							"response": [
								{
									"name": "Attempt to refresh user token with no authentication Copy",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/refresh",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"refresh"
											]
										}
									},
									"status": "Unauthorized",
									"code": 401,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Sun, 23 Jun 2024 10:41:22 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "463"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 401,\n    \"message\": \"Token was not provided\",\n    \"request\": {\n        \"url\": \"https://localhost:20002/latest/refresh\",\n        \"headers\": {\n            \"user-agent\": \"PostmanRuntime/7.39.0\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"864bf2e3-b127-4b1d-894b-dcda3d8054b4\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\",\n            \"content-length\": \"0\"\n        },\n        \"path_params\": {},\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 37162\n        },\n        \"body\": \"\"\n    },\n    \"details\": {}\n}"
								}
							]
						},
						{
							"name": "Attempt to query for users with no authentication",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 401\", function () {\r",
											"    pm.response.to.have.status(401);\r",
											"});\r",
											"pm.test(\"Attempt to query for users with no authentication\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(401);\r",
											"    pm.expect(jsonData.message).to.eql(\"Token was not provided\");\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "POST",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/users",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{AGENTS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"queries",
										"users"
									]
								}
							},
							"response": [
								{
									"name": "Attempt to query for users with no authentication",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/users",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"queries",
												"users"
											]
										}
									},
									"status": "Unauthorized",
									"code": 401,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Sun, 23 Jun 2024 10:41:30 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "469"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 401,\n    \"message\": \"Token was not provided\",\n    \"request\": {\n        \"url\": \"https://localhost:20002/latest/queries/users\",\n        \"headers\": {\n            \"user-agent\": \"PostmanRuntime/7.39.0\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"9072656f-f43a-4df3-aa1a-aa2224b7292b\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\",\n            \"content-length\": \"0\"\n        },\n        \"path_params\": {},\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 32960\n        },\n        \"body\": \"\"\n    },\n    \"details\": {}\n}"
								}
							]
						},
						{
							"name": "Attempt to query for agencies with no authentication",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 401\", function () {\r",
											"    pm.response.to.have.status(401);\r",
											"});\r",
											"pm.test(\"Attempt to query for agencies with no authentication\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(401);\r",
											"    pm.expect(jsonData.message).to.eql(\"Token was not provided\");\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/agencies",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{AGENTS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"queries",
										"agencies"
									]
								}
							},
							"response": [
								{
									"name": "Attempt to query for agencies with no authentication",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/agencies",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"queries",
												"agencies"
											]
										}
									},
									"status": "Unauthorized",
									"code": 401,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Sun, 23 Jun 2024 10:41:37 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "451"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 401,\n    \"message\": \"Token was not provided\",\n    \"request\": {\n        \"url\": \"https://localhost:20002/latest/queries/agencies\",\n        \"headers\": {\n            \"user-agent\": \"PostmanRuntime/7.39.0\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"f3bcb16e-344f-4df9-95c6-c47c99faba3f\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\"\n        },\n        \"path_params\": {},\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 44870\n        },\n        \"body\": \"\"\n    },\n    \"details\": {}\n}"
								}
							]
						},
						{
							"name": "Attempt to create unverified users with no authentication",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 401\", function () {\r",
											"    pm.response.to.have.status(401);\r",
											"});\r",
											"pm.test(\"Attempt to refresh user token with no authentication\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(401);\r",
											"    pm.expect(jsonData.message).to.eql(\"Token was not provided\");\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "POST",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/users/unverified",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{AGENTS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"users",
										"unverified"
									]
								}
							},
							"response": [
								{
									"name": "Attempt to create unverified users with no authentication",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/users/unverified",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"users",
												"unverified"
											]
										}
									},
									"status": "Unauthorized",
									"code": 401,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Sun, 23 Jun 2024 10:41:45 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "472"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 401,\n    \"message\": \"Token was not provided\",\n    \"request\": {\n        \"url\": \"https://localhost:20002/latest/users/unverified\",\n        \"headers\": {\n            \"user-agent\": \"PostmanRuntime/7.39.0\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"b50fe42d-0b91-4ed6-aa3b-4a29e64613ca\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\",\n            \"content-length\": \"0\"\n        },\n        \"path_params\": {},\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 44874\n        },\n        \"body\": \"\"\n    },\n    \"details\": {}\n}"
								}
							]
						},
						{
							"name": "Attempt to update user profile with no authentication",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 401\", function () {\r",
											"    pm.response.to.have.status(401);\r",
											"});\r",
											"pm.test(\"Attempt to refresh user token with no authentication\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(401);\r",
											"    pm.expect(jsonData.message).to.eql(\"Token was not provided\");\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "PUT",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/profiles/{{$guid}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{AGENTS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"profiles",
										"{{$guid}}"
									]
								}
							},
							"response": [
								{
									"name": "Attempt to update user profile with no authentication",
									"originalRequest": {
										"method": "PUT",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/profiles/{{$guid}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"profiles",
												"{{$guid}}"
											]
										}
									},
									"status": "Unauthorized",
									"code": 401,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Sun, 23 Jun 2024 10:42:20 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "549"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 401,\n    \"message\": \"Token was not provided\",\n    \"request\": {\n        \"url\": \"https://localhost:20002/latest/profiles/ec15ade6-c090-484c-aed0-536d315e9f1a\",\n        \"headers\": {\n            \"user-agent\": \"PostmanRuntime/7.39.0\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"114c85d8-32d2-41d4-af08-8c03f6b9a9be\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\",\n            \"content-length\": \"0\"\n        },\n        \"path_params\": {\n            \"user_id\": \"ec15ade6-c090-484c-aed0-536d315e9f1a\"\n        },\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 46740\n        },\n        \"body\": \"\"\n    },\n    \"details\": {}\n}"
								}
							]
						}
					]
				}
			]
		},
		{
			"name": "Invalid login attempts",
			"item": [
				{
					"name": "Attempting to request OTPs with invalid Emails",
					"item": [
						{
							"name": "Attempt to request OTP with non-government Email",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 401\", function () {\r",
											"    pm.response.to.have.status(401);\r",
											"});\r",
											"pm.test(\"Attempt to request OTP with non-government Email\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(401);\r",
											"    pm.expect(jsonData.message).to.eql(\"Unauthorised email domain\");\r",
											"    pm.expect(jsonData.details.email).to.eql(pm.environment.get(\"TEST_INVALID_EMAIL_ADDRESS\"));\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"const uuid = require(\"uuid\");\r",
											"pm.environment.set(\"TEST_INVALID_EMAIL_ADDRESS\", \"test-\" + uuid.v4() + \"@gmail.com\")"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"email\": \"{{TEST_INVALID_EMAIL_ADDRESS}}\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{AGENTS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"otp",
										"emails"
									]
								}
							},
							"response": [
								{
									"name": "Attempt to request OTP with non-government Email",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"email\": \"{{TEST_INVALID_EMAIL_ADDRESS}}\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"otp",
												"emails"
											]
										}
									},
									"status": "Unauthorized",
									"code": 401,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Sun, 23 Jun 2024 10:44:20 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "626"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 401,\n    \"message\": \"Unauthorised email domain\",\n    \"request\": {\n        \"url\": \"https://localhost:20002/latest/otp/emails\",\n        \"headers\": {\n            \"content-type\": \"application/json\",\n            \"user-agent\": \"PostmanRuntime/7.39.0\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"b4bf1804-2d66-4e9b-8b77-9dbb6e74d87a\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\",\n            \"content-length\": \"72\"\n        },\n        \"path_params\": {},\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 49724\n        },\n        \"body\": {\n            \"email\": \"test-9ed50213-58a9-4f69-a1c6-848957f0ad8d@gmail.com\"\n        }\n    },\n    \"details\": {\n        \"email\": \"test-9ed50213-58a9-4f69-a1c6-848957f0ad8d@gmail.com\"\n    }\n}"
								}
							]
						}
					]
				},
				{
					"name": "Only 1 valid OTP per email",
					"item": [
						{
							"name": "Request Email OTP",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 201\", function () {\r",
											"    pm.response.to.have.status(201);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"email\": \"{{TEST_EMAIL_ADDRESS1}}\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{AGENTS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"otp",
										"emails"
									]
								}
							},
							"response": [
								{
									"name": "Request Email OTP",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"email\": \"{{TEST_EMAIL_ADDRESS1}}\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"otp",
												"emails"
											]
										}
									},
									"status": "Created",
									"code": 201,
									"_postman_previewlanguage": "plain",
									"header": [
										{
											"key": "date",
											"value": "Sun, 23 Jun 2024 10:44:33 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "transfer-encoding",
											"value": "chunked"
										}
									],
									"cookie": [],
									"body": null
								}
							]
						},
						{
							"name": "Retrieve Email OTPs",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Retrieve Email OTPs\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    var last = jsonData.length - 1\r",
											"    pm.expect(jsonData.length).to.be.gte(1);\r",
											"    pm.expect(jsonData[last].id).to.match(/^[0-9a-fA-F]{32}$/gi);\r",
											"    pm.expect(jsonData[last].user).to.match(/^[0-9a-fA-F]{32}$/gi);\r",
											"    pm.expect(jsonData[last].email).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
											"    const required_keys = [\"otp\", \"timestamp\", \"expiry\"];\r",
											"    pm.expect(required_keys.every((v) => Object.keys(jsonData[last]).includes(v))).to.eql(true);\r",
											"    pm.environment.set(\"TEST_INVALID_OTP\", jsonData[last].otp);\r",
											"    pm.environment.set(\"TEST_OTP\", jsonData[last].otp);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"protocolProfileBehavior": {
								"disableBodyPruning": true
							},
							"request": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{AGENTS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"otp",
										"emails"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Email OTPs",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"otp",
												"emails"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 04 Jul 2024 03:28:22 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "225"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "[\n    {\n        \"id\": \"c224b281896542569000a96ab79c0a09\",\n        \"user\": \"04e058973c6252aa8640ca126441e52c\",\n        \"email\": \"davidtwlee@dsaid.gov.sg\",\n        \"otp\": \"720434\",\n        \"timestamp\": \"2024-07-04T11:27:35.032000+08:00\",\n        \"expiry\": \"2024-07-04T11:27:47.031000+08:00\"\n    }\n]"
								}
							]
						},
						{
							"name": "Request Email OTP",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 201\", function () {\r",
											"    pm.response.to.have.status(201);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"email\": \"{{TEST_EMAIL_ADDRESS1}}\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{AGENTS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"otp",
										"emails"
									]
								}
							},
							"response": [
								{
									"name": "Request Email OTP",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"email\": \"{{TEST_EMAIL_ADDRESS1}}\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"otp",
												"emails"
											]
										}
									},
									"status": "Created",
									"code": 201,
									"_postman_previewlanguage": "plain",
									"header": [
										{
											"key": "date",
											"value": "Sun, 23 Jun 2024 10:45:17 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "transfer-encoding",
											"value": "chunked"
										}
									],
									"cookie": [],
									"body": null
								}
							]
						},
						{
							"name": "Retrieve Email OTPs",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Retrieve Email OTPs\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    var last = jsonData.length - 1\r",
											"    pm.expect(jsonData.length).to.gte(1);\r",
											"    pm.expect(jsonData[last].id).to.match(/^[0-9a-fA-F]{32}$/gi);\r",
											"    pm.expect(jsonData[last].user).to.match(/^[0-9a-fA-F]{32}$/gi);\r",
											"    pm.expect(jsonData[last].email).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
											"    const required_keys = [\"otp\", \"timestamp\", \"expiry\"];\r",
											"    pm.expect(required_keys.every((v) => Object.keys(jsonData[last]).includes(v))).to.eql(true);\r",
											"    pm.environment.set(\"TEST_OTP\", jsonData[last].otp);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{AGENTS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"otp",
										"emails"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Email OTPs",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"otp",
												"emails"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 04 Jul 2024 03:28:45 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "225"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "[\n    {\n        \"id\": \"f4642d585ba940fb8157cf9ae0fc4393\",\n        \"user\": \"04e058973c6252aa8640ca126441e52c\",\n        \"email\": \"davidtwlee@dsaid.gov.sg\",\n        \"otp\": \"896129\",\n        \"timestamp\": \"2024-07-04T11:28:29.612000+08:00\",\n        \"expiry\": \"2024-07-04T11:28:41.612000+08:00\"\n    }\n]"
								}
							]
						},
						{
							"name": "Request Email OTP",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 201\", function () {\r",
											"    pm.response.to.have.status(201);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"email\": \"{{TEST_EMAIL_ADDRESS1}}\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{AGENTS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"otp",
										"emails"
									]
								}
							},
							"response": [
								{
									"name": "Request Email OTP",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"email\": \"{{TEST_EMAIL_ADDRESS1}}\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"otp",
												"emails"
											]
										}
									},
									"status": "Created",
									"code": 201,
									"_postman_previewlanguage": "plain",
									"header": [
										{
											"key": "date",
											"value": "Sun, 23 Jun 2024 10:45:24 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "transfer-encoding",
											"value": "chunked"
										}
									],
									"cookie": [],
									"body": null
								}
							]
						},
						{
							"name": "Retrieve Email OTPs",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Retrieve Email OTPs\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    var last = jsonData.length - 1\r",
											"    pm.expect(jsonData.length).to.eql(1);\r",
											"    pm.expect(jsonData[last].id).to.match(/^[0-9a-fA-F]{32}$/gi);\r",
											"    pm.expect(jsonData[last].user).to.match(/^[0-9a-fA-F]{32}$/gi);\r",
											"    pm.expect(jsonData[last].email).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
											"    const required_keys = [\"otp\", \"timestamp\", \"expiry\"];\r",
											"    pm.expect(required_keys.every((v) => Object.keys(jsonData[last]).includes(v))).to.eql(true);\r",
											"    pm.environment.set(\"TEST_OTP\", jsonData[last].otp);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{AGENTS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"otp",
										"emails"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Email OTPs",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"otp",
												"emails"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 04 Jul 2024 03:29:03 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "225"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "[\n    {\n        \"id\": \"6aaa26fc840448a7b482b19ed964af2f\",\n        \"user\": \"04e058973c6252aa8640ca126441e52c\",\n        \"email\": \"davidtwlee@dsaid.gov.sg\",\n        \"otp\": \"430799\",\n        \"timestamp\": \"2024-07-04T11:28:53.134000+08:00\",\n        \"expiry\": \"2024-07-04T11:29:05.134000+08:00\"\n    }\n]"
								}
							]
						}
					]
				},
				{
					"name": "Attempt to login with invalid OTPs",
					"item": [
						{
							"name": "Attempt to login with OTP that does not exist",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 401\", function () {\r",
											"    pm.response.to.have.status(401);\r",
											"});\r",
											"pm.test(\"Attempt to login with OTP that does not exist\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(401);\r",
											"    pm.expect(jsonData.message).to.eql(\"OTP was not issued\");\r",
											"    pm.expect(jsonData.details.email).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
											"    pm.expect(jsonData.details.otp).to.eql(pm.environment.get(\"TEST_NONEXISTENT_OTP\"));\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.environment.set(\"TEST_NONEXISTENT_OTP\", Math.random().toString(36).substr(2, 6))"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"email\": \"{{TEST_EMAIL_ADDRESS1}}\",\r\n    \"otp\": \"{{TEST_NONEXISTENT_OTP}}\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails/logins",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{AGENTS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"otp",
										"emails",
										"logins"
									]
								}
							},
							"response": [
								{
									"name": "Attempt to login with OTP that does not exist",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"email\": \"{{TEST_EMAIL_ADDRESS1}}\",\r\n    \"otp\": \"{{TEST_NONEXISTENT_OTP}}\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails/logins",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"otp",
												"emails",
												"logins"
											]
										}
									},
									"status": "Unauthorized",
									"code": 401,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Sun, 23 Jun 2024 11:06:13 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "600"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 401,\n    \"message\": \"OTP was not issued\",\n    \"request\": {\n        \"url\": \"https://localhost:20002/latest/otp/emails/logins\",\n        \"headers\": {\n            \"content-type\": \"application/json\",\n            \"user-agent\": \"PostmanRuntime/7.39.0\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"c9a8aa49-9ced-436e-8868-fcba392e1ccf\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\",\n            \"content-length\": \"66\"\n        },\n        \"path_params\": {},\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 34816\n        },\n        \"body\": {\n            \"email\": \"davidtwlee@dsaid.gov.sg\",\n            \"otp\": \"hgg8is\"\n        }\n    },\n    \"details\": {\n        \"email\": \"davidtwlee@dsaid.gov.sg\",\n        \"otp\": \"hgg8is\"\n    }\n}"
								}
							]
						},
						{
							"name": "Attempt to login with OTP that was replaced",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 401\", function () {\r",
											"    pm.response.to.have.status(401);\r",
											"});\r",
											"pm.test(\"Attempt to login with OTP that was replaced\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(401);\r",
											"    pm.expect(jsonData.message).to.eql(\"OTP was not issued\");\r",
											"    pm.expect(jsonData.details.email).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
											"    pm.expect(jsonData.details.otp).to.eql(pm.environment.get(\"TEST_INVALID_OTP\"));\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"email\": \"{{TEST_EMAIL_ADDRESS1}}\",\r\n    \"otp\": \"{{TEST_INVALID_OTP}}\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails/logins",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{AGENTS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"otp",
										"emails",
										"logins"
									]
								}
							},
							"response": [
								{
									"name": "Attempt to login with OTP that was replaced",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"email\": \"{{TEST_EMAIL_ADDRESS1}}\",\r\n    \"otp\": \"{{TEST_INVALID_OTP}}\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails/logins",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"otp",
												"emails",
												"logins"
											]
										}
									},
									"status": "Unauthorized",
									"code": 401,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Sun, 23 Jun 2024 11:06:34 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "600"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 401,\n    \"message\": \"OTP was not issued\",\n    \"request\": {\n        \"url\": \"https://localhost:20002/latest/otp/emails/logins\",\n        \"headers\": {\n            \"content-type\": \"application/json\",\n            \"user-agent\": \"PostmanRuntime/7.39.0\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"bb40881a-a33b-4bd6-b75f-d69695e5b540\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\",\n            \"content-length\": \"66\"\n        },\n        \"path_params\": {},\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 49504\n        },\n        \"body\": {\n            \"email\": \"davidtwlee@dsaid.gov.sg\",\n            \"otp\": \"361271\"\n        }\n    },\n    \"details\": {\n        \"email\": \"davidtwlee@dsaid.gov.sg\",\n        \"otp\": \"361271\"\n    }\n}"
								}
							]
						},
						{
							"name": "Attempt to login with OTP that expired",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 401\", function () {\r",
											"    pm.response.to.have.status(401);\r",
											"});\r",
											"pm.test(\"Attempt to login with OTP that expired\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(401);\r",
											"    pm.expect(jsonData.message).to.eql(\"OTP has expired\");\r",
											"    pm.expect(jsonData.details.email).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
											"    pm.expect(jsonData.details.otp).to.eql(pm.environment.get(\"TEST_OTP\"));\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"setTimeout(function(){}, [13000]);"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"email\": \"{{TEST_EMAIL_ADDRESS1}}\",\r\n    \"otp\": \"{{TEST_OTP}}\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails/logins",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{AGENTS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"otp",
										"emails",
										"logins"
									]
								}
							},
							"response": [
								{
									"name": "Attempt to login with OTP that expired",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"email\": \"{{TEST_EMAIL_ADDRESS1}}\",\r\n    \"otp\": \"{{TEST_OTP}}\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails/logins",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"otp",
												"emails",
												"logins"
											]
										}
									},
									"status": "Unauthorized",
									"code": 401,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Sun, 23 Jun 2024 11:06:59 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "597"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 401,\n    \"message\": \"OTP has expired\",\n    \"request\": {\n        \"url\": \"https://localhost:20002/latest/otp/emails/logins\",\n        \"headers\": {\n            \"content-type\": \"application/json\",\n            \"user-agent\": \"PostmanRuntime/7.39.0\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"c75292b3-bf8f-44a3-9e05-a0a358155995\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\",\n            \"content-length\": \"66\"\n        },\n        \"path_params\": {},\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 59440\n        },\n        \"body\": {\n            \"email\": \"davidtwlee@dsaid.gov.sg\",\n            \"otp\": \"494867\"\n        }\n    },\n    \"details\": {\n        \"email\": \"davidtwlee@dsaid.gov.sg\",\n        \"otp\": \"494867\"\n    }\n}"
								}
							]
						}
					]
				}
			]
		},
		{
			"name": "Login as Superuser",
			"item": [
				{
					"name": "Login and refresh tokens",
					"item": [
						{
							"name": "First-time Login via Email OTP",
							"item": [
								{
									"name": "Request Email OTP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 201\", function () {\r",
													"    pm.response.to.have.status(201);\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"email\": \"{{TEST_EMAIL_ADDRESS1}}\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"otp",
												"emails"
											]
										}
									},
									"response": [
										{
											"name": "Request Email OTP",
											"originalRequest": {
												"method": "POST",
												"header": [],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"email\": \"{{TEST_EMAIL_ADDRESS1}}\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"otp",
														"emails"
													]
												}
											},
											"status": "Created",
											"code": 201,
											"_postman_previewlanguage": "plain",
											"header": [
												{
													"key": "date",
													"value": "Sun, 23 Jun 2024 11:20:49 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "transfer-encoding",
													"value": "chunked"
												}
											],
											"cookie": [],
											"body": null
										}
									]
								},
								{
									"name": "Retrieve Email OTPs",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"pm.test(\"Retrieve Email OTPs\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    var last = jsonData.length - 1\r",
													"    pm.expect(jsonData.length).to.be.gte(1);\r",
													"    pm.expect(jsonData[last].id).to.match(/^[0-9a-fA-F]{32}$/gi);\r",
													"    pm.expect(jsonData[last].user).to.match(/^[0-9a-fA-F]{32}$/gi);\r",
													"    pm.expect(jsonData[last].email).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
													"    const required_keys = [\"otp\", \"timestamp\", \"expiry\"];\r",
													"    pm.expect(required_keys.every((v) => Object.keys(jsonData[last]).includes(v))).to.eql(true);\r",
													"    pm.environment.set(\"TEST_OTP\", jsonData[last].otp);\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"otp",
												"emails"
											]
										}
									},
									"response": [
										{
											"name": "Retrieve Email OTPs",
											"originalRequest": {
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"otp",
														"emails"
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 03:30:26 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "225"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[\n    {\n        \"id\": \"c765426efe15482b852c583a8e0a8efb\",\n        \"user\": \"04e058973c6252aa8640ca126441e52c\",\n        \"email\": \"davidtwlee@dsaid.gov.sg\",\n        \"otp\": \"132753\",\n        \"timestamp\": \"2024-07-04T11:30:17.930000+08:00\",\n        \"expiry\": \"2024-07-04T11:30:29.930000+08:00\"\n    }\n]"
										}
									]
								},
								{
									"name": "Login via Email OTP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 201\", function () {\r",
													"    pm.response.to.have.status(201);\r",
													"});\r",
													"pm.test(\"Successful Login via Email OTP\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{32}$/gi);\r",
													"    pm.expect(jsonData.email).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
													"    pm.expect(jsonData.newUser).to.eql(true);\r",
													"    pm.expect(jsonData.refreshCount).to.eql(0);\r",
													"    pm.expect(jsonData.maxRefresh).to.eql(5);\r",
													"    pm.expect(jsonData.scopes).to.eql([\"*\"]);\r",
													"    pm.expect(jsonData.itemScopes.length).to.eql(3);\r",
													"    pm.expect(jsonData.superuser).to.eql(true);\r",
													"    const required_keys = [\"name\", \"timestamp\", \"token\", \"refreshToken\", \"expiry\", \"issuer\", \"product\", \"refreshCount\", \"maxRefresh\", \"role\"];\r",
													"    pm.expect(required_keys.every((v) => Object.keys(jsonData).includes(v))).to.eql(true);\r",
													"    pm.environment.set(\"REFRESH_TOKEN\", jsonData.refreshToken);\r",
													"    pm.environment.set(\"TEST_USER1_NAME\", jsonData.name);\r",
													"    pm.environment.set(\"TEST_USER1_ID\", jsonData.id);\r",
													"});\r",
													"pm.test(\"Authorization header is present\", function () {\r",
													"    pm.response.to.have.header(\"Authorization\");\r",
													"    pm.environment.set(\"AUTH_TOKEN\", pm.response.headers.get('Authorization').split(' ')[1]);\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"email\": \"{{TEST_EMAIL_ADDRESS1}}\",\r\n    \"otp\": \"{{TEST_OTP}}\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails/logins",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"otp",
												"emails",
												"logins"
											]
										}
									},
									"response": [
										{
											"name": "Login via Email OTP",
											"originalRequest": {
												"method": "POST",
												"header": [],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"email\": \"{{TEST_EMAIL_ADDRESS1}}\",\r\n    \"otp\": \"{{TEST_OTP}}\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails/logins",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"otp",
														"emails",
														"logins"
													]
												}
											},
											"status": "Created",
											"code": 201,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 06:48:49 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "authorization",
													"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJHb3ZUZWNoIiwic3ViIjoiMDRlMDU4OTczYzYyNTJhYTg2NDBjYTEyNjQ0MWU1MmMiLCJhdWQiOiJzaXQuYWlib3RzLmdvdi5zZyIsIm5iZiI6MTcyMDA3NTcyOSwiaWF0IjoxNzIwMDc1NzI5LCJleHAiOjE3MjAwODI5MjksImp0aSI6IjFmYTRjMWE0NjEzYjQyMGNhNzNjMGU3OTM5MjFmNmZiIiwibmFtZSI6IkRhdmlkdHdsZWUiLCJlbWFpbCI6ImRhdmlkdHdsZWVAZHNhaWQuZ292LnNnIiwibmV3X3VzZXIiOnRydWUsInJvbGUiOiI5MDQ0NTg1MzlkMzc0N2IyOWZiZTQ0NmRkYWEwNDY1MiIsInN1cGVydXNlciI6dHJ1ZSwiYWdlbmN5IjoiZ292dGVjaCIsImF0X2hhc2giOiJjVU1hSkJWX1lDVEU0dlRjNWlubzlRIn0.p4BMOVsk65Ak8C_CPDQFq64yoXfwImN7ff83mazH0cM"
												},
												{
													"key": "content-length",
													"value": "1247"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "{\n    \"name\": \"Davidtwlee\",\n    \"id\": \"04e058973c6252aa8640ca126441e52c\",\n    \"issuer\": \"GovTech\",\n    \"product\": \"sit.aibots.gov.sg\",\n    \"refreshToken\": \"87539203cac8471ad0b63abf85589522\",\n    \"refreshCount\": 0,\n    \"maxRefresh\": 5,\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJHb3ZUZWNoIiwic3ViIjoiMDRlMDU4OTczYzYyNTJhYTg2NDBjYTEyNjQ0MWU1MmMiLCJhdWQiOiJzaXQuYWlib3RzLmdvdi5zZyIsIm5iZiI6MTcyMDA3NTcyOSwiaWF0IjoxNzIwMDc1NzI5LCJleHAiOjE3MjAwODI5MjksImp0aSI6IjFmYTRjMWE0NjEzYjQyMGNhNzNjMGU3OTM5MjFmNmZiIiwibmFtZSI6IkRhdmlkdHdsZWUiLCJlbWFpbCI6ImRhdmlkdHdsZWVAZHNhaWQuZ292LnNnIiwibmV3X3VzZXIiOnRydWUsInJvbGUiOiI5MDQ0NTg1MzlkMzc0N2IyOWZiZTQ0NmRkYWEwNDY1MiIsInN1cGVydXNlciI6dHJ1ZSwiYWdlbmN5IjoiZ292dGVjaCIsImF0X2hhc2giOiJjVU1hSkJWX1lDVEU0dlRjNWlubzlRIn0.p4BMOVsk65Ak8C_CPDQFq64yoXfwImN7ff83mazH0cM\",\n    \"scopes\": [\n        \"*\"\n    ],\n    \"itemScopes\": [\n        \"agents.804885b4423e485cb21592c7dfa8baa8:read,allow\",\n        \"chats.804885b4423e485cb21592c7dfa8baa8:create,read,update,delete\",\n        \"messages.804885b4423e485cb21592c7dfa8baa8:create,read,update,delete\"\n    ],\n    \"expiry\": \"2024-07-04T16:48:49.967109+08:00\",\n    \"startUse\": \"2024-07-04T14:48:49.967106+08:00\",\n    \"timestamp\": \"2024-07-04T14:48:49.967168+08:00\",\n    \"email\": \"davidtwlee@dsaid.gov.sg\",\n    \"newUser\": true,\n    \"role\": \"904458539d3747b29fbe446ddaa04652\",\n    \"superuser\": true,\n    \"agency\": \"govtech\"\n}"
										}
									]
								},
								{
									"name": "Retrieve User Logins",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"pm.test(\"Retrieve User Logins\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.length).to.eql(1);\r",
													"\r",
													"    jsonData.forEach(function (x, i) {\r",
													"        pm.expect(x.id).to.match(/^[0-9a-fA-F]{32}$/gi);\r",
													"        pm.expect(x.email).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
													"        pm.expect(x.newUser).to.eql(true);\r",
													"        pm.expect(x.refreshCount).to.eql(0);\r",
													"        pm.expect(x.maxRefresh).to.eql(5);\r",
													"        pm.expect(x.scopes).to.eql([\"*\"]);\r",
													"        pm.expect(x.itemScopes.length).to.eql(3);\r",
													"        pm.expect(x.superuser).to.eql(true);\r",
													"        const required_keys = [\"name\", \"timestamp\", \"expiry\", \"issuer\", \"product\", \"refreshCount\", \"maxRefresh\", \"role\"];\r",
													"        pm.expect(required_keys.every((v) => Object.keys(x).includes(v))).to.eql(true);\r",
													"    });\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{AUTH_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/logins",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"logins"
											]
										}
									},
									"response": [
										{
											"name": "Retrieve User Logins",
											"originalRequest": {
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/logins",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"logins"
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 03:35:16 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "725"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[\n    {\n        \"name\": \"Davidtwlee\",\n        \"id\": \"04e058973c6252aa8640ca126441e52c\",\n        \"issuer\": \"GovTech\",\n        \"product\": \"sit.aibots.gov.sg\",\n        \"refreshToken\": \"a9480b59134650737f2baa8bdc4dce2f\",\n        \"refreshCount\": 0,\n        \"maxRefresh\": 5,\n        \"scopes\": [\n            \"*\"\n        ],\n        \"itemScopes\": [\n            \"agents.804885b4-423e-485c-b215-92c7dfa8baa8:read,allow\",\n            \"chats.804885b4-423e-485c-b215-92c7dfa8baa8:create,read,update,delete\",\n            \"messages.804885b4-423e-485c-b215-92c7dfa8baa8:create,read,update,delete\"\n        ],\n        \"expiry\": \"2024-07-04T13:32:14.424000+08:00\",\n        \"startUse\": \"2024-07-04T11:32:14+08:00\",\n        \"timestamp\": \"2024-07-04T11:32:14.424000+08:00\",\n        \"email\": \"davidtwlee@dsaid.gov.sg\",\n        \"newUser\": true,\n        \"role\": \"d3b13ec2fa7442a5b0787027cb99ff02\",\n        \"superuser\": true,\n        \"agency\": \"govtech\"\n    }\n]"
										}
									]
								},
								{
									"name": "Retrieve Email OTPs",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"pm.test(\"Retrieve Email OTPs\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.map((x) => x.otp)).to.not.contain(pm.environment.get(\"TEST_OTP\"));\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"otp",
												"emails"
											]
										}
									},
									"response": [
										{
											"name": "Retrieve Email OTPs",
											"originalRequest": {
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"otp",
														"emails"
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 03:35:30 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "2"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[]"
										}
									]
								},
								{
									"name": "Retrieve Users",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"pm.test(\"Retrieve Users\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.length).to.eql(1);\r",
													"\r",
													"    jsonData.forEach(function(x, i) {\r",
													"        pm.expect(x.id).to.eql(pm.environment.get(\"TEST_USER1_ID\"));\r",
													"        pm.expect(x.externalId).to.eql(pm.environment.get(\"TEST_USER1_ID\"));\r",
													"        pm.expect(x.displayName).to.eql(pm.environment.get(\"TEST_USER1_NAME\"));\r",
													"        pm.expect(x.userName).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
													"        pm.expect(x.name.formatted).to.eql(pm.environment.get(\"TEST_USER1_NAME\"));\r",
													"        pm.expect(x.userName).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
													"        pm.expect(x.preferredLanguage).to.eql(\"en\");\r",
													"        pm.expect(x.locale).to.eql(\"en_SG\");\r",
													"        pm.expect(x.timezone).to.eql(\"Singapore\");\r",
													"        pm.expect(x.emails.length).to.eql(1);\r",
													"        pm.expect(x.emails[0].value).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
													"        pm.expect(x.groups.length).to.eql(1);\r",
													"        pm.expect(x.groups[0].display).to.eql(\"Data Science and AI Division (Defunct)\");\r",
													"        pm.expect(x.roles.length).to.eql(1);\r",
													"        pm.expect(x.roles[0].display).to.eql(\"Superuser\");\r",
													"        pm.expect(x[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"].agency).to.eql(\"govtech\");\r",
													"        pm.expect(x[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"].verified).to.eql(true);\r",
													"        pm.expect(x[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"].allow).to.eql(true);\r",
													"        pm.expect(x[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"].active).to.eql(true);\r",
													"        var required_keys = [\"description\", \"settings\", \"favourites\", \"details\", \"apiKeys\"];\r",
													"        pm.expect(required_keys.every((v) => Object.keys(x[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"]).includes(v))).to.eql(true);\r",
													"        pm.expect(x.meta.resourceType).to.eql(\"users\");\r",
													"        pm.expect(x.meta.owner).to.eql(pm.environment.get(\"TEST_USER1_ID\"));\r",
													"        pm.expect(x.meta.ownerType).to.eql(\"user\");\r",
													"        pm.expect(x.meta.location).to.match(new RegExp(\"/latest/users/\" + pm.environment.get(\"TEST_USER1_ID\")));\r",
													"        pm.expect(x.meta.version).to.eql(1);\r",
													"        pm.expect(x.meta.created).to.not.eql(null);\r",
													"        pm.expect(x.meta.lastModified).to.eql(null);\r",
													"        pm.expect(x.meta.deleted).to.eql(null);\r",
													"        pm.expect(x.meta.archived).to.eql(null);\r",
													"        required_keys = [\"schemas\", \"nickName\", \"profileUrl\", \"title\", \"userType\", \"password\", \"phoneNumbers\", \"ims\", \"photos\", \"addresses\", \"groups\", \"entitlements\", \"x509Certificates\"];\r",
													"        pm.expect(required_keys.every((v) => Object.keys(x).includes(v))).to.eql(true);\r",
													"        pm.environment.set(\"TEST_USER1_GROUP_ID\", x.groups[0].value);\r",
													"    });\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{AUTH_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/users",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"users"
											]
										}
									},
									"response": [
										{
											"name": "Retrieve Users",
											"originalRequest": {
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/users",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"users"
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 06:53:09 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "1551"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[\n    {\n        \"meta\": {\n            \"resourceType\": \"users\",\n            \"owner\": \"04e058973c6252aa8640ca126441e52c\",\n            \"ownerType\": \"user\",\n            \"location\": \"https://sit.aibots.gov.sg/latest/users/04e058973c6252aa8640ca126441e52c\",\n            \"version\": 1,\n            \"created\": \"2024-07-04T06:48:49.950000Z\",\n            \"lastModified\": null,\n            \"deleted\": null,\n            \"archived\": null\n        },\n        \"id\": \"04e058973c6252aa8640ca126441e52c\",\n        \"schemas\": [\n            \"urn:ietf:params:scim:schemas:core:2.0:User\",\n            \"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"\n        ],\n        \"externalId\": \"04e058973c6252aa8640ca126441e52c\",\n        \"userName\": \"davidtwlee@dsaid.gov.sg\",\n        \"displayName\": \"Davidtwlee\",\n        \"name\": {\n            \"familyName\": null,\n            \"givenName\": null,\n            \"middleName\": null,\n            \"honorificPrefix\": null,\n            \"honorificSuffix\": null,\n            \"formatted\": \"Davidtwlee\"\n        },\n        \"nickName\": null,\n        \"profileUrl\": null,\n        \"title\": null,\n        \"userType\": null,\n        \"preferredLanguage\": \"en\",\n        \"locale\": \"en_SG\",\n        \"timezone\": \"Singapore\",\n        \"password\": null,\n        \"emails\": [\n            {\n                \"type\": \"Government Email\",\n                \"primary\": true,\n                \"display\": \"davidtwlee@dsaid.gov.sg\",\n                \"value\": \"davidtwlee@dsaid.gov.sg\"\n            }\n        ],\n        \"phoneNumbers\": [],\n        \"ims\": [],\n        \"photos\": [],\n        \"addresses\": [],\n        \"groups\": [\n            {\n                \"type\": \"groups\",\n                \"$ref\": \"https://sit.aibots.gov.sg/latest/groups/6aa208e6c4b05fe78a591c8b8dcddffb\",\n                \"display\": \"Data Science and AI Division (Defunct)\",\n                \"value\": \"6aa208e6c4b05fe78a591c8b8dcddffb\"\n            }\n        ],\n        \"entitlements\": [],\n        \"roles\": [\n            {\n                \"type\": \"rbac\",\n                \"primary\": true,\n                \"display\": \"Superuser\",\n                \"value\": \"904458539d3747b29fbe446ddaa04652\"\n            }\n        ],\n        \"x509Certificates\": [],\n        \"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\": {\n            \"description\": \"\",\n            \"agency\": \"govtech\",\n            \"settings\": {},\n            \"favourites\": {},\n            \"details\": {},\n            \"verified\": true,\n            \"apiKeys\": [],\n            \"allow\": true,\n            \"active\": true\n        }\n    }\n]"
										}
									]
								},
								{
									"name": "Retrieve User",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"pm.test(\"Retrieve User\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_USER1_ID\"));\r",
													"    pm.expect(jsonData.externalId).to.eql(pm.environment.get(\"TEST_USER1_ID\"));\r",
													"    pm.expect(jsonData.displayName).to.eql(pm.environment.get(\"TEST_USER1_NAME\"));\r",
													"    pm.expect(jsonData.userName).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
													"    pm.expect(jsonData.name.formatted).to.eql(pm.environment.get(\"TEST_USER1_NAME\"));\r",
													"    pm.expect(jsonData.userName).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
													"    pm.expect(jsonData.preferredLanguage).to.eql(\"en\");\r",
													"    pm.expect(jsonData.locale).to.eql(\"en_SG\");\r",
													"    pm.expect(jsonData.timezone).to.eql(\"Singapore\");\r",
													"    pm.expect(jsonData.emails.length).to.eql(1);\r",
													"    pm.expect(jsonData.emails[0].value).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
													"    pm.expect(jsonData.groups.length).to.eql(1);\r",
													"    pm.expect(jsonData.groups[0].display).to.eql(\"Data Science and AI Division (Defunct)\");\r",
													"    pm.expect(jsonData.roles.length).to.eql(1);\r",
													"    pm.expect(jsonData.roles[0].display).to.eql(\"Superuser\");\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"].agency).to.eql(\"govtech\");\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"].verified).to.eql(true);\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"].allow).to.eql(true);\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"].active).to.eql(true);\r",
													"    var required_keys = [\"description\", \"settings\", \"favourites\", \"details\", \"apiKeys\"];\r",
													"    pm.expect(required_keys.every((v) => Object.keys(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"]).includes(v))).to.eql(true);\r",
													"    pm.expect(jsonData.meta.resourceType).to.eql(\"users\");\r",
													"    pm.expect(jsonData.meta.owner).to.eql(pm.environment.get(\"TEST_USER1_ID\"));\r",
													"    pm.expect(jsonData.meta.ownerType).to.eql(\"user\");\r",
													"    pm.expect(jsonData.meta.location).to.match(new RegExp(\"/latest/users/\" + pm.environment.get(\"TEST_USER1_ID\")));\r",
													"    pm.expect(jsonData.meta.version).to.eql(1);\r",
													"    pm.expect(jsonData.meta.created).to.not.eql(null);\r",
													"    pm.expect(jsonData.meta.lastModified).to.eql(null);\r",
													"    pm.expect(jsonData.meta.deleted).to.eql(null);\r",
													"    pm.expect(jsonData.meta.archived).to.eql(null);\r",
													"    required_keys = [\"schemas\", \"nickName\", \"profileUrl\", \"title\", \"userType\", \"password\", \"phoneNumbers\", \"ims\", \"photos\", \"addresses\", \"groups\", \"entitlements\", \"x509Certificates\"];\r",
													"    pm.expect(required_keys.every((v) => Object.keys(jsonData).includes(v))).to.eql(true);\r",
													"    pm.environment.set(\"TEST_USER1_GROUP_ID\", jsonData.groups[0].value);\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{AUTH_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/users/:id",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"users",
												":id"
											],
											"variable": [
												{
													"key": "id",
													"value": "{{TEST_USER1_ID}}"
												}
											]
										}
									},
									"response": [
										{
											"name": "Retrieve User",
											"originalRequest": {
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/users/:id",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"users",
														":id"
													],
													"variable": [
														{
															"key": "id",
															"value": "{{TEST_USER1_ID}}"
														}
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 06:53:20 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "1549"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "{\n    \"meta\": {\n        \"resourceType\": \"users\",\n        \"owner\": \"04e058973c6252aa8640ca126441e52c\",\n        \"ownerType\": \"user\",\n        \"location\": \"https://sit.aibots.gov.sg/latest/users/04e058973c6252aa8640ca126441e52c\",\n        \"version\": 1,\n        \"created\": \"2024-07-04T06:48:49.950000Z\",\n        \"lastModified\": null,\n        \"deleted\": null,\n        \"archived\": null\n    },\n    \"id\": \"04e058973c6252aa8640ca126441e52c\",\n    \"schemas\": [\n        \"urn:ietf:params:scim:schemas:core:2.0:User\",\n        \"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"\n    ],\n    \"externalId\": \"04e058973c6252aa8640ca126441e52c\",\n    \"userName\": \"davidtwlee@dsaid.gov.sg\",\n    \"displayName\": \"Davidtwlee\",\n    \"name\": {\n        \"familyName\": null,\n        \"givenName\": null,\n        \"middleName\": null,\n        \"honorificPrefix\": null,\n        \"honorificSuffix\": null,\n        \"formatted\": \"Davidtwlee\"\n    },\n    \"nickName\": null,\n    \"profileUrl\": null,\n    \"title\": null,\n    \"userType\": null,\n    \"preferredLanguage\": \"en\",\n    \"locale\": \"en_SG\",\n    \"timezone\": \"Singapore\",\n    \"password\": null,\n    \"emails\": [\n        {\n            \"type\": \"Government Email\",\n            \"primary\": true,\n            \"display\": \"davidtwlee@dsaid.gov.sg\",\n            \"value\": \"davidtwlee@dsaid.gov.sg\"\n        }\n    ],\n    \"phoneNumbers\": [],\n    \"ims\": [],\n    \"photos\": [],\n    \"addresses\": [],\n    \"groups\": [\n        {\n            \"type\": \"groups\",\n            \"$ref\": \"https://sit.aibots.gov.sg/latest/groups/6aa208e6c4b05fe78a591c8b8dcddffb\",\n            \"display\": \"Data Science and AI Division (Defunct)\",\n            \"value\": \"6aa208e6c4b05fe78a591c8b8dcddffb\"\n        }\n    ],\n    \"entitlements\": [],\n    \"roles\": [\n        {\n            \"type\": \"rbac\",\n            \"primary\": true,\n            \"display\": \"Superuser\",\n            \"value\": \"904458539d3747b29fbe446ddaa04652\"\n        }\n    ],\n    \"x509Certificates\": [],\n    \"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\": {\n        \"description\": \"\",\n        \"agency\": \"govtech\",\n        \"settings\": {},\n        \"favourites\": {},\n        \"details\": {},\n        \"verified\": true,\n        \"apiKeys\": [],\n        \"allow\": true,\n        \"active\": true\n    }\n}"
										}
									]
								},
								{
									"name": "Retrieve SCIM Group",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"pm.test(\"Retrieve Group\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_USER1_GROUP_ID\"));\r",
													"    pm.expect(jsonData.displayName).to.eql(\"Data Science and AI Division (Defunct)\");\r",
													"    pm.expect(jsonData.members.length).to.eql(1);\r",
													"    pm.expect(jsonData.members[0].display).to.eql(pm.environment.get(\"TEST_USER1_NAME\"));\r",
													"    pm.expect(jsonData.members[0].value).to.eql(pm.environment.get(\"TEST_USER1_ID\"));\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"].description).to.eql(\"Data Science and AI Division (Defunct)\");\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"].agency).to.eql(null);\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"].parent.display).to.eql(\"Government Technology Agency\");\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"].defaultRole).to.eql(null);\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"].allow).to.eql(true);\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"].domain).to.eql(\"dsaid.gov.sg\");\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"].default).to.eql(true);\r",
													"    var required_keys = [\"children\", \"details\", \"administrators\", \"apiKeys\"];\r",
													"    pm.expect(required_keys.every((v) => Object.keys(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"]).includes(v))).to.eql(true);\r",
													"    pm.expect(jsonData.meta.resourceType).to.eql(\"groups\");\r",
													"    pm.expect(jsonData.meta.ownerType).to.eql(\"user\");\r",
													"    pm.expect(jsonData.meta.location).to.match(new RegExp(\"/latest/groups/\" + pm.environment.get(\"TEST_USER1_GROUP_ID\")));\r",
													"    pm.expect(jsonData.meta.version).to.eql(1);\r",
													"    pm.expect(jsonData.meta.lastModified).to.eql(null);\r",
													"    pm.expect(jsonData.meta.deleted).to.eql(null);\r",
													"    pm.expect(jsonData.meta.archived).to.eql(null);\r",
													"    required_keys = [\"schemas\"];\r",
													"    pm.expect(required_keys.every((v) => Object.keys(jsonData).includes(v))).to.eql(true);\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{AUTH_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/groups/:id",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"groups",
												":id"
											],
											"variable": [
												{
													"key": "id",
													"value": "{{TEST_USER1_GROUP_ID}}"
												}
											]
										}
									},
									"response": [
										{
											"name": "Retrieve SCIM Group",
											"originalRequest": {
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/groups/:id",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"groups",
														":id"
													],
													"variable": [
														{
															"key": "id",
															"value": "{{TEST_USER1_GROUP_ID}}"
														}
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 04:42:49 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "1117"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "{\n    \"meta\": {\n        \"resourceType\": \"groups\",\n        \"owner\": \"ba28efd54f14516faa4665a5d6dcff67\",\n        \"ownerType\": \"user\",\n        \"location\": \"https://aibots.gov.sg/latest/groups/6aa208e6c4b05fe78a591c8b8dcddffb\",\n        \"version\": 1,\n        \"created\": \"2024-06-11T03:19:45.364000Z\",\n        \"lastModified\": null,\n        \"deleted\": null,\n        \"archived\": null\n    },\n    \"id\": \"6aa208e6c4b05fe78a591c8b8dcddffb\",\n    \"schemas\": [\n        \"urn:ietf:params:scim:schemas:core:2.0:Group\",\n        \"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"\n    ],\n    \"displayName\": \"Data Science and AI Division (Defunct)\",\n    \"members\": [\n        {\n            \"type\": \"users\",\n            \"$ref\": \"https://sit.aibots.gov.sg/latest/users/04e058973c6252aa8640ca126441e52c\",\n            \"display\": \"Davidtwlee\",\n            \"value\": \"04e058973c6252aa8640ca126441e52c\"\n        }\n    ],\n    \"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\": {\n        \"description\": \"Data Science and AI Division (Defunct)\",\n        \"agency\": null,\n        \"domain\": \"dsaid.gov.sg\",\n        \"apiKeys\": [],\n        \"default\": true,\n        \"parent\": {\n            \"type\": \"parent\",\n            \"$ref\": \"https://aibots.gov.sg/latest/groups/ffceedfbcf445c96aa081b5613faf81b\",\n            \"display\": \"Government Technology Agency\",\n            \"value\": \"ffceedfbcf445c96aa081b5613faf81b\"\n        },\n        \"children\": [],\n        \"administrators\": [],\n        \"details\": {},\n        \"defaultRole\": null,\n        \"allow\": true\n    }\n}"
										}
									]
								},
								{
									"name": "Retrieve User Permissions",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"pm.test(\"Retrieve User Permissions\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.type).to.eql(\"user\");\r",
													"    pm.expect(jsonData.scopes).to.eql([]);\r",
													"    pm.expect(jsonData.item).to.eql(pm.environment.get(\"TEST_USER1_ID\"));\r",
													"    pm.expect(jsonData.groups.length).to.eql(2);\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{AUTH_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/permissions/:type/:id",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"permissions",
												":type",
												":id"
											],
											"variable": [
												{
													"key": "type",
													"value": "user"
												},
												{
													"key": "id",
													"value": "{{TEST_USER1_ID}}"
												}
											]
										}
									},
									"response": [
										{
											"name": "Retrieve User Permissions",
											"originalRequest": {
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/permissions/:type/:id",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"permissions",
														":type",
														":id"
													],
													"variable": [
														{
															"key": "type",
															"value": "user"
														},
														{
															"key": "id",
															"value": "{{TEST_USER1_ID}}"
														}
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 04:43:58 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "150"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "{\n    \"type\": \"user\",\n    \"scopes\": [],\n    \"item\": \"04e058973c6252aa8640ca126441e52c\",\n    \"groups\": [\n        \"ffceedfbcf445c96aa081b5613faf81b\",\n        \"6aa208e6c4b05fe78a591c8b8dcddffb\"\n    ]\n}"
										}
									]
								}
							]
						},
						{
							"name": "Repeated Login via Email OTP",
							"item": [
								{
									"name": "Request Email OTP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 201\", function () {\r",
													"    pm.response.to.have.status(201);\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"email\": \"{{TEST_EMAIL_ADDRESS1}}\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"otp",
												"emails"
											]
										}
									},
									"response": [
										{
											"name": "Request Email OTP",
											"originalRequest": {
												"method": "POST",
												"header": [],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"email\": \"{{TEST_EMAIL_ADDRESS1}}\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"otp",
														"emails"
													]
												}
											},
											"status": "Created",
											"code": 201,
											"_postman_previewlanguage": "plain",
											"header": [
												{
													"key": "date",
													"value": "Sun, 23 Jun 2024 15:51:40 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "transfer-encoding",
													"value": "chunked"
												}
											],
											"cookie": [],
											"body": null
										}
									]
								},
								{
									"name": "Retrieve Email OTPs",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"pm.test(\"Retrieve Email OTPs\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    var last = jsonData.length - 1\r",
													"    pm.expect(jsonData.length).to.be.gte(1);\r",
													"    pm.expect(jsonData[last].id).to.match(/^[0-9a-fA-F]{32}$/gi);\r",
													"    pm.expect(jsonData[last].user).to.match(/^[0-9a-fA-F]{32}$/gi);\r",
													"    pm.expect(jsonData[last].email).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
													"    const required_keys = [\"otp\", \"timestamp\", \"expiry\"];\r",
													"    pm.expect(required_keys.every((v) => Object.keys(jsonData[last]).includes(v))).to.eql(true);\r",
													"    pm.environment.set(\"TEST_OTP\", jsonData[last].otp);\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"otp",
												"emails"
											]
										}
									},
									"response": [
										{
											"name": "Retrieve Email OTPs",
											"originalRequest": {
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"otp",
														"emails"
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 06:54:20 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "225"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[\n    {\n        \"id\": \"5d125e3e24014f87baeb39a6ce6a334a\",\n        \"user\": \"04e058973c6252aa8640ca126441e52c\",\n        \"email\": \"davidtwlee@dsaid.gov.sg\",\n        \"otp\": \"219712\",\n        \"timestamp\": \"2024-07-04T14:54:06.416000+08:00\",\n        \"expiry\": \"2024-07-04T14:54:18.416000+08:00\"\n    }\n]"
										}
									]
								},
								{
									"name": "Login via Email OTP",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 201\", function () {\r",
													"    pm.response.to.have.status(201);\r",
													"});\r",
													"pm.test(\"Successful Login via Email OTP\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{32}$/gi);\r",
													"    pm.expect(jsonData.email).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
													"    pm.expect(jsonData.newUser).to.eql(false);\r",
													"    pm.expect(jsonData.refreshCount).to.eql(0);\r",
													"    pm.expect(jsonData.maxRefresh).to.eql(5);\r",
													"    pm.expect(jsonData.scopes).to.eql([\"*\"]);\r",
													"    pm.expect(jsonData.itemScopes.length).to.eql(3);\r",
													"    pm.expect(jsonData.superuser).to.eql(true);\r",
													"    const required_keys = [\"name\", \"timestamp\", \"token\", \"refreshToken\", \"expiry\", \"issuer\", \"product\", \"refreshCount\", \"maxRefresh\", \"role\"];\r",
													"    pm.expect(required_keys.every((v) => Object.keys(jsonData).includes(v))).to.eql(true);\r",
													"    pm.environment.set(\"REFRESH_TOKEN\", jsonData.refreshToken);\r",
													"    pm.environment.set(\"TEST_USER1_NAME\", jsonData.name);\r",
													"    pm.environment.set(\"TEST_USER1_ID\", jsonData.id);\r",
													"});\r",
													"pm.test(\"Authorization header is present\", function () {\r",
													"    pm.response.to.have.header(\"Authorization\");\r",
													"    pm.environment.set(\"AUTH_TOKEN\", pm.response.headers.get('Authorization').split(' ')[1]);\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"email\": \"{{TEST_EMAIL_ADDRESS1}}\",\r\n    \"otp\": \"{{TEST_OTP}}\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails/logins",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"otp",
												"emails",
												"logins"
											]
										}
									},
									"response": [
										{
											"name": "Login via Email OTP",
											"originalRequest": {
												"method": "POST",
												"header": [],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"email\": \"{{TEST_EMAIL_ADDRESS1}}\",\r\n    \"otp\": \"{{TEST_OTP}}\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails/logins",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"otp",
														"emails",
														"logins"
													]
												}
											},
											"status": "Created",
											"code": 201,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 06:54:56 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "authorization",
													"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJHb3ZUZWNoIiwic3ViIjoiMDRlMDU4OTczYzYyNTJhYTg2NDBjYTEyNjQ0MWU1MmMiLCJhdWQiOiJzaXQuYWlib3RzLmdvdi5zZyIsIm5iZiI6MTcyMDA3NjA5NiwiaWF0IjoxNzIwMDc2MDk2LCJleHAiOjE3MjAwODMyOTYsImp0aSI6IjFmZTZlODc1ZjI2MTQ1NjQ5OTZmZGUyN2MyZmIyYmU0IiwibmFtZSI6IkRhdmlkdHdsZWUiLCJlbWFpbCI6ImRhdmlkdHdsZWVAZHNhaWQuZ292LnNnIiwibmV3X3VzZXIiOmZhbHNlLCJyb2xlIjoiOTA0NDU4NTM5ZDM3NDdiMjlmYmU0NDZkZGFhMDQ2NTIiLCJzdXBlcnVzZXIiOnRydWUsImFnZW5jeSI6ImdvdnRlY2giLCJhdF9oYXNoIjoidE9yV3prVmdxR0JDR3VucnJvc2RxQSJ9.RG8NrlwWORFeAf85g06mwOo3xDpY8yY3LSKPgJkVS_E"
												},
												{
													"key": "content-length",
													"value": "1249"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "{\n    \"name\": \"Davidtwlee\",\n    \"id\": \"04e058973c6252aa8640ca126441e52c\",\n    \"issuer\": \"GovTech\",\n    \"product\": \"sit.aibots.gov.sg\",\n    \"refreshToken\": \"0d08bde3cfcf7538e0bf312127fb9a3a\",\n    \"refreshCount\": 0,\n    \"maxRefresh\": 5,\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJHb3ZUZWNoIiwic3ViIjoiMDRlMDU4OTczYzYyNTJhYTg2NDBjYTEyNjQ0MWU1MmMiLCJhdWQiOiJzaXQuYWlib3RzLmdvdi5zZyIsIm5iZiI6MTcyMDA3NjA5NiwiaWF0IjoxNzIwMDc2MDk2LCJleHAiOjE3MjAwODMyOTYsImp0aSI6IjFmZTZlODc1ZjI2MTQ1NjQ5OTZmZGUyN2MyZmIyYmU0IiwibmFtZSI6IkRhdmlkdHdsZWUiLCJlbWFpbCI6ImRhdmlkdHdsZWVAZHNhaWQuZ292LnNnIiwibmV3X3VzZXIiOmZhbHNlLCJyb2xlIjoiOTA0NDU4NTM5ZDM3NDdiMjlmYmU0NDZkZGFhMDQ2NTIiLCJzdXBlcnVzZXIiOnRydWUsImFnZW5jeSI6ImdvdnRlY2giLCJhdF9oYXNoIjoidE9yV3prVmdxR0JDR3VucnJvc2RxQSJ9.RG8NrlwWORFeAf85g06mwOo3xDpY8yY3LSKPgJkVS_E\",\n    \"scopes\": [\n        \"*\"\n    ],\n    \"itemScopes\": [\n        \"agents.804885b4423e485cb21592c7dfa8baa8:read,allow\",\n        \"chats.804885b4423e485cb21592c7dfa8baa8:create,read,update,delete\",\n        \"messages.804885b4423e485cb21592c7dfa8baa8:create,read,update,delete\"\n    ],\n    \"expiry\": \"2024-07-04T16:54:56.642848+08:00\",\n    \"startUse\": \"2024-07-04T14:54:56.642845+08:00\",\n    \"timestamp\": \"2024-07-04T14:54:56.642919+08:00\",\n    \"email\": \"davidtwlee@dsaid.gov.sg\",\n    \"newUser\": false,\n    \"role\": \"904458539d3747b29fbe446ddaa04652\",\n    \"superuser\": true,\n    \"agency\": \"govtech\"\n}"
										}
									]
								},
								{
									"name": "Retrieve User Logins",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"pm.test(\"Retrieve User Logins\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.length).to.eql(1);\r",
													"\r",
													"    jsonData.forEach(function (x, i) {\r",
													"        pm.expect(x.id).to.match(/^[0-9a-fA-F]{32}$/gi);\r",
													"        pm.expect(x.email).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
													"        pm.expect(x.newUser).to.eql(false);\r",
													"        pm.expect(x.refreshCount).to.eql(0);\r",
													"        pm.expect(x.maxRefresh).to.eql(5);\r",
													"        pm.expect(x.scopes).to.eql([\"*\"]);\r",
													"        pm.expect(x.itemScopes.length).to.eql(3);\r",
													"        pm.expect(x.superuser).to.eql(true);\r",
													"        const required_keys = [\"name\", \"timestamp\", \"expiry\", \"issuer\", \"product\", \"refreshCount\", \"maxRefresh\", \"role\"];\r",
													"        pm.expect(required_keys.every((v) => Object.keys(x).includes(v))).to.eql(true);\r",
													"    });\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{AUTH_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/logins",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"logins"
											]
										}
									},
									"response": [
										{
											"name": "Retrieve User Logins",
											"originalRequest": {
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/logins",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"logins"
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 06:55:35 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "714"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[\n    {\n        \"name\": \"Davidtwlee\",\n        \"id\": \"04e058973c6252aa8640ca126441e52c\",\n        \"issuer\": \"GovTech\",\n        \"product\": \"sit.aibots.gov.sg\",\n        \"refreshToken\": \"0d08bde3cfcf7538e0bf312127fb9a3a\",\n        \"refreshCount\": 0,\n        \"maxRefresh\": 5,\n        \"scopes\": [\n            \"*\"\n        ],\n        \"itemScopes\": [\n            \"agents.804885b4423e485cb21592c7dfa8baa8:read,allow\",\n            \"chats.804885b4423e485cb21592c7dfa8baa8:create,read,update,delete\",\n            \"messages.804885b4423e485cb21592c7dfa8baa8:create,read,update,delete\"\n        ],\n        \"expiry\": \"2024-07-04T16:54:56.642000+08:00\",\n        \"startUse\": \"2024-07-04T14:54:56+08:00\",\n        \"timestamp\": \"2024-07-04T14:54:56.642000+08:00\",\n        \"email\": \"davidtwlee@dsaid.gov.sg\",\n        \"newUser\": false,\n        \"role\": \"904458539d3747b29fbe446ddaa04652\",\n        \"superuser\": true,\n        \"agency\": \"govtech\"\n    }\n]"
										}
									]
								},
								{
									"name": "Retrieve Email OTPs",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"pm.test(\"Retrieve Email OTPs\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.map((x) => x.otp)).to.not.contain(pm.environment.get(\"TEST_OTP\"));\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"otp",
												"emails"
											]
										}
									},
									"response": [
										{
											"name": "Retrieve Email OTPs",
											"originalRequest": {
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"otp",
														"emails"
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Sun, 23 Jun 2024 15:53:51 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "2"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[]"
										}
									]
								}
							]
						},
						{
							"name": "Attempt to refresh Login Tokens",
							"item": [
								{
									"name": "Attempt to refresh User Token with invalid token",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 401\", function () {\r",
													"    pm.response.to.have.status(401);\r",
													"});\r",
													"pm.test(\"Attempt to refresh User Token with invalid refresh token\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.code).to.eql(401);\r",
													"    pm.expect(jsonData.message).to.eql(\"Refresh token provided does not match\");\r",
													"});\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{AUTH_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"token\": \"{{$guid}}\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/refresh",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"refresh"
											]
										}
									},
									"response": [
										{
											"name": "Attempt to refresh User Token with invalid token",
											"originalRequest": {
												"method": "POST",
												"header": [],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"token\": \"{{$guid}}\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/refresh",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"refresh"
													]
												}
											},
											"status": "Unauthorized",
											"code": 401,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Sun, 23 Jun 2024 15:55:51 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "1208"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "{\n    \"code\": 401,\n    \"message\": \"Refresh token provided does not match\",\n    \"request\": {\n        \"url\": \"https://localhost:20002/latest/refresh\",\n        \"headers\": {\n            \"content-type\": \"application/json\",\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJHb3ZUZWNoIiwic3ViIjoiMDRlMDU4OTctM2M2Mi01MmFhLTg2NDAtY2ExMjY0NDFlNTJjIiwiYXVkIjoic2l0LmFpYm90cy5nb3Yuc2ciLCJuYmYiOjE3MTkxNTc5OTYsImlhdCI6MTcxOTE1Nzk5NiwiZXhwIjoxNzE5MTY1MTk2LCJqdGkiOiI4NDU2OTg4NC04YzVlLTQ4ZDUtODIxNi05NmIxYzNlZjQ1MDEiLCJuYW1lIjoiRGF2aWR0d2xlZSIsImVtYWlsIjoiZGF2aWR0d2xlZUBkc2FpZC5nb3Yuc2ciLCJuZXdfdXNlciI6ZmFsc2UsInJvbGUiOiJmNTY3ZDAyNS1kODk3LTRiMzMtYjE4Ny0zZThhOWRjY2E5ZWEiLCJzdXBlcnVzZXIiOnRydWUsImFnZW5jeSI6ImdvdnRlY2giLCJhdF9oYXNoIjoicHlycDU0ZWJOOUZIWjhqYXRyT1pidyJ9.SBz8xqHgOB65IOelz8bnkNIl67pnbDOJoGFXUyIVU3A\",\n            \"user-agent\": \"PostmanRuntime/7.39.0\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"27fe2c35-128e-4739-a74b-416434413085\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\",\n            \"content-length\": \"57\"\n        },\n        \"path_params\": {},\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 48058\n        },\n        \"body\": {\n            \"token\": \"0cb95f86-5f9a-442f-aaa8-16c9c34964dc\"\n        }\n    },\n    \"details\": {\n        \"token\": \"0cb95f86-5f9a-442f-aaa8-16c9c34964dc\"\n    }\n}"
										}
									]
								}
							]
						},
						{
							"name": "Refresh User Token",
							"item": [
								{
									"name": "Refresh User Token",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 201\", function () {\r",
													"    pm.response.to.have.status(201);\r",
													"});\r",
													"pm.test(\"Successful Login via Email OTP\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{32}$/gi);\r",
													"    pm.expect(jsonData.email).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
													"    pm.expect(jsonData.newUser).to.eql(false);\r",
													"    pm.expect(jsonData.refreshCount).to.eql(1);\r",
													"    pm.expect(jsonData.maxRefresh).to.eql(5);\r",
													"    pm.expect(jsonData.scopes).to.eql([\"*\"]);\r",
													"    pm.expect(jsonData.itemScopes.length).to.eql(3);\r",
													"    pm.expect(jsonData.superuser).to.eql(true);\r",
													"    const required_keys = [\"name\", \"timestamp\", \"expiry\", \"issuer\", \"product\", \"refreshCount\", \"maxRefresh\", \"role\"];\r",
													"    pm.expect(required_keys.every((v) => Object.keys(jsonData).includes(v))).to.eql(true);\r",
													"    pm.environment.set(\"REFRESH_TOKEN\", jsonData.refreshToken);\r",
													"});\r",
													"pm.test(\"Authorization token changed\", function () {\r",
													"    pm.response.to.have.header(\"Authorization\");\r",
													"\r",
													"    var newToken = pm.response.headers.get('Authorization').split(' ')[1];\r",
													"    pm.expect(newToken).to.not.eql(pm.environment.get(\"AUTH_TOKEN\"))\r",
													"    pm.environment.set(\"AUTH_TOKEN\", newToken);\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{AUTH_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"token\": \"{{REFRESH_TOKEN}}\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/refresh",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"refresh"
											]
										}
									},
									"response": [
										{
											"name": "Refresh User Token",
											"originalRequest": {
												"method": "POST",
												"header": [],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"token\": \"{{REFRESH_TOKEN}}\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/refresh",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"refresh"
													]
												}
											},
											"status": "Created",
											"code": 201,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 07:01:59 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "authorization",
													"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJHb3ZUZWNoIiwic3ViIjoiMDRlMDU4OTczYzYyNTJhYTg2NDBjYTEyNjQ0MWU1MmMiLCJhdWQiOiJzaXQuYWlib3RzLmdvdi5zZyIsIm5iZiI6MTcyMDA3NjUxOSwiaWF0IjoxNzIwMDc2NTE5LCJleHAiOjE3MjAwODM3MTksImp0aSI6ImRhYmUxMmUwZGMwZTRhZjk5N2UzMTY4NDY0MTYzNTVlIiwibmFtZSI6IkRhdmlkdHdsZWUiLCJlbWFpbCI6ImRhdmlkdHdsZWVAZHNhaWQuZ292LnNnIiwibmV3X3VzZXIiOmZhbHNlLCJyb2xlIjoiYTcwM2IzMzhkNzM3NDYxMDhjZWM5OTA1ZTgwZGEwZDUiLCJzdXBlcnVzZXIiOnRydWUsImFnZW5jeSI6ImdvdnRlY2giLCJhdF9oYXNoIjoiZElsbW1SSGEtdE83SllFMDZHbkpfQSJ9.LOQeQk8O3nBKUjF41gebEcYq3rcKiUSnR-ST_sNigMc"
												},
												{
													"key": "content-length",
													"value": "1298"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "{\n    \"name\": \"Davidtwlee\",\n    \"id\": \"04e058973c6252aa8640ca126441e52c\",\n    \"issuer\": \"GovTech\",\n    \"product\": \"sit.aibots.gov.sg\",\n    \"refreshToken\": \"d2e885c8e65479dd9739a6015e969652\",\n    \"refreshCount\": 1,\n    \"maxRefresh\": 5,\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJHb3ZUZWNoIiwic3ViIjoiMDRlMDU4OTczYzYyNTJhYTg2NDBjYTEyNjQ0MWU1MmMiLCJhdWQiOiJzaXQuYWlib3RzLmdvdi5zZyIsIm5iZiI6MTcyMDA3NjUxOSwiaWF0IjoxNzIwMDc2NTE5LCJleHAiOjE3MjAwODM3MTksImp0aSI6ImRhYmUxMmUwZGMwZTRhZjk5N2UzMTY4NDY0MTYzNTVlIiwibmFtZSI6IkRhdmlkdHdsZWUiLCJlbWFpbCI6ImRhdmlkdHdsZWVAZHNhaWQuZ292LnNnIiwibmV3X3VzZXIiOmZhbHNlLCJyb2xlIjoiYTcwM2IzMzhkNzM3NDYxMDhjZWM5OTA1ZTgwZGEwZDUiLCJzdXBlcnVzZXIiOnRydWUsImFnZW5jeSI6ImdvdnRlY2giLCJhdF9oYXNoIjoiZElsbW1SSGEtdE83SllFMDZHbkpfQSJ9.LOQeQk8O3nBKUjF41gebEcYq3rcKiUSnR-ST_sNigMc\",\n    \"scopes\": [\n        \"*\"\n    ],\n    \"itemScopes\": [\n        \"agents.804885b4423e485cb21592c7dfa8baa8:read,allow\",\n        \"chats.804885b4423e485cb21592c7dfa8baa8:create,read,update,delete\",\n        \"messages.804885b4423e485cb21592c7dfa8baa8:create,read,update,delete\"\n    ],\n    \"expiry\": \"2024-07-04T17:01:59.440078+08:00\",\n    \"startUse\": \"2024-07-04T15:01:59.440075+08:00\",\n    \"timestamp\": \"2024-07-04T15:01:59.440126+08:00\",\n    \"email\": \"davidtwlee@dsaid.gov.sg\",\n    \"newUser\": false,\n    \"role\": \"a703b338d73746108cec9905e80da0d5\",\n    \"superuser\": true,\n    \"agency\": \"govtech\"\n}"
										}
									]
								},
								{
									"name": "Retrieve User Logins",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"pm.test(\"Retrieve User Logins\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.length).to.eql(1);\r",
													"\r",
													"    jsonData.forEach(function (x, i) {\r",
													"        pm.expect(x.id).to.match(/^[0-9a-fA-F]{32}$/gi);\r",
													"        pm.expect(x.email).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
													"        pm.expect(x.newUser).to.eql(false);\r",
													"        pm.expect(x.refreshCount).to.eql(1);\r",
													"        pm.expect(x.maxRefresh).to.eql(5);\r",
													"        pm.expect(x.scopes).to.eql([\"*\"]);\r",
													"        pm.expect(x.itemScopes.length).to.eql(3);\r",
													"        pm.expect(x.superuser).to.eql(true);\r",
													"        const required_keys = [\"name\", \"timestamp\", \"expiry\", \"issuer\", \"product\", \"refreshCount\", \"maxRefresh\", \"role\"];\r",
													"        pm.expect(required_keys.every((v) => Object.keys(x).includes(v))).to.eql(true);\r",
													"    });\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{AUTH_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/logins",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"logins"
											]
										}
									},
									"response": [
										{
											"name": "Retrieve User Logins",
											"originalRequest": {
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/logins",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"logins"
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 07:06:16 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "714"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[\n    {\n        \"name\": \"Davidtwlee\",\n        \"id\": \"04e058973c6252aa8640ca126441e52c\",\n        \"issuer\": \"GovTech\",\n        \"product\": \"sit.aibots.gov.sg\",\n        \"refreshToken\": \"2a5528dd45e012229e2b5965fe0bb31b\",\n        \"refreshCount\": 1,\n        \"maxRefresh\": 5,\n        \"scopes\": [\n            \"*\"\n        ],\n        \"itemScopes\": [\n            \"agents.804885b4423e485cb21592c7dfa8baa8:read,allow\",\n            \"chats.804885b4423e485cb21592c7dfa8baa8:create,read,update,delete\",\n            \"messages.804885b4423e485cb21592c7dfa8baa8:create,read,update,delete\"\n        ],\n        \"expiry\": \"2024-07-04T17:06:11.992000+08:00\",\n        \"startUse\": \"2024-07-04T15:06:11+08:00\",\n        \"timestamp\": \"2024-07-04T15:06:11.992000+08:00\",\n        \"email\": \"davidtwlee@dsaid.gov.sg\",\n        \"newUser\": false,\n        \"role\": \"f72ad921aa5245d3bea545e473aa8816\",\n        \"superuser\": true,\n        \"agency\": \"govtech\",\n        \"start_use\": \"2024-07-04T07:06:11.992000Z\"\n    }\n]"
										}
									]
								},
								{
									"name": "Refresh User Token",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 201\", function () {\r",
													"    pm.response.to.have.status(201);\r",
													"});\r",
													"pm.test(\"Successful Login via Email OTP\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{32}$/gi);\r",
													"    pm.expect(jsonData.email).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
													"    pm.expect(jsonData.newUser).to.eql(false);\r",
													"    pm.expect(jsonData.refreshCount).to.eql(2);\r",
													"    pm.expect(jsonData.maxRefresh).to.eql(5);\r",
													"    pm.expect(jsonData.scopes).to.eql([\"*\"]);\r",
													"    pm.expect(jsonData.itemScopes.length).to.eql(3);\r",
													"    pm.expect(jsonData.superuser).to.eql(true);\r",
													"    const required_keys = [\"name\", \"timestamp\", \"expiry\", \"issuer\", \"product\", \"refreshCount\", \"maxRefresh\", \"role\"];\r",
													"    pm.expect(required_keys.every((v) => Object.keys(jsonData).includes(v))).to.eql(true);\r",
													"    pm.environment.set(\"REFRESH_TOKEN\", jsonData.refreshToken);\r",
													"});\r",
													"pm.test(\"Authorization token changed\", function () {\r",
													"    pm.response.to.have.header(\"Authorization\");\r",
													"\r",
													"    var newToken = pm.response.headers.get('Authorization').split(' ')[1];\r",
													"    pm.expect(newToken).to.not.eql(pm.environment.get(\"AUTH_TOKEN\"))\r",
													"    pm.environment.set(\"AUTH_TOKEN\", newToken);\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{AUTH_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"token\": \"{{REFRESH_TOKEN}}\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/refresh",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"refresh"
											]
										}
									},
									"response": [
										{
											"name": "Refresh User Token",
											"originalRequest": {
												"method": "POST",
												"header": [],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"token\": \"{{REFRESH_TOKEN}}\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/refresh",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"refresh"
													]
												}
											},
											"status": "Created",
											"code": 201,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 07:07:56 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "authorization",
													"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJHb3ZUZWNoIiwic3ViIjoiMDRlMDU4OTczYzYyNTJhYTg2NDBjYTEyNjQ0MWU1MmMiLCJhdWQiOiJzaXQuYWlib3RzLmdvdi5zZyIsIm5iZiI6MTcyMDA3Njg3NywiaWF0IjoxNzIwMDc2ODc3LCJleHAiOjE3MjAwODQwNzcsImp0aSI6ImMwNmE5NTE4OTcwYjQ2Yzc5MmZmOTBhMWQyMmM0NzM2IiwibmFtZSI6IkRhdmlkdHdsZWUiLCJlbWFpbCI6ImRhdmlkdHdsZWVAZHNhaWQuZ292LnNnIiwibmV3X3VzZXIiOmZhbHNlLCJyb2xlIjoiZjcyYWQ5MjFhYTUyNDVkM2JlYTU0NWU0NzNhYTg4MTYiLCJzdXBlcnVzZXIiOnRydWUsImFnZW5jeSI6ImdvdnRlY2giLCJhdF9oYXNoIjoiMnFhd3RWYTRCd2sxbGFnQWhBaGkyUSJ9.4MvjSTDmewpLIv3Kgz1PFIBPL0fgOE7n0Zz-blhJtBk"
												},
												{
													"key": "content-length",
													"value": "1249"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "{\n    \"name\": \"Davidtwlee\",\n    \"id\": \"04e058973c6252aa8640ca126441e52c\",\n    \"issuer\": \"GovTech\",\n    \"product\": \"sit.aibots.gov.sg\",\n    \"refreshToken\": \"d785f3a15bc9b456703e033b72097bef\",\n    \"refreshCount\": 2,\n    \"maxRefresh\": 5,\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJHb3ZUZWNoIiwic3ViIjoiMDRlMDU4OTczYzYyNTJhYTg2NDBjYTEyNjQ0MWU1MmMiLCJhdWQiOiJzaXQuYWlib3RzLmdvdi5zZyIsIm5iZiI6MTcyMDA3Njg3NywiaWF0IjoxNzIwMDc2ODc3LCJleHAiOjE3MjAwODQwNzcsImp0aSI6ImMwNmE5NTE4OTcwYjQ2Yzc5MmZmOTBhMWQyMmM0NzM2IiwibmFtZSI6IkRhdmlkdHdsZWUiLCJlbWFpbCI6ImRhdmlkdHdsZWVAZHNhaWQuZ292LnNnIiwibmV3X3VzZXIiOmZhbHNlLCJyb2xlIjoiZjcyYWQ5MjFhYTUyNDVkM2JlYTU0NWU0NzNhYTg4MTYiLCJzdXBlcnVzZXIiOnRydWUsImFnZW5jeSI6ImdvdnRlY2giLCJhdF9oYXNoIjoiMnFhd3RWYTRCd2sxbGFnQWhBaGkyUSJ9.4MvjSTDmewpLIv3Kgz1PFIBPL0fgOE7n0Zz-blhJtBk\",\n    \"scopes\": [\n        \"*\"\n    ],\n    \"itemScopes\": [\n        \"agents.804885b4423e485cb21592c7dfa8baa8:read,allow\",\n        \"chats.804885b4423e485cb21592c7dfa8baa8:create,read,update,delete\",\n        \"messages.804885b4423e485cb21592c7dfa8baa8:create,read,update,delete\"\n    ],\n    \"expiry\": \"2024-07-04T17:07:57.542625+08:00\",\n    \"startUse\": \"2024-07-04T15:07:57.542622+08:00\",\n    \"timestamp\": \"2024-07-04T15:07:57.542664+08:00\",\n    \"email\": \"davidtwlee@dsaid.gov.sg\",\n    \"newUser\": false,\n    \"role\": \"f72ad921aa5245d3bea545e473aa8816\",\n    \"superuser\": true,\n    \"agency\": \"govtech\"\n}"
										}
									]
								},
								{
									"name": "Retrieve User Logins",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"pm.test(\"Retrieve User Logins\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.length).to.eql(1);\r",
													"\r",
													"    jsonData.forEach(function (x, i) {\r",
													"        pm.expect(x.id).to.match(/^[0-9a-fA-F]{32}$/gi);\r",
													"        pm.expect(x.email).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
													"        pm.expect(x.newUser).to.eql(false);\r",
													"        pm.expect(x.refreshCount).to.eql(2);\r",
													"        pm.expect(x.maxRefresh).to.eql(5);\r",
													"        pm.expect(x.scopes).to.eql([\"*\"]);\r",
													"        pm.expect(x.itemScopes.length).to.eql(3);\r",
													"        pm.expect(x.superuser).to.eql(true);\r",
													"        const required_keys = [\"name\", \"timestamp\", \"expiry\", \"issuer\", \"product\", \"refreshCount\", \"maxRefresh\", \"role\"];\r",
													"        pm.expect(required_keys.every((v) => Object.keys(x).includes(v))).to.eql(true);\r",
													"    });\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{AUTH_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/logins",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"logins"
											]
										}
									},
									"response": [
										{
											"name": "Retrieve User Logins",
											"originalRequest": {
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/logins",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"logins"
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 07:08:11 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "633"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[\n    {\n        \"name\": \"Davidtwlee\",\n        \"id\": \"04e058973c6252aa8640ca126441e52c\",\n        \"issuer\": \"GovTech\",\n        \"product\": \"sit.aibots.gov.sg\",\n        \"refreshToken\": \"d785f3a15bc9b456703e033b72097bef\",\n        \"refreshCount\": 2,\n        \"maxRefresh\": 5,\n        \"scopes\": [\n            \"*\"\n        ],\n        \"itemScopes\": [\n            \"agents.804885b4423e485cb21592c7dfa8baa8:read,allow\",\n            \"chats.804885b4423e485cb21592c7dfa8baa8:create,read,update,delete\",\n            \"messages.804885b4423e485cb21592c7dfa8baa8:create,read,update,delete\"\n        ],\n        \"expiry\": \"2024-07-04T17:07:57.542000+08:00\",\n        \"timestamp\": \"2024-07-04T15:07:57.542000+08:00\",\n        \"email\": \"davidtwlee@dsaid.gov.sg\",\n        \"newUser\": false,\n        \"role\": \"f72ad921aa5245d3bea545e473aa8816\",\n        \"superuser\": true,\n        \"agency\": \"govtech\"\n    }\n]"
										}
									]
								},
								{
									"name": "Refresh User Token",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 201\", function () {\r",
													"    pm.response.to.have.status(201);\r",
													"});\r",
													"pm.test(\"Successful Login via Email OTP\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{32}$/gi);\r",
													"    pm.expect(jsonData.email).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
													"    pm.expect(jsonData.newUser).to.eql(false);\r",
													"    pm.expect(jsonData.refreshCount).to.eql(3);\r",
													"    pm.expect(jsonData.maxRefresh).to.eql(5);\r",
													"    pm.expect(jsonData.scopes).to.eql([\"*\"]);\r",
													"    pm.expect(jsonData.itemScopes.length).to.eql(3);\r",
													"    pm.expect(jsonData.superuser).to.eql(true);\r",
													"    const required_keys = [\"name\", \"timestamp\", \"expiry\", \"issuer\", \"product\", \"refreshCount\", \"maxRefresh\", \"role\"];\r",
													"    pm.expect(required_keys.every((v) => Object.keys(jsonData).includes(v))).to.eql(true);\r",
													"    pm.environment.set(\"REFRESH_TOKEN\", jsonData.refreshToken);\r",
													"});\r",
													"pm.test(\"Authorization token changed\", function () {\r",
													"    pm.response.to.have.header(\"Authorization\");\r",
													"\r",
													"    var newToken = pm.response.headers.get('Authorization').split(' ')[1];\r",
													"    pm.expect(newToken).to.not.eql(pm.environment.get(\"AUTH_TOKEN\"))\r",
													"    pm.environment.set(\"AUTH_TOKEN\", newToken);\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{AUTH_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"token\": \"{{REFRESH_TOKEN}}\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/refresh",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"refresh"
											]
										}
									},
									"response": [
										{
											"name": "Refresh User Token",
											"originalRequest": {
												"method": "POST",
												"header": [],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"token\": \"{{REFRESH_TOKEN}}\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/refresh",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"refresh"
													]
												}
											},
											"status": "Created",
											"code": 201,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 07:08:24 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "authorization",
													"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJHb3ZUZWNoIiwic3ViIjoiMDRlMDU4OTczYzYyNTJhYTg2NDBjYTEyNjQ0MWU1MmMiLCJhdWQiOiJzaXQuYWlib3RzLmdvdi5zZyIsIm5iZiI6MTcyMDA3NjkwNCwiaWF0IjoxNzIwMDc2OTA0LCJleHAiOjE3MjAwODQxMDQsImp0aSI6IjY5NTU3YWJkZjMyNjQyMjE4ZTc5YWVlNDQ3MTAyNTAzIiwibmFtZSI6IkRhdmlkdHdsZWUiLCJlbWFpbCI6ImRhdmlkdHdsZWVAZHNhaWQuZ292LnNnIiwibmV3X3VzZXIiOmZhbHNlLCJyb2xlIjoiZjcyYWQ5MjFhYTUyNDVkM2JlYTU0NWU0NzNhYTg4MTYiLCJzdXBlcnVzZXIiOnRydWUsImFnZW5jeSI6ImdvdnRlY2giLCJhdF9oYXNoIjoiLWxkSzNiZEQzTGJsTGZ2LWYxa1JudyJ9.jzUDFRSk-Ivn-VvoyUFIvRYHg0gHXGSJut2z9WhE0gI"
												},
												{
													"key": "content-length",
													"value": "1249"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "{\n    \"name\": \"Davidtwlee\",\n    \"id\": \"04e058973c6252aa8640ca126441e52c\",\n    \"issuer\": \"GovTech\",\n    \"product\": \"sit.aibots.gov.sg\",\n    \"refreshToken\": \"bfdd14cc4304dfd42a26ad1408318b38\",\n    \"refreshCount\": 3,\n    \"maxRefresh\": 5,\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJHb3ZUZWNoIiwic3ViIjoiMDRlMDU4OTczYzYyNTJhYTg2NDBjYTEyNjQ0MWU1MmMiLCJhdWQiOiJzaXQuYWlib3RzLmdvdi5zZyIsIm5iZiI6MTcyMDA3NjkwNCwiaWF0IjoxNzIwMDc2OTA0LCJleHAiOjE3MjAwODQxMDQsImp0aSI6IjY5NTU3YWJkZjMyNjQyMjE4ZTc5YWVlNDQ3MTAyNTAzIiwibmFtZSI6IkRhdmlkdHdsZWUiLCJlbWFpbCI6ImRhdmlkdHdsZWVAZHNhaWQuZ292LnNnIiwibmV3X3VzZXIiOmZhbHNlLCJyb2xlIjoiZjcyYWQ5MjFhYTUyNDVkM2JlYTU0NWU0NzNhYTg4MTYiLCJzdXBlcnVzZXIiOnRydWUsImFnZW5jeSI6ImdvdnRlY2giLCJhdF9oYXNoIjoiLWxkSzNiZEQzTGJsTGZ2LWYxa1JudyJ9.jzUDFRSk-Ivn-VvoyUFIvRYHg0gHXGSJut2z9WhE0gI\",\n    \"scopes\": [\n        \"*\"\n    ],\n    \"itemScopes\": [\n        \"agents.804885b4423e485cb21592c7dfa8baa8:read,allow\",\n        \"chats.804885b4423e485cb21592c7dfa8baa8:create,read,update,delete\",\n        \"messages.804885b4423e485cb21592c7dfa8baa8:create,read,update,delete\"\n    ],\n    \"expiry\": \"2024-07-04T17:08:24.993637+08:00\",\n    \"startUse\": \"2024-07-04T15:08:24.993634+08:00\",\n    \"timestamp\": \"2024-07-04T15:08:24.993677+08:00\",\n    \"email\": \"davidtwlee@dsaid.gov.sg\",\n    \"newUser\": false,\n    \"role\": \"f72ad921aa5245d3bea545e473aa8816\",\n    \"superuser\": true,\n    \"agency\": \"govtech\"\n}"
										}
									]
								},
								{
									"name": "Retrieve User Logins",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"pm.test(\"Retrieve User Logins\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.length).to.eql(1);\r",
													"\r",
													"    jsonData.forEach(function (x, i) {\r",
													"        pm.expect(x.id).to.match(/^[0-9a-fA-F]{32}$/gi);\r",
													"        pm.expect(x.email).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
													"        pm.expect(x.newUser).to.eql(false);\r",
													"        pm.expect(x.refreshCount).to.eql(3);\r",
													"        pm.expect(x.maxRefresh).to.eql(5);\r",
													"        pm.expect(x.scopes).to.eql([\"*\"]);\r",
													"        pm.expect(x.itemScopes.length).to.eql(3);\r",
													"        pm.expect(x.superuser).to.eql(true);\r",
													"        const required_keys = [\"name\", \"timestamp\", \"expiry\", \"issuer\", \"product\", \"refreshCount\", \"maxRefresh\", \"role\"];\r",
													"        pm.expect(required_keys.every((v) => Object.keys(x).includes(v))).to.eql(true);\r",
													"    });\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{AUTH_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/logins",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"logins"
											]
										}
									},
									"response": [
										{
											"name": "Retrieve User Logins",
											"originalRequest": {
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/logins",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"logins"
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 07:08:38 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "633"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[\n    {\n        \"name\": \"Davidtwlee\",\n        \"id\": \"04e058973c6252aa8640ca126441e52c\",\n        \"issuer\": \"GovTech\",\n        \"product\": \"sit.aibots.gov.sg\",\n        \"refreshToken\": \"bfdd14cc4304dfd42a26ad1408318b38\",\n        \"refreshCount\": 3,\n        \"maxRefresh\": 5,\n        \"scopes\": [\n            \"*\"\n        ],\n        \"itemScopes\": [\n            \"agents.804885b4423e485cb21592c7dfa8baa8:read,allow\",\n            \"chats.804885b4423e485cb21592c7dfa8baa8:create,read,update,delete\",\n            \"messages.804885b4423e485cb21592c7dfa8baa8:create,read,update,delete\"\n        ],\n        \"expiry\": \"2024-07-04T17:08:24.993000+08:00\",\n        \"timestamp\": \"2024-07-04T15:08:24.993000+08:00\",\n        \"email\": \"davidtwlee@dsaid.gov.sg\",\n        \"newUser\": false,\n        \"role\": \"f72ad921aa5245d3bea545e473aa8816\",\n        \"superuser\": true,\n        \"agency\": \"govtech\"\n    }\n]"
										}
									]
								},
								{
									"name": "Refresh User Token",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 201\", function () {\r",
													"    pm.response.to.have.status(201);\r",
													"});\r",
													"pm.test(\"Successful Login via Email OTP\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{32}$/gi);\r",
													"    pm.expect(jsonData.email).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
													"    pm.expect(jsonData.newUser).to.eql(false);\r",
													"    pm.expect(jsonData.refreshCount).to.eql(4);\r",
													"    pm.expect(jsonData.maxRefresh).to.eql(5);\r",
													"    pm.expect(jsonData.scopes).to.eql([\"*\"]);\r",
													"    pm.expect(jsonData.itemScopes.length).to.eql(3);\r",
													"    pm.expect(jsonData.superuser).to.eql(true);\r",
													"    const required_keys = [\"name\", \"timestamp\", \"expiry\", \"issuer\", \"product\", \"refreshCount\", \"maxRefresh\", \"role\"];\r",
													"    pm.expect(required_keys.every((v) => Object.keys(jsonData).includes(v))).to.eql(true);\r",
													"    pm.environment.set(\"REFRESH_TOKEN\", jsonData.refreshToken);\r",
													"});\r",
													"pm.test(\"Authorization token changed\", function () {\r",
													"    pm.response.to.have.header(\"Authorization\");\r",
													"\r",
													"    var newToken = pm.response.headers.get('Authorization').split(' ')[1];\r",
													"    pm.expect(newToken).to.not.eql(pm.environment.get(\"AUTH_TOKEN\"))\r",
													"    pm.environment.set(\"AUTH_TOKEN\", newToken);\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{AUTH_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"token\": \"{{REFRESH_TOKEN}}\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/refresh",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"refresh"
											]
										}
									},
									"response": [
										{
											"name": "Refresh User Token",
											"originalRequest": {
												"method": "POST",
												"header": [],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"token\": \"{{REFRESH_TOKEN}}\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/refresh",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"refresh"
													]
												}
											},
											"status": "Created",
											"code": 201,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 07:08:49 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "authorization",
													"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJHb3ZUZWNoIiwic3ViIjoiMDRlMDU4OTczYzYyNTJhYTg2NDBjYTEyNjQ0MWU1MmMiLCJhdWQiOiJzaXQuYWlib3RzLmdvdi5zZyIsIm5iZiI6MTcyMDA3NjkyOSwiaWF0IjoxNzIwMDc2OTI5LCJleHAiOjE3MjAwODQxMjksImp0aSI6IjNjYTZhYWZjZjJkYzQ5NDI4ZTc5ZGZhYmU0ZWM4OTg3IiwibmFtZSI6IkRhdmlkdHdsZWUiLCJlbWFpbCI6ImRhdmlkdHdsZWVAZHNhaWQuZ292LnNnIiwibmV3X3VzZXIiOmZhbHNlLCJyb2xlIjoiZjcyYWQ5MjFhYTUyNDVkM2JlYTU0NWU0NzNhYTg4MTYiLCJzdXBlcnVzZXIiOnRydWUsImFnZW5jeSI6ImdvdnRlY2giLCJhdF9oYXNoIjoicEY5OVNUOUU3U0p3MnN5YkNWc0RZdyJ9.vftpJH1gVIM4taq3scXCSTALJnoXlBQsb3Ns-MWcJ8Y"
												},
												{
													"key": "content-length",
													"value": "1249"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "{\n    \"name\": \"Davidtwlee\",\n    \"id\": \"04e058973c6252aa8640ca126441e52c\",\n    \"issuer\": \"GovTech\",\n    \"product\": \"sit.aibots.gov.sg\",\n    \"refreshToken\": \"862ad5d0fad4341532227752dc8212fb\",\n    \"refreshCount\": 4,\n    \"maxRefresh\": 5,\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJHb3ZUZWNoIiwic3ViIjoiMDRlMDU4OTczYzYyNTJhYTg2NDBjYTEyNjQ0MWU1MmMiLCJhdWQiOiJzaXQuYWlib3RzLmdvdi5zZyIsIm5iZiI6MTcyMDA3NjkyOSwiaWF0IjoxNzIwMDc2OTI5LCJleHAiOjE3MjAwODQxMjksImp0aSI6IjNjYTZhYWZjZjJkYzQ5NDI4ZTc5ZGZhYmU0ZWM4OTg3IiwibmFtZSI6IkRhdmlkdHdsZWUiLCJlbWFpbCI6ImRhdmlkdHdsZWVAZHNhaWQuZ292LnNnIiwibmV3X3VzZXIiOmZhbHNlLCJyb2xlIjoiZjcyYWQ5MjFhYTUyNDVkM2JlYTU0NWU0NzNhYTg4MTYiLCJzdXBlcnVzZXIiOnRydWUsImFnZW5jeSI6ImdvdnRlY2giLCJhdF9oYXNoIjoicEY5OVNUOUU3U0p3MnN5YkNWc0RZdyJ9.vftpJH1gVIM4taq3scXCSTALJnoXlBQsb3Ns-MWcJ8Y\",\n    \"scopes\": [\n        \"*\"\n    ],\n    \"itemScopes\": [\n        \"agents.804885b4423e485cb21592c7dfa8baa8:read,allow\",\n        \"chats.804885b4423e485cb21592c7dfa8baa8:create,read,update,delete\",\n        \"messages.804885b4423e485cb21592c7dfa8baa8:create,read,update,delete\"\n    ],\n    \"expiry\": \"2024-07-04T17:08:49.783251+08:00\",\n    \"startUse\": \"2024-07-04T15:08:49.783247+08:00\",\n    \"timestamp\": \"2024-07-04T15:08:49.783323+08:00\",\n    \"email\": \"davidtwlee@dsaid.gov.sg\",\n    \"newUser\": false,\n    \"role\": \"f72ad921aa5245d3bea545e473aa8816\",\n    \"superuser\": true,\n    \"agency\": \"govtech\"\n}"
										}
									]
								},
								{
									"name": "Retrieve User Logins",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"pm.test(\"Retrieve User Logins\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.length).to.eql(1);\r",
													"\r",
													"    jsonData.forEach(function (x, i) {\r",
													"        pm.expect(x.id).to.match(/^[0-9a-fA-F]{32}$/gi);\r",
													"        pm.expect(x.email).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
													"        pm.expect(x.newUser).to.eql(false);\r",
													"        pm.expect(x.refreshCount).to.eql(4);\r",
													"        pm.expect(x.maxRefresh).to.eql(5);\r",
													"        pm.expect(x.scopes).to.eql([\"*\"]);\r",
													"        pm.expect(x.itemScopes.length).to.eql(3);\r",
													"        pm.expect(x.superuser).to.eql(true);\r",
													"        const required_keys = [\"name\", \"timestamp\", \"expiry\", \"issuer\", \"product\", \"refreshCount\", \"maxRefresh\", \"role\"];\r",
													"        pm.expect(required_keys.every((v) => Object.keys(x).includes(v))).to.eql(true);\r",
													"    });\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{AUTH_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/logins",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"logins"
											]
										}
									},
									"response": [
										{
											"name": "Retrieve User Logins",
											"originalRequest": {
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/logins",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"logins"
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 07:08:59 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "633"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[\n    {\n        \"name\": \"Davidtwlee\",\n        \"id\": \"04e058973c6252aa8640ca126441e52c\",\n        \"issuer\": \"GovTech\",\n        \"product\": \"sit.aibots.gov.sg\",\n        \"refreshToken\": \"862ad5d0fad4341532227752dc8212fb\",\n        \"refreshCount\": 4,\n        \"maxRefresh\": 5,\n        \"scopes\": [\n            \"*\"\n        ],\n        \"itemScopes\": [\n            \"agents.804885b4423e485cb21592c7dfa8baa8:read,allow\",\n            \"chats.804885b4423e485cb21592c7dfa8baa8:create,read,update,delete\",\n            \"messages.804885b4423e485cb21592c7dfa8baa8:create,read,update,delete\"\n        ],\n        \"expiry\": \"2024-07-04T17:08:49.783000+08:00\",\n        \"timestamp\": \"2024-07-04T15:08:49.783000+08:00\",\n        \"email\": \"davidtwlee@dsaid.gov.sg\",\n        \"newUser\": false,\n        \"role\": \"f72ad921aa5245d3bea545e473aa8816\",\n        \"superuser\": true,\n        \"agency\": \"govtech\"\n    }\n]"
										}
									]
								},
								{
									"name": "Refresh User Token",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 201\", function () {\r",
													"    pm.response.to.have.status(201);\r",
													"});\r",
													"pm.test(\"Successful Login via Email OTP\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{32}$/gi);\r",
													"    pm.expect(jsonData.email).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
													"    pm.expect(jsonData.newUser).to.eql(false);\r",
													"    pm.expect(jsonData.refreshCount).to.eql(5);\r",
													"    pm.expect(jsonData.maxRefresh).to.eql(5);\r",
													"    pm.expect(jsonData.scopes).to.eql([\"*\"]);\r",
													"    pm.expect(jsonData.itemScopes.length).to.eql(3);\r",
													"    pm.expect(jsonData.superuser).to.eql(true);\r",
													"    const required_keys = [\"name\", \"timestamp\", \"expiry\", \"issuer\", \"product\", \"refreshCount\", \"maxRefresh\", \"role\"];\r",
													"    pm.expect(required_keys.every((v) => Object.keys(jsonData).includes(v))).to.eql(true);\r",
													"    pm.environment.set(\"REFRESH_TOKEN\", jsonData.refreshToken);\r",
													"});\r",
													"pm.test(\"Authorization token changed\", function () {\r",
													"    pm.response.to.have.header(\"Authorization\");\r",
													"\r",
													"    var newToken = pm.response.headers.get('Authorization').split(' ')[1];\r",
													"    pm.expect(newToken).to.not.eql(pm.environment.get(\"AUTH_TOKEN\"))\r",
													"    pm.environment.set(\"AUTH_TOKEN\", newToken);\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{AUTH_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"token\": \"{{REFRESH_TOKEN}}\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/refresh",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"refresh"
											]
										}
									},
									"response": [
										{
											"name": "Refresh User Token",
											"originalRequest": {
												"method": "POST",
												"header": [],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"token\": \"{{REFRESH_TOKEN}}\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/refresh",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"refresh"
													]
												}
											},
											"status": "Created",
											"code": 201,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 07:09:10 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "authorization",
													"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJHb3ZUZWNoIiwic3ViIjoiMDRlMDU4OTczYzYyNTJhYTg2NDBjYTEyNjQ0MWU1MmMiLCJhdWQiOiJzaXQuYWlib3RzLmdvdi5zZyIsIm5iZiI6MTcyMDA3Njk1MCwiaWF0IjoxNzIwMDc2OTUwLCJleHAiOjE3MjAwODQxNTAsImp0aSI6ImI1MTUwYTI4NmQ3NzRjMTE4NmU0Mzc3OTAwMzczMGZiIiwibmFtZSI6IkRhdmlkdHdsZWUiLCJlbWFpbCI6ImRhdmlkdHdsZWVAZHNhaWQuZ292LnNnIiwibmV3X3VzZXIiOmZhbHNlLCJyb2xlIjoiZjcyYWQ5MjFhYTUyNDVkM2JlYTU0NWU0NzNhYTg4MTYiLCJzdXBlcnVzZXIiOnRydWUsImFnZW5jeSI6ImdvdnRlY2giLCJhdF9oYXNoIjoidFg2YmRiNjNYRUM3LTZZU1p5VmNUUSJ9.WcEtbAsHaFiY6wfWBnEGdIVjJvTkDCrsCSKLt4H4fUM"
												},
												{
													"key": "content-length",
													"value": "1249"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "{\n    \"name\": \"Davidtwlee\",\n    \"id\": \"04e058973c6252aa8640ca126441e52c\",\n    \"issuer\": \"GovTech\",\n    \"product\": \"sit.aibots.gov.sg\",\n    \"refreshToken\": \"57544d5c494cfded216f0538d9ed418e\",\n    \"refreshCount\": 5,\n    \"maxRefresh\": 5,\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJHb3ZUZWNoIiwic3ViIjoiMDRlMDU4OTczYzYyNTJhYTg2NDBjYTEyNjQ0MWU1MmMiLCJhdWQiOiJzaXQuYWlib3RzLmdvdi5zZyIsIm5iZiI6MTcyMDA3Njk1MCwiaWF0IjoxNzIwMDc2OTUwLCJleHAiOjE3MjAwODQxNTAsImp0aSI6ImI1MTUwYTI4NmQ3NzRjMTE4NmU0Mzc3OTAwMzczMGZiIiwibmFtZSI6IkRhdmlkdHdsZWUiLCJlbWFpbCI6ImRhdmlkdHdsZWVAZHNhaWQuZ292LnNnIiwibmV3X3VzZXIiOmZhbHNlLCJyb2xlIjoiZjcyYWQ5MjFhYTUyNDVkM2JlYTU0NWU0NzNhYTg4MTYiLCJzdXBlcnVzZXIiOnRydWUsImFnZW5jeSI6ImdvdnRlY2giLCJhdF9oYXNoIjoidFg2YmRiNjNYRUM3LTZZU1p5VmNUUSJ9.WcEtbAsHaFiY6wfWBnEGdIVjJvTkDCrsCSKLt4H4fUM\",\n    \"scopes\": [\n        \"*\"\n    ],\n    \"itemScopes\": [\n        \"agents.804885b4423e485cb21592c7dfa8baa8:read,allow\",\n        \"chats.804885b4423e485cb21592c7dfa8baa8:create,read,update,delete\",\n        \"messages.804885b4423e485cb21592c7dfa8baa8:create,read,update,delete\"\n    ],\n    \"expiry\": \"2024-07-04T17:09:10.300136+08:00\",\n    \"startUse\": \"2024-07-04T15:09:10.300133+08:00\",\n    \"timestamp\": \"2024-07-04T15:09:10.300183+08:00\",\n    \"email\": \"davidtwlee@dsaid.gov.sg\",\n    \"newUser\": false,\n    \"role\": \"f72ad921aa5245d3bea545e473aa8816\",\n    \"superuser\": true,\n    \"agency\": \"govtech\"\n}"
										}
									]
								},
								{
									"name": "Retrieve User Logins",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"pm.test(\"Retrieve User Logins\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.length).to.eql(1);\r",
													"\r",
													"    jsonData.forEach(function (x, i) {\r",
													"        pm.expect(x.id).to.match(/^[0-9a-fA-F]{32}$/gi);\r",
													"        pm.expect(x.email).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
													"        pm.expect(x.newUser).to.eql(false);\r",
													"        pm.expect(x.refreshCount).to.eql(5);\r",
													"        pm.expect(x.maxRefresh).to.eql(5);\r",
													"        pm.expect(x.scopes).to.eql([\"*\"]);\r",
													"        pm.expect(x.itemScopes.length).to.eql(3);\r",
													"        pm.expect(x.superuser).to.eql(true);\r",
													"        const required_keys = [\"name\", \"timestamp\", \"expiry\", \"issuer\", \"product\", \"refreshCount\", \"maxRefresh\", \"role\"];\r",
													"        pm.expect(required_keys.every((v) => Object.keys(x).includes(v))).to.eql(true);\r",
													"    });\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{AUTH_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/logins",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"logins"
											]
										}
									},
									"response": [
										{
											"name": "Retrieve User Logins",
											"originalRequest": {
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/logins",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"logins"
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 07:09:22 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "633"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[\n    {\n        \"name\": \"Davidtwlee\",\n        \"id\": \"04e058973c6252aa8640ca126441e52c\",\n        \"issuer\": \"GovTech\",\n        \"product\": \"sit.aibots.gov.sg\",\n        \"refreshToken\": \"57544d5c494cfded216f0538d9ed418e\",\n        \"refreshCount\": 5,\n        \"maxRefresh\": 5,\n        \"scopes\": [\n            \"*\"\n        ],\n        \"itemScopes\": [\n            \"agents.804885b4423e485cb21592c7dfa8baa8:read,allow\",\n            \"chats.804885b4423e485cb21592c7dfa8baa8:create,read,update,delete\",\n            \"messages.804885b4423e485cb21592c7dfa8baa8:create,read,update,delete\"\n        ],\n        \"expiry\": \"2024-07-04T17:09:10.300000+08:00\",\n        \"timestamp\": \"2024-07-04T15:09:10.300000+08:00\",\n        \"email\": \"davidtwlee@dsaid.gov.sg\",\n        \"newUser\": false,\n        \"role\": \"f72ad921aa5245d3bea545e473aa8816\",\n        \"superuser\": true,\n        \"agency\": \"govtech\"\n    }\n]"
										}
									]
								}
							]
						},
						{
							"name": "Attempt to refresh Login Tokens more than allowable attempts",
							"item": [
								{
									"name": "Attempt to refresh User Token beyond maximum allowable attempts",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 401\", function () {\r",
													"    pm.response.to.have.status(401);\r",
													"});\r",
													"pm.test(\"Attempt to refresh User Token with invalid refresh token\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.code).to.eql(401);\r",
													"    pm.expect(jsonData.message).to.eql(\"Exceeded number of allowable token refresh attempts\");\r",
													"});\r",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{AUTH_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"token\": \"{{REFRESH_TOKEN}}\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/refresh",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"refresh"
											]
										}
									},
									"response": [
										{
											"name": "Attempt to refresh User Token beyond maximum allowable attempts",
											"originalRequest": {
												"method": "POST",
												"header": [],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"token\": \"{{REFRESH_TOKEN}}\"\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/refresh",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"refresh"
													]
												}
											},
											"status": "Unauthorized",
											"code": 401,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Sun, 23 Jun 2024 16:03:47 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "1172"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "{\n    \"code\": 401,\n    \"message\": \"Exceeded number of allowable token refresh attempts\",\n    \"request\": {\n        \"url\": \"https://localhost:20002/latest/refresh\",\n        \"headers\": {\n            \"content-type\": \"application/json\",\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJHb3ZUZWNoIiwic3ViIjoiMDRlMDU4OTctM2M2Mi01MmFhLTg2NDAtY2ExMjY0NDFlNTJjIiwiYXVkIjoic2l0LmFpYm90cy5nb3Yuc2ciLCJuYmYiOjE3MTkxNTg1NTUsImlhdCI6MTcxOTE1ODU1NSwiZXhwIjoxNzE5MTY1NzU1LCJqdGkiOiIxOWIxM2QyMC0wY2Q3LTRjYmQtOTc1YS1iY2VhN2U4OGRhY2UiLCJuYW1lIjoiRGF2aWR0d2xlZSIsImVtYWlsIjoiZGF2aWR0d2xlZUBkc2FpZC5nb3Yuc2ciLCJuZXdfdXNlciI6ZmFsc2UsInJvbGUiOiJmNTY3ZDAyNS1kODk3LTRiMzMtYjE4Ny0zZThhOWRjY2E5ZWEiLCJzdXBlcnVzZXIiOnRydWUsImFnZW5jeSI6ImdvdnRlY2giLCJhdF9oYXNoIjoiMFdsZ045MG9CUXk5R0YydWVCTXpaUSJ9.mJ3CtpOqBB219LcBjT7njG9XTNe7sWpbVbie5xchZv8\",\n            \"user-agent\": \"PostmanRuntime/7.39.0\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"896f87bb-f125-43fc-bfb4-86ec1ca1b407\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\",\n            \"content-length\": \"53\"\n        },\n        \"path_params\": {},\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 33398\n        },\n        \"body\": {\n            \"token\": \"d299abf6bd40032e9fc6439876ddedcb\"\n        }\n    },\n    \"details\": {}\n}"
										}
									]
								}
							]
						}
					]
				},
				{
					"name": "Create unverified Users",
					"item": [
						{
							"name": "Attempt to create unverified user",
							"item": [
								{
									"name": "Attempt to create unverified user with existing user",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code is 409\", function () {",
													"    pm.response.to.have.status(409);",
													"});",
													"pm.test(\"Attempt to create unverified user with existing user\", function() {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.code).to.eql(409);",
													"    pm.expect(jsonData.message).to.eql(\"Users already exist\");",
													"    pm.expect(jsonData.details.emails).to.eql([pm.environment.get(\"TEST_EMAIL_ADDRESS1\"), pm.environment.get(\"TEST_EMAIL_ADDRESS2\"), pm.environment.get(\"TEST_EMAIL_ADDRESS3\")]);",
													"});",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{AUTH_TOKEN}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\"{{TEST_EMAIL_ADDRESS1}}\", \"{{TEST_EMAIL_ADDRESS2}}\", \"{{TEST_EMAIL_ADDRESS3}}\"]",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/users/unverified",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"users",
												"unverified"
											]
										}
									},
									"response": [
										{
											"name": "Attempt to create unverified user with existing user",
											"originalRequest": {
												"method": "POST",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{AUTH_TOKEN}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\"{{TEST_EMAIL_ADDRESS1}}\", \"{{TEST_EMAIL_ADDRESS2}}\", \"{{TEST_EMAIL_ADDRESS3}}\"]",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/users/unverified",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"users",
														"unverified"
													]
												}
											},
											"status": "Conflict",
											"code": 409,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Sun, 23 Jun 2024 16:12:14 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "1282"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "{\n    \"code\": 409,\n    \"message\": \"Users already exist\",\n    \"request\": {\n        \"url\": \"https://localhost:20002/latest/users/unverified\",\n        \"headers\": {\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJHb3ZUZWNoIiwic3ViIjoiMDRlMDU4OTctM2M2Mi01MmFhLTg2NDAtY2ExMjY0NDFlNTJjIiwiYXVkIjoic2l0LmFpYm90cy5nb3Yuc2ciLCJuYmYiOjE3MTkxNTg1NTUsImlhdCI6MTcxOTE1ODU1NSwiZXhwIjoxNzE5MTY1NzU1LCJqdGkiOiIxOWIxM2QyMC0wY2Q3LTRjYmQtOTc1YS1iY2VhN2U4OGRhY2UiLCJuYW1lIjoiRGF2aWR0d2xlZSIsImVtYWlsIjoiZGF2aWR0d2xlZUBkc2FpZC5nb3Yuc2ciLCJuZXdfdXNlciI6ZmFsc2UsInJvbGUiOiJmNTY3ZDAyNS1kODk3LTRiMzMtYjE4Ny0zZThhOWRjY2E5ZWEiLCJzdXBlcnVzZXIiOnRydWUsImFnZW5jeSI6ImdvdnRlY2giLCJhdF9oYXNoIjoiMFdsZ045MG9CUXk5R0YydWVCTXpaUSJ9.mJ3CtpOqBB219LcBjT7njG9XTNe7sWpbVbie5xchZv8\",\n            \"content-type\": \"application/json\",\n            \"user-agent\": \"PostmanRuntime/7.39.0\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"4679a635-d11d-47a0-9312-2ae0dc64737c\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\",\n            \"content-length\": \"86\"\n        },\n        \"path_params\": {},\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 54464\n        },\n        \"body\": [\n            \"davidtwlee@dsaid.gov.sg\",\n            \"david_tw_lee@tech.gov.sg\",\n            \"kieu_quoc_thang@tech.gov.sg\"\n        ]\n    },\n    \"details\": {\n        \"emails\": [\n            \"davidtwlee@dsaid.gov.sg\",\n            \"david_tw_lee@tech.gov.sg\",\n            \"kieu_quoc_thang@tech.gov.sg\"\n        ]\n    }\n}"
										}
									]
								},
								{
									"name": "Attempt to create unverified user with non-government email",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"pm.test(\"Attempt to create unverified user with non-government emails\", function() {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.code).to.eql(400);",
													"    pm.expect(jsonData.message).to.eql(\"Attempting to create unverified users belonging to unauthorised group\");",
													"    pm.expect(jsonData.details.emails).to.eql([pm.environment.get(\"TEST_INVALID_EMAIL_ADDRESS\"), pm.environment.get(\"TEST_EMAIL_ADDRESS2\"), pm.environment.get(\"TEST_EMAIL_ADDRESS3\")]);",
													"});",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{AUTH_TOKEN}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\"{{TEST_INVALID_EMAIL_ADDRESS}}\", \"{{TEST_EMAIL_ADDRESS2}}\", \"{{TEST_EMAIL_ADDRESS3}}\"]",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/users/unverified",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"users",
												"unverified"
											]
										}
									},
									"response": [
										{
											"name": "Attempt to create unverified user with non-government email",
											"originalRequest": {
												"method": "POST",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{AUTH_TOKEN}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\"{{TEST_INVALID_EMAIL_ADDRESS}}\", \"{{TEST_EMAIL_ADDRESS2}}\", \"{{TEST_EMAIL_ADDRESS3}}\"]",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/users/unverified",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"users",
														"unverified"
													]
												}
											},
											"status": "Bad Request",
											"code": 400,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 07:11:01 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "1373"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "{\n    \"code\": 400,\n    \"message\": \"Attempting to create unverified users belonging to unauthorised group\",\n    \"request\": {\n        \"url\": \"https://localhost:20002/latest/users/unverified\",\n        \"headers\": {\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJHb3ZUZWNoIiwic3ViIjoiMDRlMDU4OTczYzYyNTJhYTg2NDBjYTEyNjQ0MWU1MmMiLCJhdWQiOiJzaXQuYWlib3RzLmdvdi5zZyIsIm5iZiI6MTcyMDA3Njk1MCwiaWF0IjoxNzIwMDc2OTUwLCJleHAiOjE3MjAwODQxNTAsImp0aSI6ImI1MTUwYTI4NmQ3NzRjMTE4NmU0Mzc3OTAwMzczMGZiIiwibmFtZSI6IkRhdmlkdHdsZWUiLCJlbWFpbCI6ImRhdmlkdHdsZWVAZHNhaWQuZ292LnNnIiwibmV3X3VzZXIiOmZhbHNlLCJyb2xlIjoiZjcyYWQ5MjFhYTUyNDVkM2JlYTU0NWU0NzNhYTg4MTYiLCJzdXBlcnVzZXIiOnRydWUsImFnZW5jeSI6ImdvdnRlY2giLCJhdF9oYXNoIjoidFg2YmRiNjNYRUM3LTZZU1p5VmNUUSJ9.WcEtbAsHaFiY6wfWBnEGdIVjJvTkDCrsCSKLt4H4fUM\",\n            \"content-type\": \"application/json\",\n            \"user-agent\": \"PostmanRuntime/7.39.0\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"a2167085-1abd-4c87-9738-07ced24d9a2e\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\",\n            \"content-length\": \"114\"\n        },\n        \"path_params\": {},\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 44792\n        },\n        \"body\": [\n            \"test-3ef5d12b-ab83-4c3e-9b0b-987514d1cabe@gmail.com\",\n            \"david_tw_lee@tech.gov.sg\",\n            \"kieu_quoc_thang@tech.gov.sg\"\n        ]\n    },\n    \"details\": {\n        \"emails\": [\n            \"test-3ef5d12b-ab83-4c3e-9b0b-987514d1cabe@gmail.com\",\n            \"david_tw_lee@tech.gov.sg\",\n            \"kieu_quoc_thang@tech.gov.sg\"\n        ]\n    }\n}"
										}
									]
								}
							]
						},
						{
							"name": "Create unverified users",
							"item": [
								{
									"name": "Create unverified users",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code is 201\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"pm.test(\"Create unverified users\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData[0].email).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS2\"));",
													"    pm.expect(jsonData[1].email).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS3\"));",
													"    pm.expect(jsonData[2].email).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS4\"));",
													"    ",
													"    pm.environment.set(\"TEST_UNVERIFIED_USER1_ID\", jsonData[0].id);",
													"    pm.environment.set(\"TEST_UNVERIFIED_USER2_ID\", jsonData[1].id);",
													"    pm.environment.set(\"TEST_UNVERIFIED_USER3_ID\", jsonData[2].id);",
													"});",
													"",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{AUTH_TOKEN}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\"{{TEST_EMAIL_ADDRESS2}}\", \"{{TEST_EMAIL_ADDRESS3}}\", \"{{TEST_EMAIL_ADDRESS4}}\"]",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/users/unverified",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"users",
												"unverified"
											]
										}
									},
									"response": [
										{
											"name": "Create unverified users",
											"originalRequest": {
												"method": "POST",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{AUTH_TOKEN}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\"{{TEST_EMAIL_ADDRESS2}}\", \"{{TEST_EMAIL_ADDRESS3}}\", \"{{TEST_EMAIL_ADDRESS4}}\"]",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/users/unverified",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"users",
														"unverified"
													]
												}
											},
											"status": "Created",
											"code": 201,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Sun, 23 Jun 2024 16:19:40 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "249"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[\n    {\n        \"id\": \"ba28efd5-4f14-516f-aa46-65a5d6dcff67\",\n        \"email\": \"david_tw_lee@tech.gov.sg\"\n    },\n    {\n        \"id\": \"c0fdd683-da18-554f-8934-5f51186e13c3\",\n        \"email\": \"kieu_quoc_thang@tech.gov.sg\"\n    },\n    {\n        \"id\": \"6b5a3491-6492-5083-83cd-9f7849953733\",\n        \"email\": \"quocthangkieu@dsaid.gov.sg\"\n    }\n]"
										}
									]
								},
								{
									"name": "Retrieve users",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Create unverified users\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.length).to.eql(4);",
													"",
													"    pm.expect(jsonData[0].emails[0].value).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));",
													"    pm.expect(jsonData[1].emails[0].value).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS2\"));",
													"    pm.expect(jsonData[2].emails[0].value).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS3\"));",
													"    pm.expect(jsonData[3].emails[0].value).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS4\"));",
													"    pm.environment.set(\"TEST_UNVERIFIED_USER1_ID\", jsonData[1].id);",
													"    pm.environment.set(\"TEST_UNVERIFIED_USER2_ID\", jsonData[2].id);",
													"    pm.environment.set(\"TEST_UNVERIFIED_USER3_ID\", jsonData[3].id);",
													"});",
													"",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{AUTH_TOKEN}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\"{{TEST_EMAIL_ADDRESS2}}\", \"{{TEST_EMAIL_ADDRESS3}}\", \"{{TEST_EMAIL_ADDRESS4}}\"]",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/users",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"users"
											]
										}
									},
									"response": [
										{
											"name": "Retrieve users",
											"originalRequest": {
												"method": "GET",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{AUTH_TOKEN}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\"{{TEST_EMAIL_ADDRESS2}}\", \"{{TEST_EMAIL_ADDRESS3}}\", \"{{TEST_EMAIL_ADDRESS4}}\"]",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/users",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"users"
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 07:13:52 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "6231"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[\n    {\n        \"meta\": {\n            \"resourceType\": \"users\",\n            \"owner\": \"04e058973c6252aa8640ca126441e52c\",\n            \"ownerType\": \"user\",\n            \"location\": \"https://sit.aibots.gov.sg/latest/users/04e058973c6252aa8640ca126441e52c\",\n            \"version\": 1,\n            \"created\": \"2024-07-04T07:05:52.565000Z\",\n            \"lastModified\": null,\n            \"deleted\": null,\n            \"archived\": null\n        },\n        \"id\": \"04e058973c6252aa8640ca126441e52c\",\n        \"schemas\": [\n            \"urn:ietf:params:scim:schemas:core:2.0:User\",\n            \"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"\n        ],\n        \"externalId\": \"04e058973c6252aa8640ca126441e52c\",\n        \"userName\": \"davidtwlee@dsaid.gov.sg\",\n        \"displayName\": \"Davidtwlee\",\n        \"name\": {\n            \"familyName\": null,\n            \"givenName\": null,\n            \"middleName\": null,\n            \"honorificPrefix\": null,\n            \"honorificSuffix\": null,\n            \"formatted\": \"Davidtwlee\"\n        },\n        \"nickName\": null,\n        \"profileUrl\": null,\n        \"title\": null,\n        \"userType\": null,\n        \"preferredLanguage\": \"en\",\n        \"locale\": \"en_SG\",\n        \"timezone\": \"Singapore\",\n        \"password\": null,\n        \"emails\": [\n            {\n                \"type\": \"Government Email\",\n                \"primary\": true,\n                \"display\": \"davidtwlee@dsaid.gov.sg\",\n                \"value\": \"davidtwlee@dsaid.gov.sg\"\n            }\n        ],\n        \"phoneNumbers\": [],\n        \"ims\": [],\n        \"photos\": [],\n        \"addresses\": [],\n        \"groups\": [\n            {\n                \"type\": \"groups\",\n                \"$ref\": \"https://sit.aibots.gov.sg/latest/groups/6aa208e6c4b05fe78a591c8b8dcddffb\",\n                \"display\": \"Data Science and AI Division (Defunct)\",\n                \"value\": \"6aa208e6c4b05fe78a591c8b8dcddffb\"\n            }\n        ],\n        \"entitlements\": [],\n        \"roles\": [\n            {\n                \"type\": \"rbac\",\n                \"primary\": true,\n                \"display\": \"Superuser\",\n                \"value\": \"f72ad921aa5245d3bea545e473aa8816\"\n            }\n        ],\n        \"x509Certificates\": [],\n        \"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\": {\n            \"description\": \"\",\n            \"agency\": \"govtech\",\n            \"settings\": {},\n            \"favourites\": {},\n            \"details\": {},\n            \"verified\": true,\n            \"apiKeys\": [],\n            \"allow\": true,\n            \"active\": true\n        }\n    },\n    {\n        \"meta\": {\n            \"resourceType\": \"users\",\n            \"owner\": \"ba28efd54f14516faa4665a5d6dcff67\",\n            \"ownerType\": \"user\",\n            \"location\": \"https://sit.aibots.gov.sg/latest/users/ba28efd54f14516faa4665a5d6dcff67\",\n            \"version\": 1,\n            \"created\": \"2024-07-04T07:11:37.621000Z\",\n            \"lastModified\": null,\n            \"deleted\": null,\n            \"archived\": null\n        },\n        \"id\": \"ba28efd54f14516faa4665a5d6dcff67\",\n        \"schemas\": [\n            \"urn:ietf:params:scim:schemas:core:2.0:User\",\n            \"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"\n        ],\n        \"externalId\": \"ba28efd54f14516faa4665a5d6dcff67\",\n        \"userName\": \"david_tw_lee@tech.gov.sg\",\n        \"displayName\": \"David Tw Lee\",\n        \"name\": {\n            \"familyName\": null,\n            \"givenName\": null,\n            \"middleName\": null,\n            \"honorificPrefix\": null,\n            \"honorificSuffix\": null,\n            \"formatted\": \"David Tw Lee\"\n        },\n        \"nickName\": null,\n        \"profileUrl\": null,\n        \"title\": null,\n        \"userType\": null,\n        \"preferredLanguage\": \"en\",\n        \"locale\": \"en_SG\",\n        \"timezone\": \"Singapore\",\n        \"password\": null,\n        \"emails\": [\n            {\n                \"type\": \"Government Email\",\n                \"primary\": true,\n                \"display\": \"david_tw_lee@tech.gov.sg\",\n                \"value\": \"david_tw_lee@tech.gov.sg\"\n            }\n        ],\n        \"phoneNumbers\": [],\n        \"ims\": [],\n        \"photos\": [],\n        \"addresses\": [],\n        \"groups\": [\n            {\n                \"type\": \"groups\",\n                \"$ref\": \"https://sit.aibots.gov.sg/latest/groups/ffceedfbcf445c96aa081b5613faf81b\",\n                \"display\": \"Government Technology Agency\",\n                \"value\": \"ffceedfbcf445c96aa081b5613faf81b\"\n            }\n        ],\n        \"entitlements\": [],\n        \"roles\": [\n            {\n                \"type\": \"rbac\",\n                \"primary\": true,\n                \"display\": \"AIBots User\",\n                \"value\": \"f50b63ab9c0a4b1fb14ddee2a4f6e2f9\"\n            }\n        ],\n        \"x509Certificates\": [],\n        \"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\": {\n            \"description\": \"\",\n            \"agency\": \"govtech\",\n            \"settings\": {},\n            \"favourites\": {},\n            \"details\": {},\n            \"verified\": true,\n            \"apiKeys\": [],\n            \"allow\": true,\n            \"active\": true\n        }\n    },\n    {\n        \"meta\": {\n            \"resourceType\": \"users\",\n            \"owner\": \"c0fdd683da18554f89345f51186e13c3\",\n            \"ownerType\": \"user\",\n            \"location\": \"https://sit.aibots.gov.sg/latest/users/c0fdd683da18554f89345f51186e13c3\",\n            \"version\": 1,\n            \"created\": \"2024-07-04T07:11:37.621000Z\",\n            \"lastModified\": null,\n            \"deleted\": null,\n            \"archived\": null\n        },\n        \"id\": \"c0fdd683da18554f89345f51186e13c3\",\n        \"schemas\": [\n            \"urn:ietf:params:scim:schemas:core:2.0:User\",\n            \"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"\n        ],\n        \"externalId\": \"c0fdd683da18554f89345f51186e13c3\",\n        \"userName\": \"kieu_quoc_thang@tech.gov.sg\",\n        \"displayName\": \"Kieu Quoc Thang\",\n        \"name\": {\n            \"familyName\": null,\n            \"givenName\": null,\n            \"middleName\": null,\n            \"honorificPrefix\": null,\n            \"honorificSuffix\": null,\n            \"formatted\": \"Kieu Quoc Thang\"\n        },\n        \"nickName\": null,\n        \"profileUrl\": null,\n        \"title\": null,\n        \"userType\": null,\n        \"preferredLanguage\": \"en\",\n        \"locale\": \"en_SG\",\n        \"timezone\": \"Singapore\",\n        \"password\": null,\n        \"emails\": [\n            {\n                \"type\": \"Government Email\",\n                \"primary\": true,\n                \"display\": \"kieu_quoc_thang@tech.gov.sg\",\n                \"value\": \"kieu_quoc_thang@tech.gov.sg\"\n            }\n        ],\n        \"phoneNumbers\": [],\n        \"ims\": [],\n        \"photos\": [],\n        \"addresses\": [],\n        \"groups\": [\n            {\n                \"type\": \"groups\",\n                \"$ref\": \"https://sit.aibots.gov.sg/latest/groups/ffceedfbcf445c96aa081b5613faf81b\",\n                \"display\": \"Government Technology Agency\",\n                \"value\": \"ffceedfbcf445c96aa081b5613faf81b\"\n            }\n        ],\n        \"entitlements\": [],\n        \"roles\": [\n            {\n                \"type\": \"rbac\",\n                \"primary\": true,\n                \"display\": \"AIBots User\",\n                \"value\": \"f50b63ab9c0a4b1fb14ddee2a4f6e2f9\"\n            }\n        ],\n        \"x509Certificates\": [],\n        \"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\": {\n            \"description\": \"\",\n            \"agency\": \"govtech\",\n            \"settings\": {},\n            \"favourites\": {},\n            \"details\": {},\n            \"verified\": true,\n            \"apiKeys\": [],\n            \"allow\": true,\n            \"active\": true\n        }\n    },\n    {\n        \"meta\": {\n            \"resourceType\": \"users\",\n            \"owner\": \"6b5a34916492508383cd9f7849953733\",\n            \"ownerType\": \"user\",\n            \"location\": \"https://sit.aibots.gov.sg/latest/users/6b5a34916492508383cd9f7849953733\",\n            \"version\": 1,\n            \"created\": \"2024-07-04T07:11:37.622000Z\",\n            \"lastModified\": null,\n            \"deleted\": null,\n            \"archived\": null\n        },\n        \"id\": \"6b5a34916492508383cd9f7849953733\",\n        \"schemas\": [\n            \"urn:ietf:params:scim:schemas:core:2.0:User\",\n            \"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"\n        ],\n        \"externalId\": \"6b5a34916492508383cd9f7849953733\",\n        \"userName\": \"quocthangkieu@dsaid.gov.sg\",\n        \"displayName\": \"Quocthangkieu\",\n        \"name\": {\n            \"familyName\": null,\n            \"givenName\": null,\n            \"middleName\": null,\n            \"honorificPrefix\": null,\n            \"honorificSuffix\": null,\n            \"formatted\": \"Quocthangkieu\"\n        },\n        \"nickName\": null,\n        \"profileUrl\": null,\n        \"title\": null,\n        \"userType\": null,\n        \"preferredLanguage\": \"en\",\n        \"locale\": \"en_SG\",\n        \"timezone\": \"Singapore\",\n        \"password\": null,\n        \"emails\": [\n            {\n                \"type\": \"Government Email\",\n                \"primary\": true,\n                \"display\": \"quocthangkieu@dsaid.gov.sg\",\n                \"value\": \"quocthangkieu@dsaid.gov.sg\"\n            }\n        ],\n        \"phoneNumbers\": [],\n        \"ims\": [],\n        \"photos\": [],\n        \"addresses\": [],\n        \"groups\": [\n            {\n                \"type\": \"groups\",\n                \"$ref\": \"https://sit.aibots.gov.sg/latest/groups/6aa208e6c4b05fe78a591c8b8dcddffb\",\n                \"display\": \"Data Science and AI Division (Defunct)\",\n                \"value\": \"6aa208e6c4b05fe78a591c8b8dcddffb\"\n            }\n        ],\n        \"entitlements\": [],\n        \"roles\": [\n            {\n                \"type\": \"rbac\",\n                \"primary\": true,\n                \"display\": \"AIBots User\",\n                \"value\": \"f50b63ab9c0a4b1fb14ddee2a4f6e2f9\"\n            }\n        ],\n        \"x509Certificates\": [],\n        \"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\": {\n            \"description\": \"\",\n            \"agency\": \"govtech\",\n            \"settings\": {},\n            \"favourites\": {},\n            \"details\": {},\n            \"verified\": true,\n            \"apiKeys\": [],\n            \"allow\": true,\n            \"active\": true\n        }\n    }\n]"
										}
									]
								},
								{
									"name": "Retrieve Unverified User 1",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"pm.test(\"Retrieve unverified User 1\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER1_ID\"));",
													"    pm.expect(jsonData.externalId).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER1_ID\"));",
													"    pm.expect(jsonData.userName).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS2\"));",
													"    pm.expect(jsonData.preferredLanguage).to.eql(\"en\");",
													"    pm.expect(jsonData.locale).to.eql(\"en_SG\");",
													"    pm.expect(jsonData.timezone).to.eql(\"Singapore\");",
													"    pm.expect(jsonData.emails.length).to.eql(1);",
													"    pm.expect(jsonData.emails[0].value).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS2\"));",
													"    pm.expect(jsonData.groups.length).to.eql(1);",
													"    pm.expect(jsonData.groups[0].display).to.eql(\"Government Technology Agency (GOVTECH)\");",
													"    pm.expect(jsonData.roles.length).to.eql(1);",
													"    pm.expect(jsonData.roles[0].display).to.eql(\"AIBots User\");",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"].agency).to.eql(\"govtech\");",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"].verified).to.eql(false);",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"].allow).to.eql(true);",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"].active).to.eql(false);",
													"    var required_keys = [\"description\", \"settings\", \"favourites\", \"details\", \"apiKeys\"];",
													"    pm.expect(required_keys.every((v) => Object.keys(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"]).includes(v))).to.eql(true);",
													"    pm.expect(jsonData.meta.resourceType).to.eql(\"users\");",
													"    pm.expect(jsonData.meta.owner).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER1_ID\"));",
													"    pm.expect(jsonData.meta.ownerType).to.eql(\"user\");",
													"    pm.expect(jsonData.meta.location).to.match(new RegExp(\"/latest/users/\" + pm.environment.get(\"TEST_UNVERIFIED_USER1_ID\")));",
													"    pm.expect(jsonData.meta.version).to.eql(1);",
													"    pm.expect(jsonData.meta.created).to.not.eql(null);",
													"    pm.expect(jsonData.meta.lastModified).to.eql(null);",
													"    pm.expect(jsonData.meta.deleted).to.eql(null);",
													"    pm.expect(jsonData.meta.archived).to.eql(null);",
													"    required_keys = [\"schemas\", \"name\", \"displayName\", \"nickName\", \"profileUrl\", \"title\", \"userType\", \"password\", \"phoneNumbers\", \"ims\", \"photos\", \"addresses\", \"groups\", \"entitlements\", \"x509Certificates\"];",
													"    pm.expect(required_keys.every((v) => Object.keys(jsonData).includes(v))).to.eql(true);",
													"    pm.environment.set(\"TEST_UNVERIFIED_USER1_NAME\", jsonData.displayName);",
													"    pm.environment.set(\"TEST_UNVERIFIED_USER1_GROUP_ID\", jsonData.groups[0].value);",
													"});",
													"",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{AUTH_TOKEN}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\"{{TEST_EMAIL_ADDRESS2}}\", \"{{TEST_EMAIL_ADDRESS3}}\", \"{{TEST_EMAIL_ADDRESS4}}\"]",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/users/:id",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"users",
												":id"
											],
											"variable": [
												{
													"key": "id",
													"value": "{{TEST_UNVERIFIED_USER1_ID}}"
												}
											]
										}
									},
									"response": [
										{
											"name": "Retrieve Unverified User 1",
											"originalRequest": {
												"method": "GET",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{AUTH_TOKEN}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\"{{TEST_EMAIL_ADDRESS2}}\", \"{{TEST_EMAIL_ADDRESS3}}\", \"{{TEST_EMAIL_ADDRESS4}}\"]",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/users/:id",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"users",
														":id"
													],
													"variable": [
														{
															"key": "id",
															"value": "{{TEST_UNVERIFIED_USER1_ID}}"
														}
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 07:28:52 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "1550"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "{\n    \"meta\": {\n        \"resourceType\": \"users\",\n        \"owner\": \"ba28efd54f14516faa4665a5d6dcff67\",\n        \"ownerType\": \"user\",\n        \"location\": \"https://sit.aibots.gov.sg/latest/users/ba28efd54f14516faa4665a5d6dcff67\",\n        \"version\": 1,\n        \"created\": \"2024-07-04T07:28:39.109000Z\",\n        \"lastModified\": null,\n        \"deleted\": null,\n        \"archived\": null\n    },\n    \"id\": \"ba28efd54f14516faa4665a5d6dcff67\",\n    \"schemas\": [\n        \"urn:ietf:params:scim:schemas:core:2.0:User\",\n        \"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"\n    ],\n    \"externalId\": \"ba28efd54f14516faa4665a5d6dcff67\",\n    \"userName\": \"david_tw_lee@tech.gov.sg\",\n    \"displayName\": \"David Tw Lee\",\n    \"name\": {\n        \"familyName\": null,\n        \"givenName\": null,\n        \"middleName\": null,\n        \"honorificPrefix\": null,\n        \"honorificSuffix\": null,\n        \"formatted\": \"David Tw Lee\"\n    },\n    \"nickName\": null,\n    \"profileUrl\": null,\n    \"title\": null,\n    \"userType\": null,\n    \"preferredLanguage\": \"en\",\n    \"locale\": \"en_SG\",\n    \"timezone\": \"Singapore\",\n    \"password\": null,\n    \"emails\": [\n        {\n            \"type\": \"Government Email\",\n            \"primary\": true,\n            \"display\": \"david_tw_lee@tech.gov.sg\",\n            \"value\": \"david_tw_lee@tech.gov.sg\"\n        }\n    ],\n    \"phoneNumbers\": [],\n    \"ims\": [],\n    \"photos\": [],\n    \"addresses\": [],\n    \"groups\": [\n        {\n            \"type\": \"groups\",\n            \"$ref\": \"https://sit.aibots.gov.sg/latest/groups/ffceedfbcf445c96aa081b5613faf81b\",\n            \"display\": \"Government Technology Agency (GOVTECH)\",\n            \"value\": \"ffceedfbcf445c96aa081b5613faf81b\"\n        }\n    ],\n    \"entitlements\": [],\n    \"roles\": [\n        {\n            \"type\": \"rbac\",\n            \"primary\": true,\n            \"display\": \"AIBots User\",\n            \"value\": \"f50b63ab9c0a4b1fb14ddee2a4f6e2f9\"\n        }\n    ],\n    \"x509Certificates\": [],\n    \"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\": {\n        \"description\": \"\",\n        \"agency\": \"govtech\",\n        \"settings\": {},\n        \"favourites\": {},\n        \"details\": {},\n        \"verified\": false,\n        \"apiKeys\": [],\n        \"allow\": true,\n        \"active\": false\n    }\n}"
										}
									]
								},
								{
									"name": "Retrieve Unverified User 1 Group",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"pm.test(\"Retrieve SCIM Group\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER1_GROUP_ID\"));\r",
													"    pm.expect(jsonData.displayName).to.eql(\"Government Technology Agency (GOVTECH)\");\r",
													"    pm.expect(jsonData.members.length).to.eql(2);\r",
													"    pm.expect(jsonData.members[0].display).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER1_NAME\"));\r",
													"    pm.expect(jsonData.members[0].value).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER1_ID\"));\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"].description).to.eql(\"Government Technology Agency (GOVTECH)\");\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"].agency).to.eql(\"govtech\");\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"].parent).to.eql(null);\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"].defaultRole).to.eql(null);\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"].allow).to.eql(true);\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"].domain).to.eql(\"tech.gov.sg\");\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"].default).to.eql(true);\r",
													"    var required_keys = [\"children\", \"details\", \"administrators\", \"apiKeys\"];\r",
													"    pm.expect(required_keys.every((v) => Object.keys(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"]).includes(v))).to.eql(true);\r",
													"    pm.expect(jsonData.meta.resourceType).to.eql(\"groups\");\r",
													"    pm.expect(jsonData.meta.ownerType).to.eql(\"user\");\r",
													"    pm.expect(jsonData.meta.location).to.match(new RegExp(\"/latest/groups/\" + pm.environment.get(\"TEST_UNVERIFIED_USER1_GROUP_ID\")));\r",
													"    pm.expect(jsonData.meta.version).to.eql(1);\r",
													"    pm.expect(jsonData.meta.created).to.not.eql(null);\r",
													"    pm.expect(jsonData.meta.lastModified).to.eql(null);\r",
													"    pm.expect(jsonData.meta.deleted).to.eql(null);\r",
													"    pm.expect(jsonData.meta.archived).to.eql(null);\r",
													"    required_keys = [\"schemas\"];\r",
													"    pm.expect(required_keys.every((v) => Object.keys(jsonData).includes(v))).to.eql(true);\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{AUTH_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/groups/:id",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"groups",
												":id"
											],
											"variable": [
												{
													"key": "id",
													"value": "{{TEST_UNVERIFIED_USER1_GROUP_ID}}"
												}
											]
										}
									},
									"response": [
										{
											"name": "Retrieve Unverified User 1 Group",
											"originalRequest": {
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/groups/:id",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"groups",
														":id"
													],
													"variable": [
														{
															"key": "id",
															"value": "{{TEST_UNVERIFIED_USER1_GROUP_ID}}"
														}
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 07:29:00 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "1460"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "{\n    \"meta\": {\n        \"resourceType\": \"groups\",\n        \"owner\": \"ba28efd54f14516faa4665a5d6dcff67\",\n        \"ownerType\": \"user\",\n        \"location\": \"https://aibots.gov.sg/latest/groups/ffceedfbcf445c96aa081b5613faf81b\",\n        \"version\": 1,\n        \"created\": \"2024-06-11T03:19:45.364000Z\",\n        \"lastModified\": null,\n        \"deleted\": null,\n        \"archived\": null\n    },\n    \"id\": \"ffceedfbcf445c96aa081b5613faf81b\",\n    \"schemas\": [\n        \"urn:ietf:params:scim:schemas:core:2.0:Group\",\n        \"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"\n    ],\n    \"displayName\": \"Government Technology Agency (GOVTECH)\",\n    \"members\": [\n        {\n            \"type\": \"users\",\n            \"$ref\": \"https://sit.aibots.gov.sg/latest/users/ba28efd54f14516faa4665a5d6dcff67\",\n            \"display\": \"David Tw Lee\",\n            \"value\": \"ba28efd54f14516faa4665a5d6dcff67\"\n        },\n        {\n            \"type\": \"users\",\n            \"$ref\": \"https://sit.aibots.gov.sg/latest/users/c0fdd683da18554f89345f51186e13c3\",\n            \"display\": \"Kieu Quoc Thang\",\n            \"value\": \"c0fdd683da18554f89345f51186e13c3\"\n        }\n    ],\n    \"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\": {\n        \"description\": \"Government Technology Agency (GOVTECH)\",\n        \"agency\": \"govtech\",\n        \"domain\": \"tech.gov.sg\",\n        \"apiKeys\": [],\n        \"default\": true,\n        \"parent\": null,\n        \"children\": [\n            {\n                \"type\": \"child\",\n                \"$ref\": \"https://aibots.gov.sg/latest/groups/6aa208e6c4b05fe78a591c8b8dcddffb\",\n                \"display\": \"Data Science and AI Division (Defunct)\",\n                \"value\": \"6aa208e6c4b05fe78a591c8b8dcddffb\"\n            },\n            {\n                \"type\": \"child\",\n                \"$ref\": \"https://aibots.gov.sg/latest/groups/58f647763e0859a89f82d8dac6a866c3\",\n                \"display\": \"Open Government Products\",\n                \"value\": \"58f647763e0859a89f82d8dac6a866c3\"\n            }\n        ],\n        \"administrators\": [],\n        \"details\": {},\n        \"defaultRole\": null,\n        \"allow\": true\n    }\n}"
										}
									]
								},
								{
									"name": "Retrieve Unverified User 1 Permissions",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"pm.test(\"Retrieve User Permissions\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.type).to.eql(\"user\");\r",
													"    pm.expect(jsonData.scopes).to.eql([]);\r",
													"    pm.expect(jsonData.item).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER1_ID\"));\r",
													"    pm.expect(jsonData.groups.length).to.eql(1);\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{AUTH_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/permissions/:type/:id",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"permissions",
												":type",
												":id"
											],
											"variable": [
												{
													"key": "type",
													"value": "user"
												},
												{
													"key": "id",
													"value": "{{TEST_UNVERIFIED_USER1_ID}}"
												}
											]
										}
									},
									"response": [
										{
											"name": "Retrieve Unverified User 1 Permissions",
											"originalRequest": {
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/permissions/:type/:id",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"permissions",
														":type",
														":id"
													],
													"variable": [
														{
															"key": "type",
															"value": "user"
														},
														{
															"key": "id",
															"value": "{{TEST_UNVERIFIED_USER1_ID}}"
														}
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 07:29:08 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "115"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "{\n    \"type\": \"user\",\n    \"scopes\": [],\n    \"item\": \"ba28efd54f14516faa4665a5d6dcff67\",\n    \"groups\": [\n        \"ffceedfbcf445c96aa081b5613faf81b\"\n    ]\n}"
										}
									]
								},
								{
									"name": "Retrieve Unverified User 2",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"pm.test(\"Retrieve unverified User 2\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER2_ID\"));",
													"    pm.expect(jsonData.externalId).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER2_ID\"));",
													"    pm.expect(jsonData.userName).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS3\"));",
													"    pm.expect(jsonData.userName).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS3\"));",
													"    pm.expect(jsonData.preferredLanguage).to.eql(\"en\");",
													"    pm.expect(jsonData.locale).to.eql(\"en_SG\");",
													"    pm.expect(jsonData.timezone).to.eql(\"Singapore\");",
													"    pm.expect(jsonData.emails.length).to.eql(1);",
													"    pm.expect(jsonData.emails[0].value).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS3\"));",
													"    pm.expect(jsonData.groups.length).to.eql(1);",
													"    pm.expect(jsonData.groups[0].display).to.eql(\"Government Technology Agency (GOVTECH)\");",
													"    pm.expect(jsonData.roles.length).to.eql(1);",
													"    pm.expect(jsonData.roles[0].display).to.eql(\"AIBots User\");",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"].agency).to.eql(\"govtech\");",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"].verified).to.eql(false);",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"].allow).to.eql(true);",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"].active).to.eql(false);",
													"    var required_keys = [\"description\", \"settings\", \"favourites\", \"details\", \"apiKeys\"];",
													"    pm.expect(required_keys.every((v) => Object.keys(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"]).includes(v))).to.eql(true);",
													"    pm.expect(jsonData.meta.resourceType).to.eql(\"users\");",
													"    pm.expect(jsonData.meta.owner).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER2_ID\"));",
													"    pm.expect(jsonData.meta.ownerType).to.eql(\"user\");",
													"    pm.expect(jsonData.meta.location).to.match(new RegExp(\"/latest/users/\" + pm.environment.get(\"TEST_UNVERIFIED_USER2_ID\")));",
													"    pm.expect(jsonData.meta.version).to.eql(1);",
													"    pm.expect(jsonData.meta.created).to.not.eql(null);",
													"    pm.expect(jsonData.meta.lastModified).to.eql(null);",
													"    pm.expect(jsonData.meta.deleted).to.eql(null);",
													"    pm.expect(jsonData.meta.archived).to.eql(null);",
													"    required_keys = [\"schemas\", \"name\", \"displayName\", \"nickName\", \"profileUrl\", \"title\", \"userType\", \"password\", \"phoneNumbers\", \"ims\", \"photos\", \"addresses\", \"groups\", \"entitlements\", \"x509Certificates\"];",
													"    pm.expect(required_keys.every((v) => Object.keys(jsonData).includes(v))).to.eql(true);",
													"    pm.environment.set(\"TEST_UNVERIFIED_USER2_NAME\", jsonData.displayName);",
													"    pm.environment.set(\"TEST_UNVERIFIED_USER2_GROUP_ID\", jsonData.groups[0].value);",
													"});",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{AUTH_TOKEN}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\"{{TEST_EMAIL_ADDRESS2}}\", \"{{TEST_EMAIL_ADDRESS3}}\", \"{{TEST_EMAIL_ADDRESS4}}\"]",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/users/:id",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"users",
												":id"
											],
											"variable": [
												{
													"key": "id",
													"value": "{{TEST_UNVERIFIED_USER2_ID}}"
												}
											]
										}
									},
									"response": [
										{
											"name": "Retrieve Unverified User 2",
											"originalRequest": {
												"method": "GET",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{AUTH_TOKEN}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\"{{TEST_EMAIL_ADDRESS2}}\", \"{{TEST_EMAIL_ADDRESS3}}\", \"{{TEST_EMAIL_ADDRESS4}}\"]",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/users/:id",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"users",
														":id"
													],
													"variable": [
														{
															"key": "id",
															"value": "{{TEST_UNVERIFIED_USER2_ID}}"
														}
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 07:29:18 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "1565"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "{\n    \"meta\": {\n        \"resourceType\": \"users\",\n        \"owner\": \"c0fdd683da18554f89345f51186e13c3\",\n        \"ownerType\": \"user\",\n        \"location\": \"https://sit.aibots.gov.sg/latest/users/c0fdd683da18554f89345f51186e13c3\",\n        \"version\": 1,\n        \"created\": \"2024-07-04T07:28:39.109000Z\",\n        \"lastModified\": null,\n        \"deleted\": null,\n        \"archived\": null\n    },\n    \"id\": \"c0fdd683da18554f89345f51186e13c3\",\n    \"schemas\": [\n        \"urn:ietf:params:scim:schemas:core:2.0:User\",\n        \"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"\n    ],\n    \"externalId\": \"c0fdd683da18554f89345f51186e13c3\",\n    \"userName\": \"kieu_quoc_thang@tech.gov.sg\",\n    \"displayName\": \"Kieu Quoc Thang\",\n    \"name\": {\n        \"familyName\": null,\n        \"givenName\": null,\n        \"middleName\": null,\n        \"honorificPrefix\": null,\n        \"honorificSuffix\": null,\n        \"formatted\": \"Kieu Quoc Thang\"\n    },\n    \"nickName\": null,\n    \"profileUrl\": null,\n    \"title\": null,\n    \"userType\": null,\n    \"preferredLanguage\": \"en\",\n    \"locale\": \"en_SG\",\n    \"timezone\": \"Singapore\",\n    \"password\": null,\n    \"emails\": [\n        {\n            \"type\": \"Government Email\",\n            \"primary\": true,\n            \"display\": \"kieu_quoc_thang@tech.gov.sg\",\n            \"value\": \"kieu_quoc_thang@tech.gov.sg\"\n        }\n    ],\n    \"phoneNumbers\": [],\n    \"ims\": [],\n    \"photos\": [],\n    \"addresses\": [],\n    \"groups\": [\n        {\n            \"type\": \"groups\",\n            \"$ref\": \"https://sit.aibots.gov.sg/latest/groups/ffceedfbcf445c96aa081b5613faf81b\",\n            \"display\": \"Government Technology Agency (GOVTECH)\",\n            \"value\": \"ffceedfbcf445c96aa081b5613faf81b\"\n        }\n    ],\n    \"entitlements\": [],\n    \"roles\": [\n        {\n            \"type\": \"rbac\",\n            \"primary\": true,\n            \"display\": \"AIBots User\",\n            \"value\": \"f50b63ab9c0a4b1fb14ddee2a4f6e2f9\"\n        }\n    ],\n    \"x509Certificates\": [],\n    \"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\": {\n        \"description\": \"\",\n        \"agency\": \"govtech\",\n        \"settings\": {},\n        \"favourites\": {},\n        \"details\": {},\n        \"verified\": false,\n        \"apiKeys\": [],\n        \"allow\": true,\n        \"active\": false\n    }\n}"
										}
									]
								},
								{
									"name": "Retrieve Unverified User 2 Group",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"pm.test(\"Retrieve SCIM Group\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER2_GROUP_ID\"));\r",
													"    pm.expect(jsonData.displayName).to.eql(\"Government Technology Agency (GOVTECH)\");\r",
													"    pm.expect(jsonData.members.length).to.eql(2);\r",
													"    pm.expect(jsonData.members[0].display).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER1_NAME\"));\r",
													"    pm.expect(jsonData.members[0].value).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER1_ID\"));\r",
													"    pm.expect(jsonData.members[1].display).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER2_NAME\"));\r",
													"    pm.expect(jsonData.members[1].value).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER2_ID\"));\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"].description).to.eql(\"Government Technology Agency (GOVTECH)\");\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"].agency).to.eql(\"govtech\");\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"].parent).to.eql(null);\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"].defaultRole).to.eql(null);\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"].allow).to.eql(true);\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"].domain).to.eql(\"tech.gov.sg\");\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"].default).to.eql(true);\r",
													"    var required_keys = [\"children\", \"details\", \"administrators\", \"apiKeys\"];\r",
													"    pm.expect(required_keys.every((v) => Object.keys(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"]).includes(v))).to.eql(true);\r",
													"    pm.expect(jsonData.meta.resourceType).to.eql(\"groups\");\r",
													"    pm.expect(jsonData.meta.ownerType).to.eql(\"user\");\r",
													"    pm.expect(jsonData.meta.location).to.match(new RegExp(\"/latest/groups/\" + pm.environment.get(\"TEST_UNVERIFIED_USER2_GROUP_ID\")));\r",
													"    pm.expect(jsonData.meta.version).to.eql(1);\r",
													"    pm.expect(jsonData.meta.lastModified).to.eql(null);\r",
													"    pm.expect(jsonData.meta.deleted).to.eql(null);\r",
													"    pm.expect(jsonData.meta.archived).to.eql(null);\r",
													"    required_keys = [\"schemas\"];\r",
													"    pm.expect(required_keys.every((v) => Object.keys(jsonData).includes(v))).to.eql(true);\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{AUTH_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/groups/:id",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"groups",
												":id"
											],
											"variable": [
												{
													"key": "id",
													"value": "{{TEST_UNVERIFIED_USER2_GROUP_ID}}"
												}
											]
										}
									},
									"response": [
										{
											"name": "Retrieve Unverified User 2 Group",
											"originalRequest": {
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/groups/:id",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"groups",
														":id"
													],
													"variable": [
														{
															"key": "id",
															"value": "{{TEST_UNVERIFIED_USER2_GROUP_ID}}"
														}
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 07:29:24 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "1460"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "{\n    \"meta\": {\n        \"resourceType\": \"groups\",\n        \"owner\": \"ba28efd54f14516faa4665a5d6dcff67\",\n        \"ownerType\": \"user\",\n        \"location\": \"https://aibots.gov.sg/latest/groups/ffceedfbcf445c96aa081b5613faf81b\",\n        \"version\": 1,\n        \"created\": \"2024-06-11T03:19:45.364000Z\",\n        \"lastModified\": null,\n        \"deleted\": null,\n        \"archived\": null\n    },\n    \"id\": \"ffceedfbcf445c96aa081b5613faf81b\",\n    \"schemas\": [\n        \"urn:ietf:params:scim:schemas:core:2.0:Group\",\n        \"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"\n    ],\n    \"displayName\": \"Government Technology Agency (GOVTECH)\",\n    \"members\": [\n        {\n            \"type\": \"users\",\n            \"$ref\": \"https://sit.aibots.gov.sg/latest/users/ba28efd54f14516faa4665a5d6dcff67\",\n            \"display\": \"David Tw Lee\",\n            \"value\": \"ba28efd54f14516faa4665a5d6dcff67\"\n        },\n        {\n            \"type\": \"users\",\n            \"$ref\": \"https://sit.aibots.gov.sg/latest/users/c0fdd683da18554f89345f51186e13c3\",\n            \"display\": \"Kieu Quoc Thang\",\n            \"value\": \"c0fdd683da18554f89345f51186e13c3\"\n        }\n    ],\n    \"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\": {\n        \"description\": \"Government Technology Agency (GOVTECH)\",\n        \"agency\": \"govtech\",\n        \"domain\": \"tech.gov.sg\",\n        \"apiKeys\": [],\n        \"default\": true,\n        \"parent\": null,\n        \"children\": [\n            {\n                \"type\": \"child\",\n                \"$ref\": \"https://aibots.gov.sg/latest/groups/6aa208e6c4b05fe78a591c8b8dcddffb\",\n                \"display\": \"Data Science and AI Division (Defunct)\",\n                \"value\": \"6aa208e6c4b05fe78a591c8b8dcddffb\"\n            },\n            {\n                \"type\": \"child\",\n                \"$ref\": \"https://aibots.gov.sg/latest/groups/58f647763e0859a89f82d8dac6a866c3\",\n                \"display\": \"Open Government Products\",\n                \"value\": \"58f647763e0859a89f82d8dac6a866c3\"\n            }\n        ],\n        \"administrators\": [],\n        \"details\": {},\n        \"defaultRole\": null,\n        \"allow\": true\n    }\n}"
										}
									]
								},
								{
									"name": "Retrieve Unverified User 2 Permissions",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"pm.test(\"Retrieve User Permissions\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.type).to.eql(\"user\");\r",
													"    pm.expect(jsonData.scopes).to.eql([]);\r",
													"    pm.expect(jsonData.item).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER2_ID\"));\r",
													"    pm.expect(jsonData.groups.length).to.eql(1);\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{AUTH_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/permissions/:type/:id",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"permissions",
												":type",
												":id"
											],
											"variable": [
												{
													"key": "type",
													"value": "user"
												},
												{
													"key": "id",
													"value": "{{TEST_UNVERIFIED_USER2_ID}}"
												}
											]
										}
									},
									"response": [
										{
											"name": "Retrieve Unverified User 2 Permissions",
											"originalRequest": {
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/permissions/:type/:id",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"permissions",
														":type",
														":id"
													],
													"variable": [
														{
															"key": "type",
															"value": "user"
														},
														{
															"key": "id",
															"value": "{{TEST_UNVERIFIED_USER2_ID}}"
														}
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 07:29:33 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "115"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "{\n    \"type\": \"user\",\n    \"scopes\": [],\n    \"item\": \"c0fdd683da18554f89345f51186e13c3\",\n    \"groups\": [\n        \"ffceedfbcf445c96aa081b5613faf81b\"\n    ]\n}"
										}
									]
								},
								{
									"name": "Retrieve Unverified User 3",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"",
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"pm.test(\"Retrieve unverified SCIM User 3\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER3_ID\"));",
													"    pm.expect(jsonData.externalId).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER3_ID\"));",
													"    pm.expect(jsonData.userName).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS4\"));",
													"    pm.expect(jsonData.preferredLanguage).to.eql(\"en\");",
													"    pm.expect(jsonData.locale).to.eql(\"en_SG\");",
													"    pm.expect(jsonData.timezone).to.eql(\"Singapore\");",
													"    pm.expect(jsonData.emails[0].value).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS4\"));",
													"    pm.expect(jsonData.groups[0].display).to.eql(\"Data Science and AI Division (Defunct)\");",
													"    pm.expect(jsonData.roles[0].display).to.eql(\"AIBots User\");",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"].agency).to.eql(\"govtech\");",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"].verified).to.eql(false);",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"].allow).to.eql(true);",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"].active).to.eql(false);",
													"    pm.expect(jsonData.meta.resourceType).to.eql(\"users\");",
													"    pm.expect(jsonData.meta.owner).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER3_ID\"));",
													"    pm.expect(jsonData.meta.ownerType).to.eql(\"user\");",
													"    pm.expect(jsonData.meta.location).to.match(new RegExp(\"/latest/users/\" + pm.environment.get(\"TEST_UNVERIFIED_USER3_ID\")));",
													"    pm.expect(jsonData.meta.version).to.eql(1);",
													"    pm.expect(jsonData.meta.created).to.not.eql(null);",
													"    pm.expect(jsonData.meta.lastModified).to.eql(null);",
													"    pm.expect(jsonData.meta.deleted).to.eql(null);",
													"    pm.expect(jsonData.meta.archived).to.eql(null);",
													"    const required_keys = [\"schemas\", \"name\", \"displayName\", \"nickName\", \"profileUrl\", \"title\", \"userType\", \"password\", \"phoneNumbers\", \"ims\", \"photos\", \"addresses\", \"groups\", \"entitlements\", \"x509Certificates\"];",
													"    pm.expect(required_keys.every((v) => Object.keys(jsonData).includes(v))).to.eql(true);",
													"    pm.environment.set(\"TEST_UNVERIFIED_USER3_NAME\", jsonData.displayName);",
													"    pm.environment.set(\"TEST_UNVERIFIED_USER3_GROUP_ID\", jsonData.groups[0].value);",
													"});",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"protocolProfileBehavior": {
										"disableBodyPruning": true
									},
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{AUTH_TOKEN}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[\"{{TEST_EMAIL_ADDRESS2}}\", \"{{TEST_EMAIL_ADDRESS3}}\", \"{{TEST_EMAIL_ADDRESS4}}\"]",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/users/:id",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"users",
												":id"
											],
											"variable": [
												{
													"key": "id",
													"value": "{{TEST_UNVERIFIED_USER3_ID}}"
												}
											]
										}
									},
									"response": [
										{
											"name": "Retrieve Unverified User 3",
											"originalRequest": {
												"method": "GET",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{AUTH_TOKEN}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "[\"{{TEST_EMAIL_ADDRESS2}}\", \"{{TEST_EMAIL_ADDRESS3}}\", \"{{TEST_EMAIL_ADDRESS4}}\"]",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/users/:id",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"users",
														":id"
													],
													"variable": [
														{
															"key": "id",
															"value": "{{TEST_UNVERIFIED_USER3_ID}}"
														}
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 07:29:39 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "1568"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "{\n    \"meta\": {\n        \"resourceType\": \"users\",\n        \"owner\": \"6b5a34916492508383cd9f7849953733\",\n        \"ownerType\": \"user\",\n        \"location\": \"https://sit.aibots.gov.sg/latest/users/6b5a34916492508383cd9f7849953733\",\n        \"version\": 1,\n        \"created\": \"2024-07-04T07:28:39.111000Z\",\n        \"lastModified\": null,\n        \"deleted\": null,\n        \"archived\": null\n    },\n    \"id\": \"6b5a34916492508383cd9f7849953733\",\n    \"schemas\": [\n        \"urn:ietf:params:scim:schemas:core:2.0:User\",\n        \"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"\n    ],\n    \"externalId\": \"6b5a34916492508383cd9f7849953733\",\n    \"userName\": \"quocthangkieu@dsaid.gov.sg\",\n    \"displayName\": \"Quocthangkieu\",\n    \"name\": {\n        \"familyName\": null,\n        \"givenName\": null,\n        \"middleName\": null,\n        \"honorificPrefix\": null,\n        \"honorificSuffix\": null,\n        \"formatted\": \"Quocthangkieu\"\n    },\n    \"nickName\": null,\n    \"profileUrl\": null,\n    \"title\": null,\n    \"userType\": null,\n    \"preferredLanguage\": \"en\",\n    \"locale\": \"en_SG\",\n    \"timezone\": \"Singapore\",\n    \"password\": null,\n    \"emails\": [\n        {\n            \"type\": \"Government Email\",\n            \"primary\": true,\n            \"display\": \"quocthangkieu@dsaid.gov.sg\",\n            \"value\": \"quocthangkieu@dsaid.gov.sg\"\n        }\n    ],\n    \"phoneNumbers\": [],\n    \"ims\": [],\n    \"photos\": [],\n    \"addresses\": [],\n    \"groups\": [\n        {\n            \"type\": \"groups\",\n            \"$ref\": \"https://sit.aibots.gov.sg/latest/groups/6aa208e6c4b05fe78a591c8b8dcddffb\",\n            \"display\": \"Data Science and AI Division (Defunct)\",\n            \"value\": \"6aa208e6c4b05fe78a591c8b8dcddffb\"\n        }\n    ],\n    \"entitlements\": [],\n    \"roles\": [\n        {\n            \"type\": \"rbac\",\n            \"primary\": true,\n            \"display\": \"AIBots User\",\n            \"value\": \"f50b63ab9c0a4b1fb14ddee2a4f6e2f9\"\n        }\n    ],\n    \"x509Certificates\": [],\n    \"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\": {\n        \"description\": \"\",\n        \"agency\": \"govtech\",\n        \"settings\": {},\n        \"favourites\": {},\n        \"details\": {},\n        \"verified\": false,\n        \"apiKeys\": [],\n        \"allow\": true,\n        \"active\": false\n    }\n}"
										}
									]
								},
								{
									"name": "Retrieve Unverified User 3 Group",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"pm.test(\"Retrieve SCIM Group\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER3_GROUP_ID\"));\r",
													"    pm.expect(jsonData.displayName).to.eql(\"Data Science and AI Division (Defunct)\");\r",
													"    pm.expect(jsonData.members.length).to.eql(2);\r",
													"    pm.expect(jsonData.members[0].display).to.eql(pm.environment.get(\"TEST_USER1_NAME\"));\r",
													"    pm.expect(jsonData.members[0].value).to.eql(pm.environment.get(\"TEST_USER1_ID\"));\r",
													"    pm.expect(jsonData.members[1].display).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER3_NAME\"));\r",
													"    pm.expect(jsonData.members[1].value).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER3_ID\"));\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"].description).to.eql(\"Data Science and AI Division (Defunct)\");\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"].agency).to.eql(null);\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"].parent.display).to.eql(\"Government Technology Agency\");\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"].defaultRole).to.eql(null);\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"].allow).to.eql(true);\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"].domain).to.eql(\"dsaid.gov.sg\");\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"].default).to.eql(true);\r",
													"    var required_keys = [\"children\", \"details\", \"administrators\", \"apiKeys\"];\r",
													"    pm.expect(required_keys.every((v) => Object.keys(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"]).includes(v))).to.eql(true);\r",
													"    pm.expect(jsonData.meta.resourceType).to.eql(\"groups\");\r",
													"    pm.expect(jsonData.meta.ownerType).to.eql(\"user\");\r",
													"    pm.expect(jsonData.meta.location).to.match(new RegExp(\"/latest/groups/\" + pm.environment.get(\"TEST_UNVERIFIED_USER3_GROUP_ID\")));\r",
													"    pm.expect(jsonData.meta.version).to.eql(1);\r",
													"    pm.expect(jsonData.meta.lastModified).to.eql(null);\r",
													"    pm.expect(jsonData.meta.deleted).to.eql(null);\r",
													"    pm.expect(jsonData.meta.archived).to.eql(null);\r",
													"    required_keys = [\"schemas\"];\r",
													"    pm.expect(required_keys.every((v) => Object.keys(jsonData).includes(v))).to.eql(true);\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{AUTH_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/groups/:id",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"groups",
												":id"
											],
											"variable": [
												{
													"key": "id",
													"value": "{{TEST_UNVERIFIED_USER3_GROUP_ID}}"
												}
											]
										}
									},
									"response": [
										{
											"name": "Retrieve Unverified User 3 Group",
											"originalRequest": {
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/groups/:id",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"groups",
														":id"
													],
													"variable": [
														{
															"key": "id",
															"value": "{{TEST_UNVERIFIED_USER3_GROUP_ID}}"
														}
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 07:29:44 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "1284"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "{\n    \"meta\": {\n        \"resourceType\": \"groups\",\n        \"owner\": \"ba28efd54f14516faa4665a5d6dcff67\",\n        \"ownerType\": \"user\",\n        \"location\": \"https://aibots.gov.sg/latest/groups/6aa208e6c4b05fe78a591c8b8dcddffb\",\n        \"version\": 1,\n        \"created\": \"2024-06-11T03:19:45.364000Z\",\n        \"lastModified\": null,\n        \"deleted\": null,\n        \"archived\": null\n    },\n    \"id\": \"6aa208e6c4b05fe78a591c8b8dcddffb\",\n    \"schemas\": [\n        \"urn:ietf:params:scim:schemas:core:2.0:Group\",\n        \"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\"\n    ],\n    \"displayName\": \"Data Science and AI Division (Defunct)\",\n    \"members\": [\n        {\n            \"type\": \"users\",\n            \"$ref\": \"https://sit.aibots.gov.sg/latest/users/04e058973c6252aa8640ca126441e52c\",\n            \"display\": \"Davidtwlee\",\n            \"value\": \"04e058973c6252aa8640ca126441e52c\"\n        },\n        {\n            \"type\": \"users\",\n            \"$ref\": \"https://sit.aibots.gov.sg/latest/users/6b5a34916492508383cd9f7849953733\",\n            \"display\": \"Quocthangkieu\",\n            \"value\": \"6b5a34916492508383cd9f7849953733\"\n        }\n    ],\n    \"urn:ietf:params:scim:schemas:extensions:atlas:2.0:Group\": {\n        \"description\": \"Data Science and AI Division (Defunct)\",\n        \"agency\": null,\n        \"domain\": \"dsaid.gov.sg\",\n        \"apiKeys\": [],\n        \"default\": true,\n        \"parent\": {\n            \"type\": \"parent\",\n            \"$ref\": \"https://aibots.gov.sg/latest/groups/ffceedfbcf445c96aa081b5613faf81b\",\n            \"display\": \"Government Technology Agency\",\n            \"value\": \"ffceedfbcf445c96aa081b5613faf81b\"\n        },\n        \"children\": [],\n        \"administrators\": [],\n        \"details\": {},\n        \"defaultRole\": null,\n        \"allow\": true\n    }\n}"
										}
									]
								},
								{
									"name": "Retrieve Unverified User 3 Permissions",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"pm.test(\"Retrieve User Permissions\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.type).to.eql(\"user\");\r",
													"    pm.expect(jsonData.scopes).to.eql([]);\r",
													"    pm.expect(jsonData.item).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER3_ID\"));\r",
													"    pm.expect(jsonData.groups.length).to.eql(2);\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{AUTH_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/permissions/:type/:id",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"permissions",
												":type",
												":id"
											],
											"variable": [
												{
													"key": "type",
													"value": "user"
												},
												{
													"key": "id",
													"value": "{{TEST_UNVERIFIED_USER3_ID}}"
												}
											]
										}
									},
									"response": [
										{
											"name": "Retrieve Unverified User 3 Permissions",
											"originalRequest": {
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/permissions/:type/:id",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"permissions",
														":type",
														":id"
													],
													"variable": [
														{
															"key": "type",
															"value": "user"
														},
														{
															"key": "id",
															"value": "{{TEST_UNVERIFIED_USER3_ID}}"
														}
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 07:29:53 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "150"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "{\n    \"type\": \"user\",\n    \"scopes\": [],\n    \"item\": \"6b5a34916492508383cd9f7849953733\",\n    \"groups\": [\n        \"ffceedfbcf445c96aa081b5613faf81b\",\n        \"6aa208e6c4b05fe78a591c8b8dcddffb\"\n    ]\n}"
										}
									]
								}
							]
						}
					]
				},
				{
					"name": "Query Users",
					"item": [
						{
							"name": "Attempt to retrieve Users with invalid queries",
							"item": [
								{
									"name": "Attempt to retrieve Users with no query body",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 400\", function () {\r",
													"    pm.response.to.have.status(400);\r",
													"});\r",
													"pm.test(\"Attempt to retrieve Users with no query body\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.code).to.eql(400);\r",
													"    pm.expect(jsonData.message).to.eql(\"Validation error\");\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{AUTH_TOKEN}}"
											}
										],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/users",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"queries",
												"users"
											]
										}
									},
									"response": [
										{
											"name": "Attempt to retrieve Users with no query body",
											"originalRequest": {
												"method": "POST",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{AUTH_TOKEN}}"
													}
												],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/users",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"queries",
														"users"
													]
												}
											},
											"status": "Bad Request",
											"code": 400,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Sun, 23 Jun 2024 20:18:38 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "1146"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "{\n    \"code\": 400,\n    \"message\": \"Validation error\",\n    \"request\": {\n        \"url\": \"https://localhost:20002/latest/queries/users\",\n        \"headers\": {\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJHb3ZUZWNoIiwic3ViIjoiMDRlMDU4OTctM2M2Mi01MmFhLTg2NDAtY2ExMjY0NDFlNTJjIiwiYXVkIjoic2l0LmFpYm90cy5nb3Yuc2ciLCJuYmYiOjE3MTkxNzM3MzYsImlhdCI6MTcxOTE3MzczNiwiZXhwIjoxNzE5MTgwOTM2LCJqdGkiOiIyOTg0ZWY1Zi1hOTM3LTRiMTktYjUzOS1jYmNiYzlmMjZmMDMiLCJuYW1lIjoiRGF2aWR0d2xlZSIsImVtYWlsIjoiZGF2aWR0d2xlZUBkc2FpZC5nb3Yuc2ciLCJuZXdfdXNlciI6ZmFsc2UsInJvbGUiOiIwOWU2YWM1ZS1jMmFhLTRmOTEtYmU5YS00NzJjNDgzNTkwM2YiLCJzdXBlcnVzZXIiOnRydWUsImFnZW5jeSI6ImdvdnRlY2giLCJhdF9oYXNoIjoiamtQNldnUDY4OGVOaEtJUmtocTVWQSJ9.TwDIEH6PpowMRhMRe1GbMPgzACOomvZsZJp_NsQP5dQ\",\n            \"user-agent\": \"PostmanRuntime/7.39.0\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"a363404c-9f99-495e-b2d2-fe2f1b1477a9\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\",\n            \"content-length\": \"0\"\n        },\n        \"path_params\": {},\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 59438\n        },\n        \"body\": \"\"\n    },\n    \"details\": {\n        \"errors\": [\n            {\n                \"type\": \"missing\",\n                \"loc\": [\n                    \"body\"\n                ],\n                \"msg\": \"Field required\",\n                \"input\": null\n            }\n        ]\n    }\n}"
										}
									]
								},
								{
									"name": "Attempt to retrieve Users with empty queries",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 400\", function () {\r",
													"    pm.response.to.have.status(400);\r",
													"});\r",
													"pm.test(\"Attempt to retrieve Users with no query body\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.code).to.eql(400);\r",
													"    pm.expect(jsonData.message).to.eql(\"Only usage with IDs or Emails queries is supported\");\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{AUTH_TOKEN}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"ids\": [],\r\n    \"emails\": []\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/users",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"queries",
												"users"
											]
										}
									},
									"response": [
										{
											"name": "Attempt to retrieve Users with empty queries",
											"originalRequest": {
												"method": "POST",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{AUTH_TOKEN}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\r\n    \"ids\": [],\r\n    \"emails\": []\r\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/users",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"queries",
														"users"
													]
												}
											},
											"status": "Bad Request",
											"code": 400,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Sun, 23 Jun 2024 20:19:48 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "1155"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "{\n    \"code\": 400,\n    \"message\": \"Only usage with IDs or Emails queries is supported\",\n    \"request\": {\n        \"url\": \"https://localhost:20002/latest/queries/users\",\n        \"headers\": {\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJHb3ZUZWNoIiwic3ViIjoiMDRlMDU4OTctM2M2Mi01MmFhLTg2NDAtY2ExMjY0NDFlNTJjIiwiYXVkIjoic2l0LmFpYm90cy5nb3Yuc2ciLCJuYmYiOjE3MTkxNzM3MzYsImlhdCI6MTcxOTE3MzczNiwiZXhwIjoxNzE5MTgwOTM2LCJqdGkiOiIyOTg0ZWY1Zi1hOTM3LTRiMTktYjUzOS1jYmNiYzlmMjZmMDMiLCJuYW1lIjoiRGF2aWR0d2xlZSIsImVtYWlsIjoiZGF2aWR0d2xlZUBkc2FpZC5nb3Yuc2ciLCJuZXdfdXNlciI6ZmFsc2UsInJvbGUiOiIwOWU2YWM1ZS1jMmFhLTRmOTEtYmU5YS00NzJjNDgzNTkwM2YiLCJzdXBlcnVzZXIiOnRydWUsImFnZW5jeSI6ImdvdnRlY2giLCJhdF9oYXNoIjoiamtQNldnUDY4OGVOaEtJUmtocTVWQSJ9.TwDIEH6PpowMRhMRe1GbMPgzACOomvZsZJp_NsQP5dQ\",\n            \"content-type\": \"application/json\",\n            \"user-agent\": \"PostmanRuntime/7.39.0\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"aab987a4-1e4f-49c3-91c3-ff531c49b906\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\",\n            \"content-length\": \"38\"\n        },\n        \"path_params\": {},\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 51834\n        },\n        \"body\": {\n            \"ids\": [],\n            \"emails\": []\n        }\n    },\n    \"details\": {}\n}"
										}
									]
								}
							]
						},
						{
							"name": "Attempt to retrieve non-existent Users by email",
							"item": [
								{
									"name": "Attempt to retrieve non-existent Users by partial email",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Retrieve non-existent Users by partial email\", function(){",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData).to.eql([]);",
													"})"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{AUTH_TOKEN}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"ids\": [],\n    \"emails\": [\"jo\"]\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/users",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"queries",
												"users"
											]
										}
									},
									"response": [
										{
											"name": "Attempt to retrieve non-existent Users by partial email",
											"originalRequest": {
												"method": "POST",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{AUTH_TOKEN}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"ids\": [],\n    \"emails\": [\"jo\"]\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/users",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"queries",
														"users"
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Sun, 23 Jun 2024 19:54:14 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "2"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[]"
										}
									]
								},
								{
									"name": "Attempt to retrieve non-existent Users by email",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Retrieve non-existent Users by email\", function(){",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData).to.eql([]);",
													"})"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{AUTH_TOKEN}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"ids\": [],\n    \"emails\": [\"does.not.exists@gmail.com\"]\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/users",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"queries",
												"users"
											]
										}
									},
									"response": [
										{
											"name": "Attempt to retrieve non-existent Users by email",
											"originalRequest": {
												"method": "POST",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{AUTH_TOKEN}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"ids\": [],\n    \"emails\": [\"does.not.exists@gmail.com\"]\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/users",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"queries",
														"users"
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Sun, 23 Jun 2024 19:55:22 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "2"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[]"
										}
									]
								}
							]
						},
						{
							"name": "Retrieve Users by email",
							"item": [
								{
									"name": "Retrieve Users by partial email",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Partial email query for users\", function() {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.length).to.eql(2)",
													"    pm.expect(jsonData[0].displayName).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER2_NAME\"));",
													"    pm.expect(jsonData[1].displayName).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER3_NAME\"));",
													"})"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{AUTH_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{AUTH_TOKEN}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"ids\": [],\n    \"emails\": [\"quoc\"]\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/users",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"queries",
												"users"
											]
										}
									},
									"response": [
										{
											"name": "Retrieve Users by partial email",
											"originalRequest": {
												"method": "POST",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{AUTH_TOKEN}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"ids\": [],\n    \"emails\": [\"quoc\"]\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/users",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"queries",
														"users"
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 08:23:03 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "404"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[\n    {\n        \"externalId\": \"c0fdd683da18554f89345f51186e13c3\",\n        \"userName\": \"kieu_quoc_thang@tech.gov.sg\",\n        \"displayName\": \"Kieu Quoc Thang\",\n        \"nickName\": null,\n        \"profileUrl\": null,\n        \"title\": null,\n        \"deleted\": false,\n        \"verified\": false\n    },\n    {\n        \"externalId\": \"6b5a34916492508383cd9f7849953733\",\n        \"userName\": \"quocthangkieu@dsaid.gov.sg\",\n        \"displayName\": \"Quocthangkieu\",\n        \"nickName\": null,\n        \"profileUrl\": null,\n        \"title\": null,\n        \"deleted\": false,\n        \"verified\": false\n    }\n]"
										}
									]
								},
								{
									"name": "Retrieve Users by partial email",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Partial email query for users\", function() {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.length).to.eql(1)",
													"    pm.expect(jsonData[0].displayName).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER3_NAME\"));",
													"})"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{AUTH_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{AUTH_TOKEN}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"ids\": [],\n    \"emails\": [\"quocth\"]\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/users",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"queries",
												"users"
											]
										}
									},
									"response": [
										{
											"name": "Retrieve Users by partial email",
											"originalRequest": {
												"method": "POST",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{AUTH_TOKEN}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"ids\": [],\n    \"emails\": [\"quocth\"]\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/users",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"queries",
														"users"
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 08:23:09 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "201"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[\n    {\n        \"externalId\": \"6b5a34916492508383cd9f7849953733\",\n        \"userName\": \"quocthangkieu@dsaid.gov.sg\",\n        \"displayName\": \"Quocthangkieu\",\n        \"nickName\": null,\n        \"profileUrl\": null,\n        \"title\": null,\n        \"deleted\": false,\n        \"verified\": false\n    }\n]"
										}
									]
								},
								{
									"name": "Retrieve Users by full email",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"pm.test(\"Full email query for users\", function() {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.length).to.eql(1)",
													"    pm.expect(jsonData[0].displayName).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER3_NAME\"));",
													"})"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{AUTH_TOKEN}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"ids\": [],\n    \"emails\": [\"quocthangkieu@dsaid.gov.sg\"]\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/users",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"queries",
												"users"
											]
										}
									},
									"response": [
										{
											"name": "Retrieve Users by full email",
											"originalRequest": {
												"method": "POST",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{AUTH_TOKEN}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"ids\": [],\n    \"emails\": [\"quocthangkieu@dsaid.gov.sg\"]\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/users",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"queries",
														"users"
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 08:23:16 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "201"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[\n    {\n        \"externalId\": \"6b5a34916492508383cd9f7849953733\",\n        \"userName\": \"quocthangkieu@dsaid.gov.sg\",\n        \"displayName\": \"Quocthangkieu\",\n        \"nickName\": null,\n        \"profileUrl\": null,\n        \"title\": null,\n        \"deleted\": false,\n        \"verified\": false\n    }\n]"
										}
									]
								},
								{
									"name": "Retrieve Users with multiple emails",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"pm.test(\"Full email query for users\", function() {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.length).to.eql(4);",
													"    ",
													"    pm.expect(jsonData[0].displayName).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER1_NAME\"));",
													"    pm.expect(jsonData[1].displayName).to.eql(pm.environment.get(\"TEST_USER1_NAME\"));",
													"    pm.expect(jsonData[2].displayName).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER2_NAME\"));",
													"    pm.expect(jsonData[3].displayName).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER3_NAME\"));",
													"})"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{AUTH_TOKEN}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"ids\": [],\n    \"emails\": [\"quocthangkieu@dsaid.gov.sg\", \"kieu_quoc_thang@tech.gov.sg\", \"da\"]\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/users",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"queries",
												"users"
											]
										}
									},
									"response": [
										{
											"name": "Retrieve Users with multiple emails",
											"originalRequest": {
												"method": "POST",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{AUTH_TOKEN}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"ids\": [],\n    \"emails\": [\"quocthangkieu@dsaid.gov.sg\", \"kieu_quoc_thang@tech.gov.sg\", \"da\"]\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/users",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"queries",
														"users"
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 08:23:22 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "794"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[\n    {\n        \"externalId\": \"ba28efd54f14516faa4665a5d6dcff67\",\n        \"userName\": \"david_tw_lee@tech.gov.sg\",\n        \"displayName\": \"David Tw Lee\",\n        \"nickName\": null,\n        \"profileUrl\": null,\n        \"title\": null,\n        \"deleted\": false,\n        \"verified\": false\n    },\n    {\n        \"externalId\": \"04e058973c6252aa8640ca126441e52c\",\n        \"userName\": \"davidtwlee@dsaid.gov.sg\",\n        \"displayName\": \"Davidtwlee\",\n        \"nickName\": null,\n        \"profileUrl\": null,\n        \"title\": null,\n        \"deleted\": false,\n        \"verified\": true\n    },\n    {\n        \"externalId\": \"c0fdd683da18554f89345f51186e13c3\",\n        \"userName\": \"kieu_quoc_thang@tech.gov.sg\",\n        \"displayName\": \"Kieu Quoc Thang\",\n        \"nickName\": null,\n        \"profileUrl\": null,\n        \"title\": null,\n        \"deleted\": false,\n        \"verified\": false\n    },\n    {\n        \"externalId\": \"6b5a34916492508383cd9f7849953733\",\n        \"userName\": \"quocthangkieu@dsaid.gov.sg\",\n        \"displayName\": \"Quocthangkieu\",\n        \"nickName\": null,\n        \"profileUrl\": null,\n        \"title\": null,\n        \"deleted\": false,\n        \"verified\": false\n    }\n]"
										}
									]
								}
							]
						},
						{
							"name": "Attempt to retrieve non-existent Users by ID",
							"item": [
								{
									"name": "Attempt to retrieve non-existent Users By ID",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Retrieve Users by ID\", function() {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData).to.eql([])",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{AUTH_TOKEN}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"ids\": [\"{{$guid}}\", \"{{$guid}}\"],\n    \"emails\": []\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/users",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"queries",
												"users"
											]
										}
									},
									"response": [
										{
											"name": "Attempt to retrieve non-existent Users By ID",
											"originalRequest": {
												"method": "POST",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{AUTH_TOKEN}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"ids\": [\"{{$guid}}\", \"{{$guid}}\"],\n    \"emails\": []\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/users",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"queries",
														"users"
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Sun, 23 Jun 2024 20:00:35 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "2"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[]"
										}
									]
								}
							]
						},
						{
							"name": "Retrieve Users by ID",
							"item": [
								{
									"name": "Retrieve Users by ID",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Retrieve Users by ID\", function() {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.length).to.eql(2)",
													"    pm.expect(jsonData[0].displayName).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER1_NAME\"));",
													"    pm.expect(jsonData[1].displayName).to.eql(pm.environment.get(\"TEST_USER1_NAME\"));",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{AUTH_TOKEN}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"ids\": [\"{{TEST_USER1_ID}}\", \"{{TEST_UNVERIFIED_USER1_ID}}\"],\n    \"emails\": []\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/users",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"queries",
												"users"
											]
										}
									},
									"response": [
										{
											"name": "Retrieve Users by ID",
											"originalRequest": {
												"method": "POST",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{AUTH_TOKEN}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"ids\": [\"{{TEST_USER1_ID}}\", \"{{TEST_UNVERIFIED_USER1_ID}}\"],\n    \"emails\": []\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/users",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"queries",
														"users"
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 08:24:25 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "391"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[\n    {\n        \"externalId\": \"ba28efd54f14516faa4665a5d6dcff67\",\n        \"userName\": \"david_tw_lee@tech.gov.sg\",\n        \"displayName\": \"David Tw Lee\",\n        \"nickName\": null,\n        \"profileUrl\": null,\n        \"title\": null,\n        \"deleted\": false,\n        \"verified\": false\n    },\n    {\n        \"externalId\": \"04e058973c6252aa8640ca126441e52c\",\n        \"userName\": \"davidtwlee@dsaid.gov.sg\",\n        \"displayName\": \"Davidtwlee\",\n        \"nickName\": null,\n        \"profileUrl\": null,\n        \"title\": null,\n        \"deleted\": false,\n        \"verified\": true\n    }\n]"
										}
									]
								}
							]
						},
						{
							"name": "Retrieve Users by both ID and email",
							"item": [
								{
									"name": "Retrieve Users by both ID and email",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Retrieve Users by both ID and email\", function() {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.length).to.eql(4);",
													"    ",
													"    pm.expect(jsonData[0].displayName).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER1_NAME\"));",
													"    pm.expect(jsonData[1].displayName).to.eql(pm.environment.get(\"TEST_USER1_NAME\"));",
													"    pm.expect(jsonData[2].displayName).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER2_NAME\"));",
													"    pm.expect(jsonData[3].displayName).to.eql(pm.environment.get(\"TEST_UNVERIFIED_USER3_NAME\"));",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{AUTH_TOKEN}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"ids\": [\"{{TEST_USER1_ID}}\", \"{{TEST_UNVERIFIED_USER1_ID}}\"],\n    \"emails\": [\"quoc\"]\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/users",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"queries",
												"users"
											]
										}
									},
									"response": [
										{
											"name": "Retrieve Users by both ID and email",
											"originalRequest": {
												"method": "POST",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{AUTH_TOKEN}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"ids\": [\"{{TEST_USER1_ID}}\", \"{{TEST_UNVERIFIED_USER1_ID}}\"],\n    \"emails\": [\"quoc\"]\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/users",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"queries",
														"users"
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 08:25:07 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "794"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[\n    {\n        \"externalId\": \"ba28efd54f14516faa4665a5d6dcff67\",\n        \"userName\": \"david_tw_lee@tech.gov.sg\",\n        \"displayName\": \"David Tw Lee\",\n        \"nickName\": null,\n        \"profileUrl\": null,\n        \"title\": null,\n        \"deleted\": false,\n        \"verified\": false\n    },\n    {\n        \"externalId\": \"04e058973c6252aa8640ca126441e52c\",\n        \"userName\": \"davidtwlee@dsaid.gov.sg\",\n        \"displayName\": \"Davidtwlee\",\n        \"nickName\": null,\n        \"profileUrl\": null,\n        \"title\": null,\n        \"deleted\": false,\n        \"verified\": true\n    },\n    {\n        \"externalId\": \"c0fdd683da18554f89345f51186e13c3\",\n        \"userName\": \"kieu_quoc_thang@tech.gov.sg\",\n        \"displayName\": \"Kieu Quoc Thang\",\n        \"nickName\": null,\n        \"profileUrl\": null,\n        \"title\": null,\n        \"deleted\": false,\n        \"verified\": false\n    },\n    {\n        \"externalId\": \"6b5a34916492508383cd9f7849953733\",\n        \"userName\": \"quocthangkieu@dsaid.gov.sg\",\n        \"displayName\": \"Quocthangkieu\",\n        \"nickName\": null,\n        \"profileUrl\": null,\n        \"title\": null,\n        \"deleted\": false,\n        \"verified\": false\n    }\n]"
										}
									]
								}
							]
						}
					]
				},
				{
					"name": "Query Agencies",
					"item": [
						{
							"name": "Attempt to retrieve non-existent Agencies by domain",
							"item": [
								{
									"name": "Attempt to retrieve non-existent Agencies by domain",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"pm.test(\"Attempt to retrieve non-existent Agencies by domain\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData).to.eql([]);\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{AUTH_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/agencies?domains=hello",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"queries",
												"agencies"
											],
											"query": [
												{
													"key": "domains",
													"value": "hello"
												}
											]
										}
									},
									"response": [
										{
											"name": "Attempt to retrieve non-existent Agencies by domain",
											"originalRequest": {
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/agencies?domains=hello",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"queries",
														"agencies"
													],
													"query": [
														{
															"key": "domains",
															"value": "hello"
														}
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Sun, 23 Jun 2024 20:27:01 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "2"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[]"
										}
									]
								}
							]
						},
						{
							"name": "Retrieve Agencies by domain",
							"item": [
								{
									"name": "Retrieve Agencies by partial domain",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"// Test for 200 response code",
													"pm.test(\"Response status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Retrieve Agencies by partial domain\", function () {",
													"    var jsonData = pm.response.json()",
													"    pm.expect(jsonData.length).to.eql(1);",
													"    pm.expect(jsonData[0].agency).to.eql(\"Government Technology Agency (GOVTECH)\");",
													"    pm.expect(jsonData[0].domain).to.eql(\"tech.gov.sg\");",
													"    pm.expect(jsonData[0].code).to.eql(\"govtech\");",
													"});",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{AUTH_TOKEN}}"
											}
										],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/agencies?domains=tech",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"queries",
												"agencies"
											],
											"query": [
												{
													"key": "domains",
													"value": "tech"
												}
											]
										}
									},
									"response": [
										{
											"name": "Retrieve Agencies by partial domain",
											"originalRequest": {
												"method": "GET",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{AUTH_TOKEN}}"
													}
												],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/agencies?domains=tech",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"queries",
														"agencies"
													],
													"query": [
														{
															"key": "domains",
															"value": "tech"
														}
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 08:27:05 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "133"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[\n    {\n        \"id\": \"ffceedfbcf445c96aa081b5613faf81b\",\n        \"agency\": \"Government Technology Agency (GOVTECH)\",\n        \"domain\": \"tech.gov.sg\",\n        \"code\": \"govtech\"\n    }\n]"
										}
									]
								},
								{
									"name": "Retrieve Agencies by full domain",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"// Test for 200 response code",
													"pm.test(\"Response status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Retrieve Agencies by full domain\", function () {",
													"    var jsonData = pm.response.json()",
													"    pm.expect(jsonData.length).to.eql(1);",
													"    pm.expect(jsonData[0].agency).to.eql(\"Government Technology Agency (GOVTECH)\");",
													"    pm.expect(jsonData[0].domain).to.eql(\"tech.gov.sg\");",
													"    pm.expect(jsonData[0].code).to.eql(\"govtech\");",
													"});",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{AUTH_TOKEN}}"
											}
										],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/agencies?domains=tech.gov.sg",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"queries",
												"agencies"
											],
											"query": [
												{
													"key": "domains",
													"value": "tech.gov.sg"
												}
											]
										}
									},
									"response": [
										{
											"name": "Retrieve Agencies by full domain",
											"originalRequest": {
												"method": "GET",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{AUTH_TOKEN}}"
													}
												],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/agencies?domains=tech.gov.sg",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"queries",
														"agencies"
													],
													"query": [
														{
															"key": "domains",
															"value": "tech.gov.sg"
														}
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 08:27:14 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "133"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[\n    {\n        \"id\": \"ffceedfbcf445c96aa081b5613faf81b\",\n        \"agency\": \"Government Technology Agency (GOVTECH)\",\n        \"domain\": \"tech.gov.sg\",\n        \"code\": \"govtech\"\n    }\n]"
										}
									]
								},
								{
									"name": "Retrieve Agencies with multiple domains",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"// Test for 200 response code",
													"pm.test(\"Response status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Retrieve Agencies with multiple domains\", function () {",
													"    var jsonData = pm.response.json()",
													"    pm.expect(jsonData.length).to.eql(2);",
													"    pm.expect(jsonData[0].agency).to.eql(\"Attorney-General's Chambers (AGC)\");",
													"    pm.expect(jsonData[0].domain).to.eql(\"agc.gov.sg\");",
													"    pm.expect(jsonData[0].code).to.eql(\"agc\");",
													"",
													"    pm.expect(jsonData[1].agency).to.eql(\"Government Technology Agency (GOVTECH)\");",
													"    pm.expect(jsonData[1].domain).to.eql(\"tech.gov.sg\");",
													"    pm.expect(jsonData[1].code).to.eql(\"govtech\");",
													"",
													"});",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{AUTH_TOKEN}}"
											}
										],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/agencies?domains=tech.gov.sg&domains=agc.gov.sg",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"queries",
												"agencies"
											],
											"query": [
												{
													"key": "domains",
													"value": "tech.gov.sg"
												},
												{
													"key": "domains",
													"value": "agc.gov.sg"
												}
											]
										}
									},
									"response": [
										{
											"name": "Retrieve Agencies with multiple domains",
											"originalRequest": {
												"method": "GET",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{AUTH_TOKEN}}"
													}
												],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/agencies?domains=tech.gov.sg&domains=agc.gov.sg",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"queries",
														"agencies"
													],
													"query": [
														{
															"key": "domains",
															"value": "tech.gov.sg"
														},
														{
															"key": "domains",
															"value": "agc.gov.sg"
														}
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 08:27:20 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "255"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[\n    {\n        \"id\": \"41625dbd13ba522ea47a2190fa9fd6e1\",\n        \"agency\": \"Attorney-General's Chambers (AGC)\",\n        \"domain\": \"agc.gov.sg\",\n        \"code\": \"agc\"\n    },\n    {\n        \"id\": \"ffceedfbcf445c96aa081b5613faf81b\",\n        \"agency\": \"Government Technology Agency (GOVTECH)\",\n        \"domain\": \"tech.gov.sg\",\n        \"code\": \"govtech\"\n    }\n]"
										}
									]
								}
							]
						},
						{
							"name": "Attempt to retrieve non-existent Agencies by name",
							"item": [
								{
									"name": "Attempt to retrieve non-existent Agencies by name",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"pm.test(\"Attempt to retrieve non-existent Agencies by domain\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData).to.eql([]);\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{AUTH_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/agencies?names=hello",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"queries",
												"agencies"
											],
											"query": [
												{
													"key": "names",
													"value": "hello"
												}
											]
										}
									},
									"response": [
										{
											"name": "Attempt to retrieve non-existent Agencies by name",
											"originalRequest": {
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/agencies?names=hello",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"queries",
														"agencies"
													],
													"query": [
														{
															"key": "names",
															"value": "hello"
														}
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 08:26:45 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "2"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[]"
										}
									]
								}
							]
						},
						{
							"name": "Retrieve Agencies by name",
							"item": [
								{
									"name": "Retrieve Agencies by partial name",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"// Test for 200 response code",
													"pm.test(\"Response status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Retrieve Agencies by partial name\", function () {",
													"    var jsonData = pm.response.json()",
													"    pm.expect(jsonData.length).to.eql(11);",
													"    pm.expect(jsonData[0].agency).to.eql(\"Agency for Science, Technology and Research (A-STAR)\");",
													"    pm.expect(jsonData[0].domain).to.eql(\"a-star.edu.sg\");",
													"    pm.expect(jsonData[0].code).to.eql(\"a-star\");",
													"    ",
													"    pm.expect(jsonData[1].agency).to.eql(\"Centre For Strategic Infocomm Technologies (CSIT)\");",
													"    pm.expect(jsonData[1].domain).to.eql(\"csit.gov.sg\");",
													"    pm.expect(jsonData[1].code).to.eql(\"csit\");",
													"",
													"    pm.expect(jsonData[2].agency).to.eql(\"Defence Science and Technology Agency (DSTA)\");",
													"    pm.expect(jsonData[2].domain).to.eql(\"dsta.gov.sg\");",
													"    pm.expect(jsonData[2].code).to.eql(\"dsta\");",
													"",
													"    pm.expect(jsonData[3].agency).to.eql(\"Government Technology Agency (GOVTECH)\");",
													"    pm.expect(jsonData[3].domain).to.eql(\"tech.gov.sg\");",
													"    pm.expect(jsonData[3].code).to.eql(\"govtech\");",
													"",
													"    pm.expect(jsonData[4].agency).to.eql(\"Home Team Science and Technology Agency (HTX)\");",
													"    pm.expect(jsonData[4].domain).to.eql(\"htx.gov.sg\");",
													"    pm.expect(jsonData[4].code).to.eql(\"htx\");",
													"",
													"    pm.expect(jsonData[5].agency).to.eql(\"Institute of Technical Education (ITE)\");",
													"    pm.expect(jsonData[5].domain).to.eql(\"ite.edu.sg\");",
													"    pm.expect(jsonData[5].code).to.eql(\"ite\");",
													"",
													"    pm.expect(jsonData[6].agency).to.eql(\"Nanyang Polytechnic (NYP)\");",
													"    pm.expect(jsonData[6].domain).to.eql(\"nyp.edu.sg\");",
													"    pm.expect(jsonData[6].code).to.eql(\"nyp\");",
													"",
													"    pm.expect(jsonData[7].agency).to.eql(\"Ngee Ann Polytechnic (NP)\");",
													"    pm.expect(jsonData[7].domain).to.eql(\"np.edu.sg\");",
													"    pm.expect(jsonData[7].code).to.eql(\"np\");",
													"",
													"    pm.expect(jsonData[8].agency).to.eql(\"Republic Polytechnic (RP)\");",
													"    pm.expect(jsonData[8].domain).to.eql(\"rp.edu.sg\");",
													"    pm.expect(jsonData[8].code).to.eql(\"rp\");",
													"",
													"    pm.expect(jsonData[9].agency).to.eql(\"Singapore Polytechnic (SP)\");",
													"    pm.expect(jsonData[9].domain).to.eql(\"sp.edu.sg\");",
													"    pm.expect(jsonData[9].code).to.eql(\"sp\");",
													"",
													"    pm.expect(jsonData[10].agency).to.eql(\"Temasek Polytechnic (TP)\");",
													"    pm.expect(jsonData[10].domain).to.eql(\"tp.edu.sg\");",
													"    pm.expect(jsonData[10].code).to.eql(\"tp\");",
													"});",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{AUTH_TOKEN}}"
											}
										],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/agencies?names=tech",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"queries",
												"agencies"
											],
											"query": [
												{
													"key": "names",
													"value": "tech"
												}
											]
										}
									},
									"response": [
										{
											"name": "Retrieve Agencies by partial name",
											"originalRequest": {
												"method": "GET",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{AUTH_TOKEN}}"
													}
												],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/agencies?names=tech",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"queries",
														"agencies"
													],
													"query": [
														{
															"key": "names",
															"value": "tech"
														}
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 08:31:20 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "1378"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[\n    {\n        \"id\": \"8f229344be405551b48d5c7d44d2db9b\",\n        \"agency\": \"Agency for Science, Technology and Research (A-STAR)\",\n        \"domain\": \"a-star.edu.sg\",\n        \"code\": \"a-star\"\n    },\n    {\n        \"id\": \"63ee8ed40f345296a3ada66c35b2d705\",\n        \"agency\": \"Centre For Strategic Infocomm Technologies (CSIT)\",\n        \"domain\": \"csit.gov.sg\",\n        \"code\": \"csit\"\n    },\n    {\n        \"id\": \"997b6d0054415d2380b56faa823e895b\",\n        \"agency\": \"Defence Science and Technology Agency (DSTA)\",\n        \"domain\": \"dsta.gov.sg\",\n        \"code\": \"dsta\"\n    },\n    {\n        \"id\": \"ffceedfbcf445c96aa081b5613faf81b\",\n        \"agency\": \"Government Technology Agency (GOVTECH)\",\n        \"domain\": \"tech.gov.sg\",\n        \"code\": \"govtech\"\n    },\n    {\n        \"id\": \"35fd608a21d659b491b9ef8e62f7b437\",\n        \"agency\": \"Home Team Science and Technology Agency (HTX)\",\n        \"domain\": \"htx.gov.sg\",\n        \"code\": \"htx\"\n    },\n    {\n        \"id\": \"d4a5c3fd90475820ac8179aafc7ceabf\",\n        \"agency\": \"Institute of Technical Education (ITE)\",\n        \"domain\": \"ite.edu.sg\",\n        \"code\": \"ite\"\n    },\n    {\n        \"id\": \"f6f323d8c62656f8aa79138b29e40a44\",\n        \"agency\": \"Nanyang Polytechnic (NYP)\",\n        \"domain\": \"nyp.edu.sg\",\n        \"code\": \"nyp\"\n    },\n    {\n        \"id\": \"324ddd0bd3905963bd3c198cfb465a14\",\n        \"agency\": \"Ngee Ann Polytechnic (NP)\",\n        \"domain\": \"np.edu.sg\",\n        \"code\": \"np\"\n    },\n    {\n        \"id\": \"aebe8fa9680950c298599ee20831a8da\",\n        \"agency\": \"Republic Polytechnic (RP)\",\n        \"domain\": \"rp.edu.sg\",\n        \"code\": \"rp\"\n    },\n    {\n        \"id\": \"47e9139fe637576199804fd7d4b704b3\",\n        \"agency\": \"Singapore Polytechnic (SP)\",\n        \"domain\": \"sp.edu.sg\",\n        \"code\": \"sp\"\n    },\n    {\n        \"id\": \"1900227e133254d7b26e9b52a975d5fc\",\n        \"agency\": \"Temasek Polytechnic (TP)\",\n        \"domain\": \"tp.edu.sg\",\n        \"code\": \"tp\"\n    }\n]"
										}
									]
								},
								{
									"name": "Retrieve Agencies by full name",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"// Test for 200 response code",
													"pm.test(\"Response status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Retrieve Agencies by full domain\", function () {",
													"    var jsonData = pm.response.json()",
													"    pm.expect(jsonData.length).to.eql(1);",
													"    pm.expect(jsonData[0].agency).to.eql(\"Government Technology Agency (GOVTECH)\");",
													"    pm.expect(jsonData[0].domain).to.eql(\"tech.gov.sg\");",
													"    pm.expect(jsonData[0].code).to.eql(\"govtech\");",
													"});",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{AUTH_TOKEN}}"
											}
										],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/agencies?names=Government Technology Agency",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"queries",
												"agencies"
											],
											"query": [
												{
													"key": "names",
													"value": "Government Technology Agency"
												}
											]
										}
									},
									"response": [
										{
											"name": "Retrieve Agencies by full name",
											"originalRequest": {
												"method": "GET",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{AUTH_TOKEN}}"
													}
												],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/agencies?names=Government Technology Agency",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"queries",
														"agencies"
													],
													"query": [
														{
															"key": "names",
															"value": "Government Technology Agency"
														}
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 08:31:41 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "133"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[\n    {\n        \"id\": \"ffceedfbcf445c96aa081b5613faf81b\",\n        \"agency\": \"Government Technology Agency (GOVTECH)\",\n        \"domain\": \"tech.gov.sg\",\n        \"code\": \"govtech\"\n    }\n]"
										}
									]
								},
								{
									"name": "Retrieve Agencies with multiple names",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"// Test for 200 response code",
													"pm.test(\"Response status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Retrieve Agencies with multiple domains\", function () {",
													"    var jsonData = pm.response.json()",
													"    pm.expect(jsonData.length).to.eql(12);",
													"    pm.expect(jsonData[0].agency).to.eql(\"Agency for Science, Technology and Research (A-STAR)\");",
													"    pm.expect(jsonData[0].domain).to.eql(\"a-star.edu.sg\");",
													"    pm.expect(jsonData[0].code).to.eql(\"a-star\");",
													"    ",
													"    pm.expect(jsonData[1].agency).to.eql(\"Attorney-General's Chambers (AGC)\");",
													"    pm.expect(jsonData[1].domain).to.eql(\"agc.gov.sg\");",
													"    pm.expect(jsonData[1].code).to.eql(\"agc\");",
													"",
													"    pm.expect(jsonData[2].agency).to.eql(\"Centre For Strategic Infocomm Technologies (CSIT)\");",
													"    pm.expect(jsonData[2].domain).to.eql(\"csit.gov.sg\");",
													"    pm.expect(jsonData[2].code).to.eql(\"csit\");",
													"",
													"    pm.expect(jsonData[3].agency).to.eql(\"Defence Science and Technology Agency (DSTA)\");",
													"    pm.expect(jsonData[3].domain).to.eql(\"dsta.gov.sg\");",
													"    pm.expect(jsonData[3].code).to.eql(\"dsta\");",
													"",
													"    pm.expect(jsonData[4].agency).to.eql(\"Government Technology Agency (GOVTECH)\");",
													"    pm.expect(jsonData[4].domain).to.eql(\"tech.gov.sg\");",
													"    pm.expect(jsonData[4].code).to.eql(\"govtech\");",
													"",
													"    pm.expect(jsonData[5].agency).to.eql(\"Home Team Science and Technology Agency (HTX)\");",
													"    pm.expect(jsonData[5].domain).to.eql(\"htx.gov.sg\");",
													"    pm.expect(jsonData[5].code).to.eql(\"htx\");",
													"",
													"    pm.expect(jsonData[6].agency).to.eql(\"Institute of Technical Education (ITE)\");",
													"    pm.expect(jsonData[6].domain).to.eql(\"ite.edu.sg\");",
													"    pm.expect(jsonData[6].code).to.eql(\"ite\");",
													"",
													"    pm.expect(jsonData[7].agency).to.eql(\"Nanyang Polytechnic (NYP)\");",
													"    pm.expect(jsonData[7].domain).to.eql(\"nyp.edu.sg\");",
													"    pm.expect(jsonData[7].code).to.eql(\"nyp\");",
													"",
													"    pm.expect(jsonData[8].agency).to.eql(\"Ngee Ann Polytechnic (NP)\");",
													"    pm.expect(jsonData[8].domain).to.eql(\"np.edu.sg\");",
													"    pm.expect(jsonData[8].code).to.eql(\"np\");",
													"",
													"    pm.expect(jsonData[9].agency).to.eql(\"Republic Polytechnic (RP)\");",
													"    pm.expect(jsonData[9].domain).to.eql(\"rp.edu.sg\");",
													"    pm.expect(jsonData[9].code).to.eql(\"rp\");",
													"",
													"    pm.expect(jsonData[10].agency).to.eql(\"Singapore Polytechnic (SP)\");",
													"    pm.expect(jsonData[10].domain).to.eql(\"sp.edu.sg\");",
													"    pm.expect(jsonData[10].code).to.eql(\"sp\");",
													"",
													"    pm.expect(jsonData[11].agency).to.eql(\"Temasek Polytechnic (TP)\");",
													"    pm.expect(jsonData[11].domain).to.eql(\"tp.edu.sg\");",
													"    pm.expect(jsonData[11].code).to.eql(\"tp\");",
													"});",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{AUTH_TOKEN}}"
											}
										],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/agencies?names=tech&names=agc",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"queries",
												"agencies"
											],
											"query": [
												{
													"key": "names",
													"value": "tech"
												},
												{
													"key": "names",
													"value": "agc"
												}
											]
										}
									},
									"response": [
										{
											"name": "Retrieve Agencies with multiple names",
											"originalRequest": {
												"method": "GET",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{AUTH_TOKEN}}"
													}
												],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/agencies?names=tech&names=agc",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"queries",
														"agencies"
													],
													"query": [
														{
															"key": "names",
															"value": "tech"
														},
														{
															"key": "names",
															"value": "agc"
														}
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 08:33:27 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "1500"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[\n    {\n        \"id\": \"8f229344be405551b48d5c7d44d2db9b\",\n        \"agency\": \"Agency for Science, Technology and Research (A-STAR)\",\n        \"domain\": \"a-star.edu.sg\",\n        \"code\": \"a-star\"\n    },\n    {\n        \"id\": \"41625dbd13ba522ea47a2190fa9fd6e1\",\n        \"agency\": \"Attorney-General's Chambers (AGC)\",\n        \"domain\": \"agc.gov.sg\",\n        \"code\": \"agc\"\n    },\n    {\n        \"id\": \"63ee8ed40f345296a3ada66c35b2d705\",\n        \"agency\": \"Centre For Strategic Infocomm Technologies (CSIT)\",\n        \"domain\": \"csit.gov.sg\",\n        \"code\": \"csit\"\n    },\n    {\n        \"id\": \"997b6d0054415d2380b56faa823e895b\",\n        \"agency\": \"Defence Science and Technology Agency (DSTA)\",\n        \"domain\": \"dsta.gov.sg\",\n        \"code\": \"dsta\"\n    },\n    {\n        \"id\": \"ffceedfbcf445c96aa081b5613faf81b\",\n        \"agency\": \"Government Technology Agency (GOVTECH)\",\n        \"domain\": \"tech.gov.sg\",\n        \"code\": \"govtech\"\n    },\n    {\n        \"id\": \"35fd608a21d659b491b9ef8e62f7b437\",\n        \"agency\": \"Home Team Science and Technology Agency (HTX)\",\n        \"domain\": \"htx.gov.sg\",\n        \"code\": \"htx\"\n    },\n    {\n        \"id\": \"d4a5c3fd90475820ac8179aafc7ceabf\",\n        \"agency\": \"Institute of Technical Education (ITE)\",\n        \"domain\": \"ite.edu.sg\",\n        \"code\": \"ite\"\n    },\n    {\n        \"id\": \"f6f323d8c62656f8aa79138b29e40a44\",\n        \"agency\": \"Nanyang Polytechnic (NYP)\",\n        \"domain\": \"nyp.edu.sg\",\n        \"code\": \"nyp\"\n    },\n    {\n        \"id\": \"324ddd0bd3905963bd3c198cfb465a14\",\n        \"agency\": \"Ngee Ann Polytechnic (NP)\",\n        \"domain\": \"np.edu.sg\",\n        \"code\": \"np\"\n    },\n    {\n        \"id\": \"aebe8fa9680950c298599ee20831a8da\",\n        \"agency\": \"Republic Polytechnic (RP)\",\n        \"domain\": \"rp.edu.sg\",\n        \"code\": \"rp\"\n    },\n    {\n        \"id\": \"47e9139fe637576199804fd7d4b704b3\",\n        \"agency\": \"Singapore Polytechnic (SP)\",\n        \"domain\": \"sp.edu.sg\",\n        \"code\": \"sp\"\n    },\n    {\n        \"id\": \"1900227e133254d7b26e9b52a975d5fc\",\n        \"agency\": \"Temasek Polytechnic (TP)\",\n        \"domain\": \"tp.edu.sg\",\n        \"code\": \"tp\"\n    }\n]"
										}
									]
								}
							]
						},
						{
							"name": "Retrieve Agencies by domain and name",
							"item": [
								{
									"name": "Retrieve Agencies by domains and names",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"// Test for 200 response code",
													"pm.test(\"Response status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Retrieve Agencies by multiple domains and names\", function () {",
													"    var jsonData = pm.response.json()",
													"    pm.expect(jsonData.length).to.eql(2);",
													"    pm.expect(jsonData[0].agency).to.eql(\"Attorney-General's Chambers (AGC)\");",
													"    pm.expect(jsonData[0].domain).to.eql(\"agc.gov.sg\");",
													"    pm.expect(jsonData[0].code).to.eql(\"agc\");",
													"",
													"    pm.expect(jsonData[1].agency).to.eql(\"Government Technology Agency (GOVTECH)\");",
													"    pm.expect(jsonData[1].domain).to.eql(\"tech.gov.sg\");",
													"    pm.expect(jsonData[1].code).to.eql(\"govtech\");",
													"});",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{AUTH_TOKEN}}"
											}
										],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/agencies?domains=tech&names=agc",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"queries",
												"agencies"
											],
											"query": [
												{
													"key": "domains",
													"value": "tech"
												},
												{
													"key": "names",
													"value": "agc"
												}
											]
										}
									},
									"response": [
										{
											"name": "Retrieve Agencies by domains and names",
											"originalRequest": {
												"method": "GET",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{AUTH_TOKEN}}"
													}
												],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/agencies?domains=tech&names=agc",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"queries",
														"agencies"
													],
													"query": [
														{
															"key": "domains",
															"value": "tech"
														},
														{
															"key": "names",
															"value": "agc"
														}
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 08:34:18 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "255"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[\n    {\n        \"id\": \"41625dbd13ba522ea47a2190fa9fd6e1\",\n        \"agency\": \"Attorney-General's Chambers (AGC)\",\n        \"domain\": \"agc.gov.sg\",\n        \"code\": \"agc\"\n    },\n    {\n        \"id\": \"ffceedfbcf445c96aa081b5613faf81b\",\n        \"agency\": \"Government Technology Agency (GOVTECH)\",\n        \"domain\": \"tech.gov.sg\",\n        \"code\": \"govtech\"\n    }\n]"
										}
									]
								}
							]
						},
						{
							"name": "Retrieve all Agencies",
							"item": [
								{
									"name": "Retrieve all Agencies",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"// Test for 200 response code",
													"pm.test(\"Response status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Retrieve Agencies by partial domain\", function () {",
													"    var jsonData = pm.response.json()",
													"    pm.expect(jsonData.length).to.eql(115);",
													"});",
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{AUTH_TOKEN}}"
											}
										],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/agencies",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"queries",
												"agencies"
											]
										}
									},
									"response": [
										{
											"name": "Retrieve all Agencies",
											"originalRequest": {
												"method": "GET",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{AUTH_TOKEN}}"
													}
												],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/queries/agencies",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"queries",
														"agencies"
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 08:34:41 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "14346"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "[\n    {\n        \"id\": \"47b9af6659ca5426bb50bb4f6bbbce3a\",\n        \"agency\": \"Accountant-General's Department (AGD)\",\n        \"domain\": \"agd.gov.sg\",\n        \"code\": \"agd\"\n    },\n    {\n        \"id\": \"c520085c7aeb55d0adf9fde985dfe8cc\",\n        \"agency\": \"Accounting and Corporate Regulatory Authority (ACRA)\",\n        \"domain\": \"acra.gov.sg\",\n        \"code\": \"acra\"\n    },\n    {\n        \"id\": \"8f229344be405551b48d5c7d44d2db9b\",\n        \"agency\": \"Agency for Science, Technology and Research (A-STAR)\",\n        \"domain\": \"a-star.edu.sg\",\n        \"code\": \"a-star\"\n    },\n    {\n        \"id\": \"41625dbd13ba522ea47a2190fa9fd6e1\",\n        \"agency\": \"Attorney-General's Chambers (AGC)\",\n        \"domain\": \"agc.gov.sg\",\n        \"code\": \"agc\"\n    },\n    {\n        \"id\": \"6ed2a8d24e025f66b780c2ba65e06ee0\",\n        \"agency\": \"Auditor-General's Office (AGO)\",\n        \"domain\": \"ago.gov.sg\",\n        \"code\": \"ago\"\n    },\n    {\n        \"id\": \"8a863d0cf2ce5b1080548eab838b3167\",\n        \"agency\": \"Board of Architects (BOA)\",\n        \"domain\": \"boa.gov.sg\",\n        \"code\": \"boa\"\n    },\n    {\n        \"id\": \"626357a3c51e53d39bbcdbf51500a91b\",\n        \"agency\": \"Building and Construction Authority (BCA)\",\n        \"domain\": \"bca.gov.sg\",\n        \"code\": \"bca\"\n    },\n    {\n        \"id\": \"c40e38a67a325b3caab705477d8b0186\",\n        \"agency\": \"Central Narcotics Bureau (CNB)\",\n        \"domain\": \"cnb.gov.sg\",\n        \"code\": \"cnb\"\n    },\n    {\n        \"id\": \"5acd221933c256e29a1fe401a1f488e0\",\n        \"agency\": \"Central Provident Fund Board (CPFB)\",\n        \"domain\": \"cpf.gov.sg\",\n        \"code\": \"cpfb\"\n    },\n    {\n        \"id\": \"63ee8ed40f345296a3ada66c35b2d705\",\n        \"agency\": \"Centre For Strategic Infocomm Technologies (CSIT)\",\n        \"domain\": \"csit.gov.sg\",\n        \"code\": \"csit\"\n    },\n    {\n        \"id\": \"ed835f35412d5fc4aa3429d41a49ef6a\",\n        \"agency\": \"Civil Aviation Authority of Singapore (CAAS)\",\n        \"domain\": \"caas.gov.sg\",\n        \"code\": \"caas\"\n    },\n    {\n        \"id\": \"35f3d1f339ce53d5985f92188fa910e2\",\n        \"agency\": \"Civil Service College (CSC)\",\n        \"domain\": \"cscollege.gov.sg\",\n        \"code\": \"csc\"\n    },\n    {\n        \"id\": \"0b81bb361e4a5902be26c3b909b3eafd\",\n        \"agency\": \"Competition and Consumer Commission of Singapore (CCCS)\",\n        \"domain\": \"cccs.gov.sg\",\n        \"code\": \"cccs\"\n    },\n    {\n        \"id\": \"4023af03bc925584a2c28dd8a4171a33\",\n        \"agency\": \"Corrupt Practices Investigation Bureau (CPIB)\",\n        \"domain\": \"cpib.gov.sg\",\n        \"code\": \"cpib\"\n    },\n    {\n        \"id\": \"955169678bcc5a34a5df12726f514547\",\n        \"agency\": \"Council for Estate Agencies (CEA)\",\n        \"domain\": \"cea.gov.sg\",\n        \"code\": \"cea\"\n    },\n    {\n        \"id\": \"0f85810e5df15e1d9e2d4a4b15a3e67e\",\n        \"agency\": \"Cybersecurity Agency of Singapore (CSA)\",\n        \"domain\": \"csa.gov.sg\",\n        \"code\": \"csa\"\n    },\n    {\n        \"id\": \"997b6d0054415d2380b56faa823e895b\",\n        \"agency\": \"Defence Science and Technology Agency (DSTA)\",\n        \"domain\": \"dsta.gov.sg\",\n        \"code\": \"dsta\"\n    },\n    {\n        \"id\": \"cb67de7527925a56b1b41180a11458fb\",\n        \"agency\": \"Department of Statistics (DOS)\",\n        \"domain\": \"singstat.gov.sg\",\n        \"code\": \"dos\"\n    },\n    {\n        \"id\": \"5c6a7cedaa975879b98c478fec386201\",\n        \"agency\": \"Early Childhood Development Agency (ECDA)\",\n        \"domain\": \"ecda.gov.sg\",\n        \"code\": \"ecda\"\n    },\n    {\n        \"id\": \"e9851c1e507a5f8a9c355400293a183a\",\n        \"agency\": \"Economic Development Board (EDB)\",\n        \"domain\": \"edb.gov.sg\",\n        \"code\": \"edb\"\n    },\n    {\n        \"id\": \"a6ea029e7e135deeadde4073171fb491\",\n        \"agency\": \"Elections Department (ELD)\",\n        \"domain\": \"eld.gov.sg\",\n        \"code\": \"eld\"\n    },\n    {\n        \"id\": \"df9076925bd65713ac19f8d5c41ce87a\",\n        \"agency\": \"Energy Market Authority (EMA)\",\n        \"domain\": \"ema.gov.sg\",\n        \"code\": \"ema\"\n    },\n    {\n        \"id\": \"f6cf68c86c3e5e74b569a1670365cd7f\",\n        \"agency\": \"Enterprise Singapore (ENTERPRISESG)\",\n        \"domain\": \"enterprisesg.gov.sg\",\n        \"code\": \"enterprisesg\"\n    },\n    {\n        \"id\": \"26e5b1eadd565651b96901fda3a3380a\",\n        \"agency\": \"Gambling Regulatory Authority (GRA)\",\n        \"domain\": \"gra.gov.sg\",\n        \"code\": \"gra\"\n    },\n    {\n        \"id\": \"ffceedfbcf445c96aa081b5613faf81b\",\n        \"agency\": \"Government Technology Agency (GOVTECH)\",\n        \"domain\": \"tech.gov.sg\",\n        \"code\": \"govtech\"\n    },\n    {\n        \"id\": \"2dd5275a4bac511189328a8991b3a44e\",\n        \"agency\": \"Health Promotion Board (HPB)\",\n        \"domain\": \"hpb.gov.sg\",\n        \"code\": \"hpb\"\n    },\n    {\n        \"id\": \"681cd44776ae5d70acea5de4846fea5e\",\n        \"agency\": \"Health Sciences Authority (HSA)\",\n        \"domain\": \"hsa.gov.sg\",\n        \"code\": \"hsa\"\n    },\n    {\n        \"id\": \"aabfb4b0ea6e5bfdacd1378c87b5c3ba\",\n        \"agency\": \"Home Team Academy (HTA)\",\n        \"domain\": \"hta.gov.sg\",\n        \"code\": \"hta\"\n    },\n    {\n        \"id\": \"35fd608a21d659b491b9ef8e62f7b437\",\n        \"agency\": \"Home Team Science and Technology Agency (HTX)\",\n        \"domain\": \"htx.gov.sg\",\n        \"code\": \"htx\"\n    },\n    {\n        \"id\": \"a7cf08fe147b5fafaa7f19162c334950\",\n        \"agency\": \"Hotels Licensing Board (HLB)\",\n        \"domain\": \"hlb.gov.sg\",\n        \"code\": \"hlb\"\n    },\n    {\n        \"id\": \"ac06602d6e8a51a1a145df42bb90f7ea\",\n        \"agency\": \"Housing & Development Board (HDB)\",\n        \"domain\": \"hdb.gov.sg\",\n        \"code\": \"hdb\"\n    },\n    {\n        \"id\": \"ab571246fbf15014a628be124cff9bdd\",\n        \"agency\": \"Immigration & Checkpoints Authority (ICA)\",\n        \"domain\": \"ica.gov.sg\",\n        \"code\": \"ica\"\n    },\n    {\n        \"id\": \"4808a9e257305cbd91ee6bffe01f87d2\",\n        \"agency\": \"Industrial Arbitration Court (IAC)\",\n        \"domain\": \"iac.gov.sg\",\n        \"code\": \"iac\"\n    },\n    {\n        \"id\": \"0647444514245049946bc74be3cb5e50\",\n        \"agency\": \"Info-Communications Media Development Authority (IMDA)\",\n        \"domain\": \"imda.gov.sg\",\n        \"code\": \"imda\"\n    },\n    {\n        \"id\": \"7165b0686d245b8b840c7b3516fb44ac\",\n        \"agency\": \"Inland Revenue Authority of Singapore (IRAS)\",\n        \"domain\": \"iras.gov.sg\",\n        \"code\": \"iras\"\n    },\n    {\n        \"id\": \"d4a5c3fd90475820ac8179aafc7ceabf\",\n        \"agency\": \"Institute of Technical Education (ITE)\",\n        \"domain\": \"ite.edu.sg\",\n        \"code\": \"ite\"\n    },\n    {\n        \"id\": \"5915c20e108c53d681979ffe36834a7c\",\n        \"agency\": \"Intellectual Property Office of Singapore (IPOS)\",\n        \"domain\": \"ipos.gov.sg\",\n        \"code\": \"ipos\"\n    },\n    {\n        \"id\": \"f19c961f20175de09ed8c6b7593eca21\",\n        \"agency\": \"Internal Security Department (ISD)\",\n        \"domain\": \"isd.gov.sg\",\n        \"code\": \"isd\"\n    },\n    {\n        \"id\": \"65e139b6f759520080fcd95e6e2fd015\",\n        \"agency\": \"Iseas-Yusof Ishak Institute (ISEAS)\",\n        \"domain\": \"iseas.gov.sg\",\n        \"code\": \"iseas\"\n    },\n    {\n        \"id\": \"1240d5f56a385dca9a3dab457aa8c7a8\",\n        \"agency\": \"Istana (ISTANA)\",\n        \"domain\": \"istana.gov.sg\",\n        \"code\": \"istana\"\n    },\n    {\n        \"id\": \"1dcb609b3b0c59a59d6c9c02453eae93\",\n        \"agency\": \"JTC Corporation (JTC)\",\n        \"domain\": \"jtc.gov.sg\",\n        \"code\": \"jtc\"\n    },\n    {\n        \"id\": \"2520505b352e575f8e621062a75b53a3\",\n        \"agency\": \"Judiciary, Family Justice Courts (FJCOURTS)\",\n        \"domain\": \"judiciary.gov.sg\",\n        \"code\": \"fjcourts\"\n    },\n    {\n        \"id\": \"efa4da0c31265719a1248a2befb4fb2c\",\n        \"agency\": \"Judiciary, State Courts (STATECOURTS)\",\n        \"domain\": \"statecourts.gov.sg\",\n        \"code\": \"statecourts\"\n    },\n    {\n        \"id\": \"3e0d8e4fa83d5a449f947948c63f17a6\",\n        \"agency\": \"Judiciary, Supreme Court (SUPCOURT)\",\n        \"domain\": \"supcourt.gov.sg\",\n        \"code\": \"supcourt\"\n    },\n    {\n        \"id\": \"dd1544c900f85701b06250817c79e704\",\n        \"agency\": \"Land Surveyors Board (LSB)\",\n        \"domain\": \"mlaw.gov.sg\",\n        \"code\": \"lsb\"\n    },\n    {\n        \"id\": \"888b7359b3fe5148b6a721bc05b7b69e\",\n        \"agency\": \"Land Transport Authority (LTA)\",\n        \"domain\": \"lta.gov.sg\",\n        \"code\": \"lta\"\n    },\n    {\n        \"id\": \"f3fe92b948c05d4d8c3cbcd0727c520e\",\n        \"agency\": \"Legal Aid Bureau (LAB)\",\n        \"domain\": \"lab.gov.sg\",\n        \"code\": \"lab\"\n    },\n    {\n        \"id\": \"1d880382bb2757b69c52a8657e8929b9\",\n        \"agency\": \"Majlis Ugama Islam, Singapura (MUIS)\",\n        \"domain\": \"muis.gov.sg\",\n        \"code\": \"muis\"\n    },\n    {\n        \"id\": \"867ae5933af15fbdad843f1b801f6ead\",\n        \"agency\": \"Maritime and Port Authority of Singapore (MPA)\",\n        \"domain\": \"mpa.gov.sg\",\n        \"code\": \"mpa\"\n    },\n    {\n        \"id\": \"0c5f5999db92532d8db0bfa11ce0811e\",\n        \"agency\": \"Ministry of Communications and Information (MCI)\",\n        \"domain\": \"mci.gov.sg\",\n        \"code\": \"mci\"\n    },\n    {\n        \"id\": \"b24bb4946ffa5e9abae772e223adac49\",\n        \"agency\": \"Ministry of Culture, Community and Youth (MCCY)\",\n        \"domain\": \"mccy.gov.sg\",\n        \"code\": \"mccy\"\n    },\n    {\n        \"id\": \"3233b4d0d5d05c9fbae7b19358a834ac\",\n        \"agency\": \"Ministry of Defence (MINDEF)\",\n        \"domain\": \"mindef.gov.sg\",\n        \"code\": \"mindef\"\n    },\n    {\n        \"id\": \"3f2757d733d25917be1acf493b206968\",\n        \"agency\": \"Ministry of Digital Development and Information (MDDI)\",\n        \"domain\": \"mddi.gov.sg\",\n        \"code\": \"mddi\"\n    },\n    {\n        \"id\": \"f891c5b724fb5f8aa2243dbe8436b3fd\",\n        \"agency\": \"Ministry of Education (MOE)\",\n        \"domain\": \"moe.gov.sg\",\n        \"code\": \"moe\"\n    },\n    {\n        \"id\": \"8fd93c362fd951a29ca892b91d4b47bc\",\n        \"agency\": \"Ministry of Finance (MOF)\",\n        \"domain\": \"mof.gov.sg\",\n        \"code\": \"mof\"\n    },\n    {\n        \"id\": \"57451a92ec26570295941a4975395e15\",\n        \"agency\": \"Ministry of Foreign Affairs (MFA)\",\n        \"domain\": \"mfa.gov.sg\",\n        \"code\": \"mfa\"\n    },\n    {\n        \"id\": \"d28d8f8f2c935beb8132447b6e52bedc\",\n        \"agency\": \"Ministry of Health (MOH)\",\n        \"domain\": \"moh.gov.sg\",\n        \"code\": \"moh\"\n    },\n    {\n        \"id\": \"b5bbd303da78518aae446538c53dd4ff\",\n        \"agency\": \"Ministry of Home Affairs (MHA)\",\n        \"domain\": \"mha.gov.sg\",\n        \"code\": \"mha\"\n    },\n    {\n        \"id\": \"f448e4d086955683bbba2db457a646dd\",\n        \"agency\": \"Ministry of Law (MINLAW)\",\n        \"domain\": \"mlaw.gov.sg\",\n        \"code\": \"minlaw\"\n    },\n    {\n        \"id\": \"7bb1fa0d9a7e5315838fedd7dd8bf94f\",\n        \"agency\": \"Ministry of Manpower (MOM)\",\n        \"domain\": \"mom.gov.sg\",\n        \"code\": \"mom\"\n    },\n    {\n        \"id\": \"afb7b352f25a5e959795964df1c603fe\",\n        \"agency\": \"Ministry of National Development (MND)\",\n        \"domain\": \"mnd.gov.sg\",\n        \"code\": \"mnd\"\n    },\n    {\n        \"id\": \"5393f855826050c2b09eb35e8bb347d9\",\n        \"agency\": \"Ministry of Social and Family Development (MSF)\",\n        \"domain\": \"msf.gov.sg\",\n        \"code\": \"msf\"\n    },\n    {\n        \"id\": \"3ae7c655cbb75b01979940cb4a5b8be0\",\n        \"agency\": \"Ministry of Sustainability and the Environment (MSE)\",\n        \"domain\": \"mse.gov.sg\",\n        \"code\": \"mse\"\n    },\n    {\n        \"id\": \"f8277df18ca95fec88c1c35e8bda1d69\",\n        \"agency\": \"Ministry of Trade and Industry (MTI)\",\n        \"domain\": \"mti.gov.sg\",\n        \"code\": \"mti\"\n    },\n    {\n        \"id\": \"35d53cbcbd245a3ea1ba513e0e6ca3eb\",\n        \"agency\": \"Ministry of Transport (MOT)\",\n        \"domain\": \"mot.gov.sg\",\n        \"code\": \"mot\"\n    },\n    {\n        \"id\": \"dfbb14dd4205523eaece4aed91c7ed02\",\n        \"agency\": \"Monetary Authority of Singapore (MAS)\",\n        \"domain\": \"mas.gov.sg\",\n        \"code\": \"mas\"\n    },\n    {\n        \"id\": \"2fefc3105c835bdaab1b1294b6114ecf\",\n        \"agency\": \"Municipal Services Office (MSO)\",\n        \"domain\": \"mso.gov.sg\",\n        \"code\": \"mso\"\n    },\n    {\n        \"id\": \"f6f323d8c62656f8aa79138b29e40a44\",\n        \"agency\": \"Nanyang Polytechnic (NYP)\",\n        \"domain\": \"nyp.edu.sg\",\n        \"code\": \"nyp\"\n    },\n    {\n        \"id\": \"92128bca16a256f48b8419c9d33d6737\",\n        \"agency\": \"National Arts Council (NAC)\",\n        \"domain\": \"nac.gov.sg\",\n        \"code\": \"nac\"\n    },\n    {\n        \"id\": \"d39c64c0067559f79cbfbd96f2d09080\",\n        \"agency\": \"National Council of Social Service (NCSS)\",\n        \"domain\": \"ncss.gov.sg\",\n        \"code\": \"ncss\"\n    },\n    {\n        \"id\": \"34daffd8823e54f8a40d4208ca6a0701\",\n        \"agency\": \"National Environment Agency (NEA)\",\n        \"domain\": \"nea.gov.sg\",\n        \"code\": \"nea\"\n    },\n    {\n        \"id\": \"cb41d1699e485ad58cb07823a4dadf9e\",\n        \"agency\": \"National Heritage Board (NHB)\",\n        \"domain\": \"nhb.gov.sg\",\n        \"code\": \"nhb\"\n    },\n    {\n        \"id\": \"f8cfd51177cd50b7abeb524fb62cddce\",\n        \"agency\": \"National Library Board (NLB)\",\n        \"domain\": \"nlb.gov.sg\",\n        \"code\": \"nlb\"\n    },\n    {\n        \"id\": \"fd43972a48a257eabb039fe097aaaf4f\",\n        \"agency\": \"National Parks Board (NPARKS)\",\n        \"domain\": \"nparks.gov.sg\",\n        \"code\": \"nparks\"\n    },\n    {\n        \"id\": \"d41998e24a1f5c6491c2064e2e3380a8\",\n        \"agency\": \"National Research Foundation (NRF)\",\n        \"domain\": \"nrf.gov.sg\",\n        \"code\": \"nrf\"\n    },\n    {\n        \"id\": \"2b7e1c4c08d55ad789c2947c04ebeaad\",\n        \"agency\": \"National Security Coordination Secretariat (NSCS)\",\n        \"domain\": \"nscs.gov.sg\",\n        \"code\": \"nscs\"\n    },\n    {\n        \"id\": \"351533491d2959afa55113b31d74b0e8\",\n        \"agency\": \"National Youth Council (NYC)\",\n        \"domain\": \"nyc.gov.sg\",\n        \"code\": \"nyc\"\n    },\n    {\n        \"id\": \"324ddd0bd3905963bd3c198cfb465a14\",\n        \"agency\": \"Ngee Ann Polytechnic (NP)\",\n        \"domain\": \"np.edu.sg\",\n        \"code\": \"np\"\n    },\n    {\n        \"id\": \"41c81673c4d8525fb33f2381d474f0fa\",\n        \"agency\": \"PUB, Singapore's National Water Agency (PUB)\",\n        \"domain\": \"pub.gov.sg\",\n        \"code\": \"pub\"\n    },\n    {\n        \"id\": \"ce0211bfac835751b17ea106d0d5946c\",\n        \"agency\": \"Parliament of Singapore (PARL)\",\n        \"domain\": \"parl.gov.sg\",\n        \"code\": \"parl\"\n    },\n    {\n        \"id\": \"a28dbdfa1679590498301c9e94264a4d\",\n        \"agency\": \"People's Association (PA)\",\n        \"domain\": \"pa.gov.sg\",\n        \"code\": \"pa\"\n    },\n    {\n        \"id\": \"78c8a5598ce85c9295b15e8b73e516ee\",\n        \"agency\": \"Prime Minister's Office (PMO)\",\n        \"domain\": \"pmo.gov.sg\",\n        \"code\": \"pmo\"\n    },\n    {\n        \"id\": \"11a7566c1ea15a2f86a46d473e579d96\",\n        \"agency\": \"Professional Engineers Board, Singapore (PEB)\",\n        \"domain\": \"peb.gov.sg\",\n        \"code\": \"peb\"\n    },\n    {\n        \"id\": \"cbcec463356d5536ac514c0582c6ee9c\",\n        \"agency\": \"Public Service Commission (PSC)\",\n        \"domain\": \"psc.gov.sg\",\n        \"code\": \"psc\"\n    },\n    {\n        \"id\": \"73ce8eed6fb65f6cb089c41a211302b7\",\n        \"agency\": \"Public Service Division (PSD)\",\n        \"domain\": \"psd.gov.sg\",\n        \"code\": \"psd\"\n    },\n    {\n        \"id\": \"5ceadb2b7a3d5291b824c2d82b90fa66\",\n        \"agency\": \"Public Transport Council (PTC)\",\n        \"domain\": \"ptc.gov.sg\",\n        \"code\": \"ptc\"\n    },\n    {\n        \"id\": \"aebe8fa9680950c298599ee20831a8da\",\n        \"agency\": \"Republic Polytechnic (RP)\",\n        \"domain\": \"rp.edu.sg\",\n        \"code\": \"rp\"\n    },\n    {\n        \"id\": \"7ea0f30245d250d381fdebf1fdba6d19\",\n        \"agency\": \"Science Centre Board (SCIENCE)\",\n        \"domain\": \"science.edu.sg\",\n        \"code\": \"science\"\n    },\n    {\n        \"id\": \"099be511eb3958b5b3e33dc4679c6f86\",\n        \"agency\": \"Sentosa Development Corporation (SENTOSA)\",\n        \"domain\": \"sentosa.gov.sg\",\n        \"code\": \"sentosa\"\n    },\n    {\n        \"id\": \"bebf2be2fda15e4bab0b3456b1373816\",\n        \"agency\": \"Singapore Accountancy Commission (SAC)\",\n        \"domain\": \"sac.gov.sg\",\n        \"code\": \"sac\"\n    },\n    {\n        \"id\": \"45479ce336025e1c8974ef75a9af34be\",\n        \"agency\": \"Singapore Civil Defence Force (SCDF)\",\n        \"domain\": \"scdf.gov.sg\",\n        \"code\": \"scdf\"\n    },\n    {\n        \"id\": \"6827e23d95845514b77f59ec7b6126e8\",\n        \"agency\": \"Singapore Customs (CUSTOMS)\",\n        \"domain\": \"customs.gov.sg\",\n        \"code\": \"customs\"\n    },\n    {\n        \"id\": \"1ccd42c581cd537e8bc569338eb8688a\",\n        \"agency\": \"Singapore Dental Council (SDC)\",\n        \"domain\": \"spb.gov.sg\",\n        \"code\": \"sdc\"\n    },\n    {\n        \"id\": \"38f7c90fcc0d515786602cdeaa4e47cc\",\n        \"agency\": \"Singapore Examinations and Assessment Board (SEAB)\",\n        \"domain\": \"seab.gov.sg\",\n        \"code\": \"seab\"\n    },\n    {\n        \"id\": \"5bcfcec634815583824683d86114d0ee\",\n        \"agency\": \"Singapore Food Agency (SFA)\",\n        \"domain\": \"sfa.gov.sg\",\n        \"code\": \"sfa\"\n    },\n    {\n        \"id\": \"6adaf2ff70db5279980fbcb1fbc26bbb\",\n        \"agency\": \"Singapore Labour Foundation (SLF)\",\n        \"domain\": \"slf.gov.sg\",\n        \"code\": \"slf\"\n    },\n    {\n        \"id\": \"f46c3fd10d7f59faaf127f925ccac5f5\",\n        \"agency\": \"Singapore Land Authority (SLA)\",\n        \"domain\": \"sla.gov.sg\",\n        \"code\": \"sla\"\n    },\n    {\n        \"id\": \"2e769c9fdf785a55b0adc24bffd7e0d0\",\n        \"agency\": \"Singapore Medical Council (SMC)\",\n        \"domain\": \"spb.gov.sg\",\n        \"code\": \"smc\"\n    },\n    {\n        \"id\": \"b3d6f44a85215f02af07dfb63aa6e902\",\n        \"agency\": \"Singapore Nursing Board (SNB)\",\n        \"domain\": \"spb.gov.sg\",\n        \"code\": \"snb\"\n    },\n    {\n        \"id\": \"e281966371d153fa894cfc1d9b9d01cb\",\n        \"agency\": \"Singapore Pharmacy Council (SPC)\",\n        \"domain\": \"spb.gov.sg\",\n        \"code\": \"spc\"\n    },\n    {\n        \"id\": \"2b976a4d7e3d5b8bb9b5ba27dd62a655\",\n        \"agency\": \"Singapore Police Force (SPF)\",\n        \"domain\": \"spf.gov.sg\",\n        \"code\": \"spf\"\n    },\n    {\n        \"id\": \"47e9139fe637576199804fd7d4b704b3\",\n        \"agency\": \"Singapore Polytechnic (SP)\",\n        \"domain\": \"sp.edu.sg\",\n        \"code\": \"sp\"\n    },\n    {\n        \"id\": \"420f07b005ee5296b209563d4076031b\",\n        \"agency\": \"Singapore Prison Service (SPS)\",\n        \"domain\": \"pris.gov.sg\",\n        \"code\": \"sps\"\n    },\n    {\n        \"id\": \"8989d26815b5561abd8db20b808d5b4b\",\n        \"agency\": \"Singapore Tourism Board (STB)\",\n        \"domain\": \"stb.gov.sg\",\n        \"code\": \"stb\"\n    },\n    {\n        \"id\": \"704653a9f2ab59a99c26777010d8f3c8\",\n        \"agency\": \"Skillsfuture Singapore (SSG)\",\n        \"domain\": \"ssg.gov.sg\",\n        \"code\": \"ssg\"\n    },\n    {\n        \"id\": \"b12467fb69c457e2a6987db96f32bcb6\",\n        \"agency\": \"Smart Nation and Digital Government Office (SNDGO)\",\n        \"domain\": \"smartnation.gov.sg\",\n        \"code\": \"sndgo\"\n    },\n    {\n        \"id\": \"fccc4beb5cc151f999996a6ad57d5a15\",\n        \"agency\": \"Sport Singapore (SPORTSG)\",\n        \"domain\": \"sport.gov.sg\",\n        \"code\": \"sportsg\"\n    },\n    {\n        \"id\": \"1900227e133254d7b26e9b52a975d5fc\",\n        \"agency\": \"Temasek Polytechnic (TP)\",\n        \"domain\": \"tp.edu.sg\",\n        \"code\": \"tp\"\n    },\n    {\n        \"id\": \"eff07856f1775521a1eebd20374ddcbe\",\n        \"agency\": \"The Cabinet (CAB)\",\n        \"domain\": \"cabinet.gov.sg\",\n        \"code\": \"cab\"\n    },\n    {\n        \"id\": \"74a6ad8e9b0f594ab05f4c1c2430e42b\",\n        \"agency\": \"Tote Board (TOTEBOARD)\",\n        \"domain\": \"toteboard.gov.sg\",\n        \"code\": \"toteboard\"\n    },\n    {\n        \"id\": \"e0dd531972c45dd0ae708032db3b1cf4\",\n        \"agency\": \"Traditional Chinese Medicine Practitioners Board (TCMPB)\",\n        \"domain\": \"spb.gov.sg\",\n        \"code\": \"tcmpb\"\n    },\n    {\n        \"id\": \"d8f391fb40e45ad1b149bc0cc0989e4f\",\n        \"agency\": \"Urban Redevelopment Authority (URA)\",\n        \"domain\": \"ura.gov.sg\",\n        \"code\": \"ura\"\n    },\n    {\n        \"id\": \"08e961b8ba0c54c2a5c2b69c8a83c8cc\",\n        \"agency\": \"VITAL (VITAL)\",\n        \"domain\": \"vital.gov.sg\",\n        \"code\": \"vital\"\n    },\n    {\n        \"id\": \"ce8e0f47a77653f1993292431548f363\",\n        \"agency\": \"Workforce Singapore (WSG)\",\n        \"domain\": \"wsg.gov.sg\",\n        \"code\": \"wsg\"\n    },\n    {\n        \"id\": \"7e69e6e9bff251b0946283604ea31786\",\n        \"agency\": \"Yellow Ribbon Singapore (YRSG)\",\n        \"domain\": \"yellowribbon.gov.sg\",\n        \"code\": \"yrsg\"\n    }\n]"
										}
									]
								}
							]
						}
					]
				},
				{
					"name": "Update User Profile",
					"item": [
						{
							"name": "Attempt to update User Profile",
							"item": [
								{
									"name": "Attempt to update non-existent User",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code should be 403\",function(){",
													"    pm.response.to.have.status(403)",
													"});",
													"",
													"pm.test(\"Attempt to update non-existent User\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.code).to.eql(403);",
													"    pm.expect(jsonData.message).to.eql(\"Unable to modify another user's profile\");",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{AUTH_TOKEN}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"agency\": \"Defence Science and Technology Agency\",\n    \"settings\": {},\n    \"favourites\": {},\n    \"details\": {}\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/profiles/:id",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"profiles",
												":id"
											],
											"variable": [
												{
													"key": "id",
													"value": "{{$guid}}"
												}
											]
										}
									},
									"response": [
										{
											"name": "Attempt to update non-existent User",
											"originalRequest": {
												"method": "PUT",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{AUTH_TOKEN}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"agency\": \"Defence Science and Technology Agency\",\n    \"settings\": {},\n    \"favourites\": {},\n    \"details\": {}\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/profiles/:id",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"profiles",
														":id"
													],
													"variable": [
														{
															"key": "id",
															"value": "{{$guid}}"
														}
													]
												}
											},
											"status": "Not Found",
											"code": 404,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Sun, 23 Jun 2024 20:36:43 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "1319"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "{\n    \"code\": 404,\n    \"message\": \"User does not exist\",\n    \"request\": {\n        \"url\": \"https://localhost:20002/latest/profiles/ae6c7704-2b86-451b-b602-7649146715fe\",\n        \"headers\": {\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJHb3ZUZWNoIiwic3ViIjoiMDRlMDU4OTctM2M2Mi01MmFhLTg2NDAtY2ExMjY0NDFlNTJjIiwiYXVkIjoic2l0LmFpYm90cy5nb3Yuc2ciLCJuYmYiOjE3MTkxNzM3MzYsImlhdCI6MTcxOTE3MzczNiwiZXhwIjoxNzE5MTgwOTM2LCJqdGkiOiIyOTg0ZWY1Zi1hOTM3LTRiMTktYjUzOS1jYmNiYzlmMjZmMDMiLCJuYW1lIjoiRGF2aWR0d2xlZSIsImVtYWlsIjoiZGF2aWR0d2xlZUBkc2FpZC5nb3Yuc2ciLCJuZXdfdXNlciI6ZmFsc2UsInJvbGUiOiIwOWU2YWM1ZS1jMmFhLTRmOTEtYmU5YS00NzJjNDgzNTkwM2YiLCJzdXBlcnVzZXIiOnRydWUsImFnZW5jeSI6ImdvdnRlY2giLCJhdF9oYXNoIjoiamtQNldnUDY4OGVOaEtJUmtocTVWQSJ9.TwDIEH6PpowMRhMRe1GbMPgzACOomvZsZJp_NsQP5dQ\",\n            \"content-type\": \"application/json\",\n            \"user-agent\": \"PostmanRuntime/7.39.0\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"90583e57-ecc9-4dea-9007-e3021fbd4039\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\",\n            \"content-length\": \"118\"\n        },\n        \"path_params\": {\n            \"user_id\": \"ae6c7704-2b86-451b-b602-7649146715fe\"\n        },\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 51218\n        },\n        \"body\": {\n            \"agency\": \"Defence Science and Technology Agency\",\n            \"settings\": {},\n            \"favourites\": {},\n            \"details\": {}\n        }\n    },\n    \"details\": {\n        \"id\": \"ae6c7704-2b86-451b-b602-7649146715fe\"\n    }\n}"
										}
									]
								},
								{
									"name": "Attempt to update another User's Profile",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code should be 403\",function(){",
													"    pm.response.to.have.status(403)",
													"});",
													"",
													"pm.test(\"Attempt to update another User's Profile\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.code).to.eql(403);",
													"    pm.expect(jsonData.message).to.eql(\"Unable to modify another user's profile\");",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{AUTH_TOKEN}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"agency\": \"Defence Science and Technology Agency\",\n    \"settings\": {},\n    \"favourites\": {},\n    \"details\": {}\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/profiles/:id",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"profiles",
												":id"
											],
											"variable": [
												{
													"key": "id",
													"value": "{{TEST_UNVERIFIED_USER1_ID}}"
												}
											]
										}
									},
									"response": [
										{
											"name": "Attempt to update another User's Profile",
											"originalRequest": {
												"method": "PUT",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{AUTH_TOKEN}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"agency\": \"Defence Science and Technology Agency\",\n    \"settings\": {},\n    \"favourites\": {},\n    \"details\": {}\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/profiles/:id",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"profiles",
														":id"
													],
													"variable": [
														{
															"key": "id",
															"value": "{{TEST_UNVERIFIED_USER1_ID}}"
														}
													]
												}
											},
											"status": "Forbidden",
											"code": 403,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Sun, 23 Jun 2024 20:42:58 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "1339"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "{\n    \"code\": 403,\n    \"message\": \"Unable to modify another user's profile\",\n    \"request\": {\n        \"url\": \"https://localhost:20002/latest/profiles/ba28efd5-4f14-516f-aa46-65a5d6dcff67\",\n        \"headers\": {\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJHb3ZUZWNoIiwic3ViIjoiMDRlMDU4OTctM2M2Mi01MmFhLTg2NDAtY2ExMjY0NDFlNTJjIiwiYXVkIjoic2l0LmFpYm90cy5nb3Yuc2ciLCJuYmYiOjE3MTkxNzM3MzYsImlhdCI6MTcxOTE3MzczNiwiZXhwIjoxNzE5MTgwOTM2LCJqdGkiOiIyOTg0ZWY1Zi1hOTM3LTRiMTktYjUzOS1jYmNiYzlmMjZmMDMiLCJuYW1lIjoiRGF2aWR0d2xlZSIsImVtYWlsIjoiZGF2aWR0d2xlZUBkc2FpZC5nb3Yuc2ciLCJuZXdfdXNlciI6ZmFsc2UsInJvbGUiOiIwOWU2YWM1ZS1jMmFhLTRmOTEtYmU5YS00NzJjNDgzNTkwM2YiLCJzdXBlcnVzZXIiOnRydWUsImFnZW5jeSI6ImdvdnRlY2giLCJhdF9oYXNoIjoiamtQNldnUDY4OGVOaEtJUmtocTVWQSJ9.TwDIEH6PpowMRhMRe1GbMPgzACOomvZsZJp_NsQP5dQ\",\n            \"content-type\": \"application/json\",\n            \"user-agent\": \"PostmanRuntime/7.39.0\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"68dff5d9-c5a7-40c5-baa0-982b24224307\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\",\n            \"content-length\": \"118\"\n        },\n        \"path_params\": {\n            \"user_id\": \"ba28efd5-4f14-516f-aa46-65a5d6dcff67\"\n        },\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 34564\n        },\n        \"body\": {\n            \"agency\": \"Defence Science and Technology Agency\",\n            \"settings\": {},\n            \"favourites\": {},\n            \"details\": {}\n        }\n    },\n    \"details\": {\n        \"id\": \"ba28efd5-4f14-516f-aa46-65a5d6dcff67\"\n    }\n}"
										}
									]
								},
								{
									"name": "Attempt to update User Profile with invalid agency",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code should be 400\",function(){",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Attempt to update User's Profile with an invalid agency\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.code).to.eql(400);",
													"    pm.expect(jsonData.message).to.eql(\"Invalid agency provided\");",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{AUTH_TOKEN}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"agency\": \"Defence Science and Technology Agency\",\n    \"settings\": {},\n    \"favourites\": {},\n    \"details\": {}\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/profiles/:id",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"profiles",
												":id"
											],
											"variable": [
												{
													"key": "id",
													"value": "{{TEST_USER1_ID}}"
												}
											]
										}
									},
									"response": [
										{
											"name": "Attempt to update User Profile with invalid agency",
											"originalRequest": {
												"method": "PUT",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{AUTH_TOKEN}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"agency\": \"Defence Science and Technology Agency\",\n    \"settings\": {},\n    \"favourites\": {},\n    \"details\": {}\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/profiles/:id",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"profiles",
														":id"
													],
													"variable": [
														{
															"key": "id",
															"value": "{{TEST_USER1_ID}}"
														}
													]
												}
											},
											"status": "Bad Request",
											"code": 400,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Mon, 24 Jun 2024 03:01:45 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "1370"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "{\n    \"code\": 400,\n    \"message\": \"Invalid agency provided\",\n    \"request\": {\n        \"url\": \"https://localhost:20002/latest/profiles/04e05897-3c62-52aa-8640-ca126441e52c\",\n        \"headers\": {\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJHb3ZUZWNoIiwic3ViIjoiMDRlMDU4OTctM2M2Mi01MmFhLTg2NDAtY2ExMjY0NDFlNTJjIiwiYXVkIjoic2l0LmFpYm90cy5nb3Yuc2ciLCJuYmYiOjE3MTkxOTgwNzAsImlhdCI6MTcxOTE5ODA3MCwiZXhwIjoxNzE5MjA1MjcwLCJqdGkiOiJiZjY0MGM4NS00OTA1LTRjMDItYmE4ZS0yOTkxOTJiNmU5ZGMiLCJuYW1lIjoiRGF2aWR0d2xlZSIsImVtYWlsIjoiZGF2aWR0d2xlZUBkc2FpZC5nb3Yuc2ciLCJuZXdfdXNlciI6dHJ1ZSwicm9sZSI6IjAyMGM4OGIxLTc1ZmMtNDYzZC1iMzA1LTgxMWYxYTdjNTQ5MyIsInN1cGVydXNlciI6dHJ1ZSwiYWdlbmN5IjoiZ292dGVjaCIsImF0X2hhc2giOiJJU2gyMVBYVWl2THNVTU1wTnRhZTVBIn0.EEvf1WqO1qJlZ-FoGvXpxGiNi6S8xNDU56zDEEUQWCM\",\n            \"content-type\": \"application/json\",\n            \"user-agent\": \"PostmanRuntime/7.39.0\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"43079e71-920b-490b-9ac9-fa211f191420\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\",\n            \"content-length\": \"118\"\n        },\n        \"path_params\": {\n            \"user_id\": \"04e05897-3c62-52aa-8640-ca126441e52c\"\n        },\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 39286\n        },\n        \"body\": {\n            \"agency\": \"Defence Science and Technology Agency\",\n            \"settings\": {},\n            \"favourites\": {},\n            \"details\": {}\n        }\n    },\n    \"details\": {\n        \"agency\": \"Defence Science and Technology Agency\",\n        \"settings\": {},\n        \"favourites\": {},\n        \"details\": {}\n    }\n}"
										}
									]
								}
							]
						},
						{
							"name": "Update User Profile",
							"item": [
								{
									"name": "Update User Profile",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code should be 204\",function(){",
													"    pm.response.to.have.status(204)",
													"})"
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Authorization",
												"value": "Bearer {{AUTH_TOKEN}}"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"agency\": \"dsta\",\n    \"avatar\": \"e291372d-d33d-5f51-9403-943dec5587b8\",\n    \"description\":\"This is a test profile description\",\n    \"settings\": {\n        \"hello\": \"world\"\n    },\n    \"favourites\": {\n        \"test\": [\"this\", \"is\", \"a\", \"test\"]\n    },\n    \"details\": {}\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/profiles/:id",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"profiles",
												":id"
											],
											"variable": [
												{
													"key": "id",
													"value": "{{TEST_USER1_ID}}"
												}
											]
										}
									},
									"response": [
										{
											"name": "Update User Profile",
											"originalRequest": {
												"method": "PUT",
												"header": [
													{
														"key": "Authorization",
														"value": "Bearer {{AUTH_TOKEN}}"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"agency\": \"dsta\",\n    \"avatar\": \"e291372d-d33d-5f51-9403-943dec5587b8\",\n    \"description\":\"This is a test profile description\",\n    \"settings\": {\n        \"hello\": \"world\"\n    },\n    \"favourites\": {\n        \"test\": [\"this\", \"is\", \"a\", \"test\"]\n    },\n    \"details\": {}\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/profiles/:id",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"profiles",
														":id"
													],
													"variable": [
														{
															"key": "id",
															"value": "{{TEST_USER1_ID}}"
														}
													]
												}
											},
											"status": "No Content",
											"code": 204,
											"_postman_previewlanguage": "plain",
											"header": [
												{
													"key": "date",
													"value": "Mon, 24 Jun 2024 03:04:40 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												}
											],
											"cookie": [],
											"body": null
										}
									]
								},
								{
									"name": "Retrieve User",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {\r",
													"    pm.response.to.have.status(200);\r",
													"});\r",
													"pm.test(\"Retrieve SCIM User\", function () {\r",
													"    var jsonData = pm.response.json();\r",
													"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_USER1_ID\"));\r",
													"    pm.expect(jsonData.externalId).to.eql(pm.environment.get(\"TEST_USER1_ID\"));\r",
													"    pm.expect(jsonData.displayName).to.eql(pm.environment.get(\"TEST_USER1_NAME\"));\r",
													"    pm.expect(jsonData.userName).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
													"    pm.expect(jsonData.name.formatted).to.eql(pm.environment.get(\"TEST_USER1_NAME\"));\r",
													"    pm.expect(jsonData.userName).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
													"    pm.expect(jsonData.preferredLanguage).to.eql(\"en\");\r",
													"    pm.expect(jsonData.locale).to.eql(\"en_SG\");\r",
													"    pm.expect(jsonData.timezone).to.eql(\"Singapore\");\r",
													"    pm.expect(jsonData.emails.length).to.eql(1);\r",
													"    pm.expect(jsonData.emails[0].value).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
													"    pm.expect(jsonData.groups.length).to.eql(1);\r",
													"    pm.expect(jsonData.groups[0].display).to.eql(\"Data Science and AI Division (Defunct)\");\r",
													"    pm.expect(jsonData.roles.length).to.eql(1);\r",
													"    pm.expect(jsonData.roles[0].display).to.eql(\"Superuser\");\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"].agency).to.eql(\"dsta\");\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"].verified).to.eql(true);\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"].allow).to.eql(true);\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"].active).to.eql(true);\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"].description).to.eql(\"This is a test profile description\");\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"].settings).to.eql({\"hello\": \"world\"});\r",
													"    pm.expect(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"].favourites).to.eql({\"test\": [\"this\", \"is\", \"a\", \"test\"]});\r",
													"    var required_keys = [\"details\", \"apiKeys\"];\r",
													"    pm.expect(required_keys.every((v) => Object.keys(jsonData[\"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"]).includes(v))).to.eql(true);\r",
													"    pm.expect(jsonData.meta.resourceType).to.eql(\"users\");\r",
													"    pm.expect(jsonData.meta.owner).to.eql(pm.environment.get(\"TEST_USER1_ID\"));\r",
													"    pm.expect(jsonData.meta.ownerType).to.eql(\"user\");\r",
													"    pm.expect(jsonData.meta.location).to.match(new RegExp(\"/latest/users/\" + pm.environment.get(\"TEST_USER1_ID\")));\r",
													"    pm.expect(jsonData.meta.version).to.eql(2);\r",
													"    pm.expect(jsonData.meta.created).to.not.eql(null);\r",
													"    pm.expect(jsonData.meta.lastModified).to.not.eql(null);\r",
													"    pm.expect(jsonData.meta.deleted).to.eql(null);\r",
													"    pm.expect(jsonData.meta.archived).to.eql(null);\r",
													"    required_keys = [\"schemas\", \"nickName\", \"profileUrl\", \"title\", \"userType\", \"password\", \"phoneNumbers\", \"ims\", \"photos\", \"addresses\", \"groups\", \"entitlements\", \"x509Certificates\"];\r",
													"    pm.expect(required_keys.every((v) => Object.keys(jsonData).includes(v))).to.eql(true);\r",
													"    pm.environment.set(\"TEST_USER1_GROUP_ID\", jsonData.groups[0].value);\r",
													"});"
												],
												"type": "text/javascript",
												"packages": {}
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													""
												],
												"type": "text/javascript",
												"packages": {}
											}
										}
									],
									"request": {
										"auth": {
											"type": "bearer",
											"bearer": [
												{
													"key": "token",
													"value": "{{AUTH_TOKEN}}",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/users/:id",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"users",
												":id"
											],
											"variable": [
												{
													"key": "id",
													"value": "{{TEST_USER1_ID}}"
												}
											]
										}
									},
									"response": [
										{
											"name": "Retrieve User",
											"originalRequest": {
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/users/:id",
													"protocol": "{{SCHEME}}",
													"host": [
														"{{AGENTS_URL}}"
													],
													"path": [
														"{{API_VERSION}}",
														"users",
														":id"
													],
													"variable": [
														{
															"key": "id",
															"value": "{{TEST_USER1_ID}}"
														}
													]
												}
											},
											"status": "OK",
											"code": 200,
											"_postman_previewlanguage": "json",
											"header": [
												{
													"key": "date",
													"value": "Thu, 04 Jul 2024 08:35:45 GMT"
												},
												{
													"key": "server",
													"value": "uvicorn"
												},
												{
													"key": "content-length",
													"value": "1746"
												},
												{
													"key": "content-type",
													"value": "application/json"
												}
											],
											"cookie": [],
											"body": "{\n    \"meta\": {\n        \"resourceType\": \"users\",\n        \"owner\": \"04e058973c6252aa8640ca126441e52c\",\n        \"ownerType\": \"user\",\n        \"location\": \"https://sit.aibots.gov.sg/latest/users/04e058973c6252aa8640ca126441e52c\",\n        \"version\": 2,\n        \"created\": \"2024-07-04T08:18:10.248000Z\",\n        \"lastModified\": \"2024-07-04T08:35:20.945000Z\",\n        \"deleted\": null,\n        \"archived\": null\n    },\n    \"id\": \"04e058973c6252aa8640ca126441e52c\",\n    \"schemas\": [\n        \"urn:ietf:params:scim:schemas:core:2.0:User\",\n        \"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\"\n    ],\n    \"externalId\": \"04e058973c6252aa8640ca126441e52c\",\n    \"userName\": \"davidtwlee@dsaid.gov.sg\",\n    \"displayName\": \"Davidtwlee\",\n    \"name\": {\n        \"familyName\": null,\n        \"givenName\": null,\n        \"middleName\": null,\n        \"honorificPrefix\": null,\n        \"honorificSuffix\": null,\n        \"formatted\": \"Davidtwlee\"\n    },\n    \"nickName\": null,\n    \"profileUrl\": null,\n    \"title\": null,\n    \"userType\": null,\n    \"preferredLanguage\": \"en\",\n    \"locale\": \"en_SG\",\n    \"timezone\": \"Singapore\",\n    \"password\": null,\n    \"emails\": [\n        {\n            \"type\": \"Government Email\",\n            \"primary\": true,\n            \"display\": \"davidtwlee@dsaid.gov.sg\",\n            \"value\": \"davidtwlee@dsaid.gov.sg\"\n        }\n    ],\n    \"phoneNumbers\": [],\n    \"ims\": [],\n    \"photos\": [\n        {\n            \"type\": \"avatar\",\n            \"primary\": false,\n            \"display\": \"Avatar\",\n            \"value\": \"e291372dd33d5f519403943dec5587b8\"\n        }\n    ],\n    \"addresses\": [],\n    \"groups\": [\n        {\n            \"type\": \"groups\",\n            \"$ref\": \"https://sit.aibots.gov.sg/latest/groups/6aa208e6c4b05fe78a591c8b8dcddffb\",\n            \"display\": \"Data Science and AI Division (Defunct)\",\n            \"value\": \"6aa208e6c4b05fe78a591c8b8dcddffb\"\n        }\n    ],\n    \"entitlements\": [],\n    \"roles\": [\n        {\n            \"type\": \"rbac\",\n            \"primary\": true,\n            \"display\": \"Superuser\",\n            \"value\": \"7509ec708797465f9ff6dc7222f62ccb\"\n        }\n    ],\n    \"x509Certificates\": [],\n    \"urn:ietf:params:scim:schemas:extensions:atlas:2.0:User\": {\n        \"description\": \"This is a test profile description\",\n        \"agency\": \"dsta\",\n        \"settings\": {\n            \"hello\": \"world\"\n        },\n        \"favourites\": {\n            \"test\": [\n                \"this\",\n                \"is\",\n                \"a\",\n                \"test\"\n            ]\n        },\n        \"details\": {},\n        \"verified\": true,\n        \"apiKeys\": [],\n        \"allow\": true,\n        \"active\": true\n    }\n}"
										}
									]
								}
							]
						}
					]
				},
				{
					"name": "Logout",
					"item": [
						{
							"name": "Logging user out",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/logins",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{AGENTS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"logins"
									]
								}
							},
							"response": [
								{
									"name": "Logging user out",
									"originalRequest": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/logins",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"logins"
											]
										}
									},
									"status": "No Content",
									"code": 204,
									"_postman_previewlanguage": "plain",
									"header": [
										{
											"key": "date",
											"value": "Mon, 24 Jun 2024 03:40:12 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										}
									],
									"cookie": [],
									"body": null
								}
							]
						},
						{
							"name": "Attempt to retrieve User Logins after logging out",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 401\", function () {\r",
											"    pm.response.to.have.status(401);\r",
											"});\r",
											"pm.test(\"Attempt to retrieve User Logins after logging out\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(401);\r",
											"    pm.expect(jsonData.message).to.eql(\"Token does not exist\");\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/logins",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{AGENTS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"logins"
									]
								}
							},
							"response": [
								{
									"name": "Attempt to retrieve User Logins after logging out",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/logins",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"logins"
											]
										}
									},
									"status": "Unauthorized",
									"code": 401,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Mon, 24 Jun 2024 03:40:23 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "1041"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 401,\n    \"message\": \"Token does not exist\",\n    \"request\": {\n        \"url\": \"https://localhost:20002/latest/logins\",\n        \"headers\": {\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJHb3ZUZWNoIiwic3ViIjoiMDRlMDU4OTctM2M2Mi01MmFhLTg2NDAtY2ExMjY0NDFlNTJjIiwiYXVkIjoic2l0LmFpYm90cy5nb3Yuc2ciLCJuYmYiOjE3MTkxOTgwNzAsImlhdCI6MTcxOTE5ODA3MCwiZXhwIjoxNzE5MjA1MjcwLCJqdGkiOiJiZjY0MGM4NS00OTA1LTRjMDItYmE4ZS0yOTkxOTJiNmU5ZGMiLCJuYW1lIjoiRGF2aWR0d2xlZSIsImVtYWlsIjoiZGF2aWR0d2xlZUBkc2FpZC5nb3Yuc2ciLCJuZXdfdXNlciI6dHJ1ZSwicm9sZSI6IjAyMGM4OGIxLTc1ZmMtNDYzZC1iMzA1LTgxMWYxYTdjNTQ5MyIsInN1cGVydXNlciI6dHJ1ZSwiYWdlbmN5IjoiZ292dGVjaCIsImF0X2hhc2giOiJJU2gyMVBYVWl2THNVTU1wTnRhZTVBIn0.EEvf1WqO1qJlZ-FoGvXpxGiNi6S8xNDU56zDEEUQWCM\",\n            \"user-agent\": \"PostmanRuntime/7.39.0\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"2a6c965b-27bf-4242-9a83-8f1c1ea91df4\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\"\n        },\n        \"path_params\": {},\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 42496\n        },\n        \"body\": \"\"\n    },\n    \"details\": {}\n}"
								}
							]
						},
						{
							"name": "Attempt to log user out after logging out",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 401\", function () {\r",
											"    pm.response.to.have.status(401);\r",
											"});\r",
											"pm.test(\"Attempt to logout user with no authentication\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(401);\r",
											"    pm.expect(jsonData.message).to.eql(\"Token does not exist\");\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/logins",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{AGENTS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"logins"
									]
								}
							},
							"response": [
								{
									"name": "Attempt to log user out after logging out",
									"originalRequest": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/logins",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"logins"
											]
										}
									},
									"status": "Unauthorized",
									"code": 401,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Mon, 24 Jun 2024 03:40:39 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "1041"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 401,\n    \"message\": \"Token does not exist\",\n    \"request\": {\n        \"url\": \"https://localhost:20002/latest/logins\",\n        \"headers\": {\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJHb3ZUZWNoIiwic3ViIjoiMDRlMDU4OTctM2M2Mi01MmFhLTg2NDAtY2ExMjY0NDFlNTJjIiwiYXVkIjoic2l0LmFpYm90cy5nb3Yuc2ciLCJuYmYiOjE3MTkxOTgwNzAsImlhdCI6MTcxOTE5ODA3MCwiZXhwIjoxNzE5MjA1MjcwLCJqdGkiOiJiZjY0MGM4NS00OTA1LTRjMDItYmE4ZS0yOTkxOTJiNmU5ZGMiLCJuYW1lIjoiRGF2aWR0d2xlZSIsImVtYWlsIjoiZGF2aWR0d2xlZUBkc2FpZC5nb3Yuc2ciLCJuZXdfdXNlciI6dHJ1ZSwicm9sZSI6IjAyMGM4OGIxLTc1ZmMtNDYzZC1iMzA1LTgxMWYxYTdjNTQ5MyIsInN1cGVydXNlciI6dHJ1ZSwiYWdlbmN5IjoiZ292dGVjaCIsImF0X2hhc2giOiJJU2gyMVBYVWl2THNVTU1wTnRhZTVBIn0.EEvf1WqO1qJlZ-FoGvXpxGiNi6S8xNDU56zDEEUQWCM\",\n            \"user-agent\": \"PostmanRuntime/7.39.0\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"8cc2fee9-34e9-481b-8a70-a6ab8bd0f9e8\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\"\n        },\n        \"path_params\": {},\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 48158\n        },\n        \"body\": \"\"\n    },\n    \"details\": {}\n}"
								}
							]
						},
						{
							"name": "Attempt to refresh token after logging out",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 401\", function () {\r",
											"    pm.response.to.have.status(401);\r",
											"});\r",
											"pm.test(\"Attempt to logout user with no authentication\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(401);\r",
											"    pm.expect(jsonData.message).to.eql(\"Token does not exist\");\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"token\": \"{{REFRESH_TOKEN}}\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/refresh",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{AGENTS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"refresh"
									]
								}
							},
							"response": [
								{
									"name": "Attempt to refresh token after logging out",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"token\": \"{{REFRESH_TOKEN}}\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/refresh",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"refresh"
											]
										}
									},
									"status": "Unauthorized",
									"code": 401,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Mon, 24 Jun 2024 03:40:54 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "1140"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 401,\n    \"message\": \"Token does not exist\",\n    \"request\": {\n        \"url\": \"https://localhost:20002/latest/refresh\",\n        \"headers\": {\n            \"content-type\": \"application/json\",\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJHb3ZUZWNoIiwic3ViIjoiMDRlMDU4OTctM2M2Mi01MmFhLTg2NDAtY2ExMjY0NDFlNTJjIiwiYXVkIjoic2l0LmFpYm90cy5nb3Yuc2ciLCJuYmYiOjE3MTkxOTgwNzAsImlhdCI6MTcxOTE5ODA3MCwiZXhwIjoxNzE5MjA1MjcwLCJqdGkiOiJiZjY0MGM4NS00OTA1LTRjMDItYmE4ZS0yOTkxOTJiNmU5ZGMiLCJuYW1lIjoiRGF2aWR0d2xlZSIsImVtYWlsIjoiZGF2aWR0d2xlZUBkc2FpZC5nb3Yuc2ciLCJuZXdfdXNlciI6dHJ1ZSwicm9sZSI6IjAyMGM4OGIxLTc1ZmMtNDYzZC1iMzA1LTgxMWYxYTdjNTQ5MyIsInN1cGVydXNlciI6dHJ1ZSwiYWdlbmN5IjoiZ292dGVjaCIsImF0X2hhc2giOiJJU2gyMVBYVWl2THNVTU1wTnRhZTVBIn0.EEvf1WqO1qJlZ-FoGvXpxGiNi6S8xNDU56zDEEUQWCM\",\n            \"user-agent\": \"PostmanRuntime/7.39.0\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"82088788-3736-4e8a-8149-c3912499d340\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\",\n            \"content-length\": \"53\"\n        },\n        \"path_params\": {},\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 53826\n        },\n        \"body\": {\n            \"token\": \"488d0cd23efbf44766ef6a15eb665cf1\"\n        }\n    },\n    \"details\": {}\n}"
								}
							]
						}
					]
				}
			]
		},
		{
			"name": "Login as Unverified User",
			"item": [
				{
					"name": "First-time Login via Email OTP",
					"item": [
						{
							"name": "Request Email OTP",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 201\", function () {\r",
											"    pm.response.to.have.status(201);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"email\": \"{{TEST_EMAIL_ADDRESS2}}\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{AGENTS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"otp",
										"emails"
									]
								}
							},
							"response": [
								{
									"name": "Request Email OTP",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"email\": \"{{TEST_EMAIL_ADDRESS2}}\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"otp",
												"emails"
											]
										}
									},
									"status": "Created",
									"code": 201,
									"_postman_previewlanguage": "plain",
									"header": [
										{
											"key": "date",
											"value": "Thu, 04 Jul 2024 08:41:13 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "transfer-encoding",
											"value": "chunked"
										}
									],
									"cookie": [],
									"body": null
								}
							]
						},
						{
							"name": "Retrieve Email OTPs",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Retrieve Email OTPs\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    var last = jsonData.length - 1\r",
											"    pm.expect(jsonData.length).to.be.gte(1);\r",
											"    pm.expect(jsonData[last].id).to.match(/^[0-9a-fA-F]{32}$/gi);\r",
											"    pm.expect(jsonData[last].user).to.match(/^[0-9a-fA-F]{32}$/gi);\r",
											"    pm.expect(jsonData[last].email).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS2\"));\r",
											"    const required_keys = [\"otp\", \"timestamp\", \"expiry\"];\r",
											"    pm.expect(required_keys.every((v) => Object.keys(jsonData[last]).includes(v))).to.eql(true);\r",
											"    pm.environment.set(\"TEST_OTP\", jsonData[last].otp);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{AGENTS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"otp",
										"emails"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Email OTPs",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"otp",
												"emails"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 04 Jul 2024 08:41:16 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "226"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "[\n    {\n        \"id\": \"869cc1e6c45d4722a9493f6639844afd\",\n        \"user\": \"ba28efd54f14516faa4665a5d6dcff67\",\n        \"email\": \"david_tw_lee@tech.gov.sg\",\n        \"otp\": \"503950\",\n        \"timestamp\": \"2024-07-04T16:41:13.906000+08:00\",\n        \"expiry\": \"2024-07-04T16:41:25.905000+08:00\"\n    }\n]"
								}
							]
						},
						{
							"name": "Login via Email OTP",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 201\", function () {\r",
											"    pm.response.to.have.status(201);\r",
											"});\r",
											"pm.test(\"Successful Login via Email OTP\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{32}$/gi);\r",
											"    pm.expect(jsonData.email).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS2\"));\r",
											"    pm.expect(jsonData.newUser).to.eql(false);\r",
											"    pm.expect(jsonData.refreshCount).to.eql(0);\r",
											"    pm.expect(jsonData.maxRefresh).to.eql(5);\r",
											"    pm.expect(jsonData.scopes.length).to.eql(19);\r",
											"    pm.expect(jsonData.itemScopes.length).to.eql(3);\r",
											"    pm.expect(jsonData.superuser).to.eql(false);\r",
											"    const required_keys = [\"name\", \"timestamp\", \"token\", \"refreshToken\", \"expiry\", \"issuer\", \"product\", \"refreshCount\", \"maxRefresh\", \"role\"];\r",
											"    pm.expect(required_keys.every((v) => Object.keys(jsonData).includes(v))).to.eql(true);\r",
											"    pm.environment.set(\"REFRESH_TOKEN\", jsonData.refreshToken);\r",
											"    pm.environment.set(\"TEST_USER2_NAME\", jsonData.name);\r",
											"    pm.environment.set(\"TEST_USER2_ID\", jsonData.id);\r",
											"});\r",
											"pm.test(\"Authorization header is present\", function () {\r",
											"    pm.response.to.have.header(\"Authorization\");\r",
											"    pm.environment.set(\"AUTH_TOKEN\", pm.response.headers.get('Authorization').split(' ')[1]);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"email\": \"{{TEST_EMAIL_ADDRESS2}}\",\r\n    \"otp\": \"{{TEST_OTP}}\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails/logins",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{AGENTS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"otp",
										"emails",
										"logins"
									]
								}
							},
							"response": [
								{
									"name": "Login via Email OTP",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"email\": \"{{TEST_EMAIL_ADDRESS2}}\",\r\n    \"otp\": \"{{TEST_OTP}}\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails/logins",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"otp",
												"emails",
												"logins"
											]
										}
									},
									"status": "Created",
									"code": 201,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 25 Jul 2024 18:47:36 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "authorization",
											"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJHb3ZUZWNoIiwic3ViIjoiYmEyOGVmZDU0ZjE0NTE2ZmFhNDY2NWE1ZDZkY2ZmNjciLCJhdWQiOiJzaXQuYWlib3RzLmdvdi5zZyIsIm5iZiI6MTcyMTkzMzI1NywiaWF0IjoxNzIxOTMzMjU3LCJleHAiOjE3MjE5NDA0NTcsImp0aSI6ImVjOGYwZWM5YTdlMzQxMjFiN2YyZDdhMWIwOWQ5NTMxIiwibmFtZSI6IkRhdmlkIFR3IExlZSIsImVtYWlsIjoiZGF2aWRfdHdfbGVlQHRlY2guZ292LnNnIiwibmV3X3VzZXIiOmZhbHNlLCJyb2xlIjoiZjUwYjYzYWI5YzBhNGIxZmIxNGRkZWUyYTRmNmUyZjkiLCJzdXBlcnVzZXIiOmZhbHNlLCJhZ2VuY3kiOiJnb3Z0ZWNoIiwiYXRfaGFzaCI6IjV1aUZKNjNtMXFXclRXX2hSSllldUEifQ.4asycbbrRS27a6MRcor0kzvUtIqM9aJz904WRhAFsZY"
										},
										{
											"key": "content-length",
											"value": "1776"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"name\": \"David Tw Lee\",\n    \"id\": \"ba28efd54f14516faa4665a5d6dcff67\",\n    \"issuer\": \"GovTech\",\n    \"product\": \"sit.aibots.gov.sg\",\n    \"refreshToken\": \"db4514c9071bd80d66080b7a22583747\",\n    \"refreshCount\": 0,\n    \"maxRefresh\": 5,\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJHb3ZUZWNoIiwic3ViIjoiYmEyOGVmZDU0ZjE0NTE2ZmFhNDY2NWE1ZDZkY2ZmNjciLCJhdWQiOiJzaXQuYWlib3RzLmdvdi5zZyIsIm5iZiI6MTcyMTkzMzI1NywiaWF0IjoxNzIxOTMzMjU3LCJleHAiOjE3MjE5NDA0NTcsImp0aSI6ImVjOGYwZWM5YTdlMzQxMjFiN2YyZDdhMWIwOWQ5NTMxIiwibmFtZSI6IkRhdmlkIFR3IExlZSIsImVtYWlsIjoiZGF2aWRfdHdfbGVlQHRlY2guZ292LnNnIiwibmV3X3VzZXIiOmZhbHNlLCJyb2xlIjoiZjUwYjYzYWI5YzBhNGIxZmIxNGRkZWUyYTRmNmUyZjkiLCJzdXBlcnVzZXIiOmZhbHNlLCJhZ2VuY3kiOiJnb3Z0ZWNoIiwiYXRfaGFzaCI6IjV1aUZKNjNtMXFXclRXX2hSSllldUEifQ.4asycbbrRS27a6MRcor0kzvUtIqM9aJz904WRhAFsZY\",\n    \"scopes\": [\n        \"ui.*:allow\",\n        \"login.emails:create\",\n        \"login.sso:create\",\n        \"login:delete\",\n        \"login.refresh:create\",\n        \"login.queries:create,read\",\n        \"login.users:create\",\n        \"login.profiles:update\",\n        \"auth.scopes.format:create\",\n        \"auth.agencies:read\",\n        \"events:read,delete\",\n        \"trackers:create,read\",\n        \"files:create,read,update,delete\",\n        \"knowledge_bases:create,read,update,delete\",\n        \"agents:create,read,update,delete\",\n        \"agents.approvals:create\",\n        \"apikeys:create,read,update,delete\",\n        \"chats:create,read,update,delete\",\n        \"messages:create,read,update,delete\"\n    ],\n    \"itemScopes\": [\n        \"agents.804885b4423e485cb21592c7dfa8baa8:read,allow\",\n        \"chats.804885b4423e485cb21592c7dfa8baa8:create,read,update,delete\",\n        \"messages.804885b4423e485cb21592c7dfa8baa8:create,read,update,delete\"\n    ],\n    \"expiry\": \"2024-07-26T04:47:37.075216+08:00\",\n    \"startUse\": \"2024-07-26T02:47:37.075213+08:00\",\n    \"timestamp\": \"2024-07-26T02:47:37.075280+08:00\",\n    \"email\": \"david_tw_lee@tech.gov.sg\",\n    \"newUser\": false,\n    \"role\": \"f50b63ab9c0a4b1fb14ddee2a4f6e2f9\",\n    \"superuser\": false,\n    \"agency\": \"govtech\",\n    \"agency_id\": null\n}"
								}
							]
						},
						{
							"name": "Retrieve User Logins",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Retrieve User Logins\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.length).to.eql(1);\r",
											"\r",
											"    jsonData.forEach(function (x, i) {\r",
											"        pm.expect(x.id).to.match(/^[0-9a-fA-F]{32}$/gi);\r",
											"        pm.expect(x.email).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS2\"));\r",
											"        pm.expect(x.newUser).to.eql(false);\r",
											"        pm.expect(x.refreshCount).to.eql(0);\r",
											"        pm.expect(x.maxRefresh).to.eql(5);\r",
											"        pm.expect(x.scopes.length).to.eql(19);\r",
											"        pm.expect(x.itemScopes.length).to.eql(3);\r",
											"        pm.expect(x.superuser).to.eql(false);\r",
											"        const required_keys = [\"name\", \"timestamp\", \"expiry\", \"issuer\", \"product\", \"refreshCount\", \"maxRefresh\", \"role\"];\r",
											"        pm.expect(required_keys.every((v) => Object.keys(x).includes(v))).to.eql(true);\r",
											"    });\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/logins",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{AGENTS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"logins"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve User Logins",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/logins",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"logins"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 25 Jul 2024 18:47:42 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "1137"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "[\n    {\n        \"name\": \"David Tw Lee\",\n        \"id\": \"ba28efd54f14516faa4665a5d6dcff67\",\n        \"issuer\": \"GovTech\",\n        \"product\": \"sit.aibots.gov.sg\",\n        \"refreshToken\": \"db4514c9071bd80d66080b7a22583747\",\n        \"refreshCount\": 0,\n        \"maxRefresh\": 5,\n        \"scopes\": [\n            \"ui.*:allow\",\n            \"login.emails:create\",\n            \"login.sso:create\",\n            \"login:delete\",\n            \"login.refresh:create\",\n            \"login.queries:create,read\",\n            \"login.users:create\",\n            \"login.profiles:update\",\n            \"auth.scopes.format:create\",\n            \"auth.agencies:read\",\n            \"events:read,delete\",\n            \"trackers:create,read\",\n            \"files:create,read,update,delete\",\n            \"knowledge_bases:create,read,update,delete\",\n            \"agents:create,read,update,delete\",\n            \"agents.approvals:create\",\n            \"apikeys:create,read,update,delete\",\n            \"chats:create,read,update,delete\",\n            \"messages:create,read,update,delete\"\n        ],\n        \"itemScopes\": [\n            \"agents.804885b4423e485cb21592c7dfa8baa8:read,allow\",\n            \"chats.804885b4423e485cb21592c7dfa8baa8:create,read,update,delete\",\n            \"messages.804885b4423e485cb21592c7dfa8baa8:create,read,update,delete\"\n        ],\n        \"expiry\": \"2024-07-26T04:47:37.075000+08:00\",\n        \"timestamp\": \"2024-07-26T02:47:37.075000+08:00\",\n        \"email\": \"david_tw_lee@tech.gov.sg\",\n        \"newUser\": false,\n        \"role\": \"f50b63ab9c0a4b1fb14ddee2a4f6e2f9\",\n        \"superuser\": false,\n        \"agency\": \"govtech\"\n    }\n]"
								}
							]
						},
						{
							"name": "Retrieve Email OTPs",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Retrieve Email OTPs\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.map((x) => x.otp)).to.not.contain(pm.environment.get(\"TEST_OTP\"));\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{AGENTS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"otp",
										"emails"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Email OTPs",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{AGENTS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"otp",
												"emails"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 04 Jul 2024 08:42:49 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "2"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "[]"
								}
							]
						}
					]
				},
				{
					"name": "#TODO: Permission checks",
					"item": []
				}
			]
		}
	]
}