{
	"info": {
		"_postman_id": "84773ca7-5c29-4fbd-9d2f-1f196e932515",
		"name": "[AIBots] Chats",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "11079569"
	},
	"item": [
		{
			"name": "Login to AIBots",
			"item": [
				{
					"name": "Request Email OTP",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"{{TEST_EMAIL_ADDRESS1}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
							"protocol": "{{SCHEME}}",
							"host": [
								"{{AGENTS_URL}}"
							],
							"path": [
								"{{API_VERSION}}",
								"otp",
								"emails"
							]
						}
					},
					"response": [
						{
							"name": "Request Email OTP",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"email\": \"{{TEST_EMAIL_ADDRESS1}}\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/otp/emails",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{SERVICE_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"otp",
										"emails"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "plain",
							"header": [
								{
									"key": "date",
									"value": "Wed, 20 Dec 2023 03:40:08 GMT"
								},
								{
									"key": "server",
									"value": "uvicorn"
								},
								{
									"key": "transfer-encoding",
									"value": "chunked"
								}
							],
							"cookie": [],
							"body": ""
						}
					]
				},
				{
					"name": "Retrieve Email OTPs",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"pm.test(\"Retrieve Email OTPs\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    var last = jsonData.length - 1\r",
									"    pm.expect(jsonData.length).to.be.gte(1);\r",
									"    pm.expect(jsonData[last].id).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
									"    pm.expect(jsonData[last].user).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
									"    pm.expect(jsonData[last].email).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
									"    const required_keys = [\"otp\", \"timestamp\", \"expiry\"];\r",
									"    pm.expect(required_keys.every((v) => Object.keys(jsonData[last]).includes(v))).to.eql(true);\r",
									"    pm.environment.set(\"TEST_OTP\", jsonData[last].otp);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails",
							"protocol": "{{SCHEME}}",
							"host": [
								"{{AGENTS_URL}}"
							],
							"path": [
								"{{API_VERSION}}",
								"otp",
								"emails"
							]
						}
					},
					"response": [
						{
							"name": "Retrieve Email OTPs",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/otp/emails",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{SERVICE_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"otp",
										"emails"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "date",
									"value": "Thu, 21 Dec 2023 09:00:26 GMT"
								},
								{
									"key": "server",
									"value": "uvicorn"
								},
								{
									"key": "content-length",
									"value": "979"
								},
								{
									"key": "content-type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "[\n    {\n        \"id\": \"a738a7fc-0a12-43f2-9b56-639e5310d8f9\",\n        \"user\": \"06ca779c-e0b8-52ec-a870-3b94edef2229\",\n        \"email\": \"test-dd2ff3c4-0355-4119-9c56-dd5db7864d24@nlb.gov.sg\",\n        \"otp\": \"926830\",\n        \"timestamp\": \"2023-12-21T16:51:17.447000+08:00\",\n        \"expiry\": \"2023-12-21T16:51:29.447000+08:00\"\n    },\n    {\n        \"id\": \"e15a8c3f-341b-4d57-865c-07b332b7e6bb\",\n        \"user\": \"db64bbd5-7322-5c75-a80e-2f532e6b4dd8\",\n        \"email\": \"test-54f9df7e-464b-4c0a-b923-a863c9bf8d7e@nlb.gov.sg\",\n        \"otp\": \"28e6d1\",\n        \"timestamp\": \"2023-12-21T16:53:32.700000+08:00\",\n        \"expiry\": \"2023-12-21T16:53:44.699000+08:00\"\n    },\n    {\n        \"id\": \"d856b9c1-7ea6-473a-94cd-70ee3d2361ff\",\n        \"user\": \"c7e14c81-d723-53a8-b12d-3494b7141800\",\n        \"email\": \"test@nlb.gov.sg\",\n        \"otp\": \"172709\",\n        \"timestamp\": \"2023-12-21T16:56:03.637000+08:00\",\n        \"expiry\": \"2023-12-21T16:56:15.637000+08:00\"\n    },\n    {\n        \"id\": \"11b514d0-4062-45e9-a45f-3ebb91a1ca86\",\n        \"user\": \"04e05897-3c62-52aa-8640-ca126441e52c\",\n        \"email\": \"davidtwlee@dsaid.gov.sg\",\n        \"otp\": \"4cb552\",\n        \"timestamp\": \"2023-12-21T16:59:17.460000+08:00\",\n        \"expiry\": \"2023-12-21T16:59:29.460000+08:00\"\n    }\n]"
						}
					]
				},
				{
					"name": "Login via Email OTP",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									"pm.test(\"Successful Login via Email OTP\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
									"    pm.expect(jsonData.email).to.eql(pm.environment.get(\"TEST_EMAIL_ADDRESS1\"));\r",
									"    const required_keys = [\"name\", \"timestamp\", \"expiry\", \"scopes\"];\r",
									"    pm.expect(required_keys.every((v) => Object.keys(jsonData).includes(v))).to.eql(true);\r",
									"    pm.environment.set(\"REFRESH_TOKEN\", jsonData.refreshToken);\r",
									"});\r",
									"pm.test(\"Authorization header is present\", function () {\r",
									"    pm.response.to.have.header(\"Authorization\");\r",
									"    pm.environment.set(\"AUTH_TOKEN\", pm.response.headers.get('Authorization').split(' ')[1]);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"{{TEST_EMAIL_ADDRESS1}}\",\r\n    \"otp\": \"{{TEST_OTP}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{SCHEME}}://{{AGENTS_URL}}/{{API_VERSION}}/otp/emails/logins",
							"protocol": "{{SCHEME}}",
							"host": [
								"{{AGENTS_URL}}"
							],
							"path": [
								"{{API_VERSION}}",
								"otp",
								"emails",
								"logins"
							]
						}
					},
					"response": [
						{
							"name": "Login via Email OTP",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"email\": \"{{TEST_EMAIL_ADDRESS1}}\",\r\n    \"otp\": \"{{TEST_OTP}}\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/otp/emails/logins",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{SERVICE_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"otp",
										"emails",
										"logins"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "date",
									"value": "Sun, 07 Jan 2024 14:47:27 GMT"
								},
								{
									"key": "server",
									"value": "uvicorn"
								},
								{
									"key": "authorization",
									"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJEU0FJRCwgR292VGVjaCIsInN1YiI6IjA0ZTA1ODk3LTNjNjItNTJhYS04NjQwLWNhMTI2NDQxZTUyYyIsImF1ZCI6IjA0ZTA1ODk3LTNjNjItNTJhYS04NjQwLWNhMTI2NDQxZTUyYyIsIm5iZiI6MTcwNDYzODg0NywiaWF0IjoxNzA0NjM4ODQ3LCJleHAiOjE3MDQ2NDYwNDcsImp0aSI6IjllOGE3Y2NiLTE5NDctNGZhMC05ZTU1LWExYTc2ZjRmMjhlYyIsImF0X2hhc2giOiJ6UklxRzhTR2Fhd0VhUXFjNHJFZGF3In0.pwB5PVnhlqCLQpCgD17_J-cpHoa0KNQEL4gTw9ir-EA"
								},
								{
									"key": "content-length",
									"value": "718"
								},
								{
									"key": "content-type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"name\": \"Davidtwlee\",\n    \"id\": \"04e05897-3c62-52aa-8640-ca126441e52c\",\n    \"email\": \"davidtwlee@dsaid.gov.sg\",\n    \"newUser\": true,\n    \"refreshToken\": \"e3aa97271f3ae34b411fd660a3e4ee15\",\n    \"refreshCount\": 0,\n    \"maxRefresh\": 5,\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJEU0FJRCwgR292VGVjaCIsInN1YiI6IjA0ZTA1ODk3LTNjNjItNTJhYS04NjQwLWNhMTI2NDQxZTUyYyIsImF1ZCI6IjA0ZTA1ODk3LTNjNjItNTJhYS04NjQwLWNhMTI2NDQxZTUyYyIsIm5iZiI6MTcwNDYzODg0NywiaWF0IjoxNzA0NjM4ODQ3LCJleHAiOjE3MDQ2NDYwNDcsImp0aSI6IjllOGE3Y2NiLTE5NDctNGZhMC05ZTU1LWExYTc2ZjRmMjhlYyIsImF0X2hhc2giOiJ6UklxRzhTR2Fhd0VhUXFjNHJFZGF3In0.pwB5PVnhlqCLQpCgD17_J-cpHoa0KNQEL4gTw9ir-EA\",\n    \"timestamp\": \"2024-01-07T22:47:27.949195+08:00\",\n    \"expiry\": \"2024-01-08T00:47:27.948901+08:00\",\n    \"scopes\": []\n}"
						}
					]
				}
			]
		},
		{
			"name": "CRUD Chat",
			"item": [
				{
					"name": "Attempt to RUD non-existent Chat Items",
					"item": [
						{
							"name": "Retrieve non-existent Chat Items",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Retrieve non-existent Chat Items\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData).to.eql([]);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve non-existent Chat Items",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 18 Apr 2024 14:26:48 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "2"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "[]"
								}
							]
						},
						{
							"name": "Update non-existent Chat Item",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 404\", function () {\r",
											"    pm.response.to.have.status(404);\r",
											"});\r",
											"pm.test(\"Update non-existent Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(404);\r",
											"    pm.expect(jsonData.message).to.eql(\"Chat does not exist\");\r",
											"    pm.expect(jsonData.details.id).to.eql(pm.variables.get(\"TEST_NONEXISTENT_ID\"));\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"const uuid = require(\"uuid\");\r",
											"pm.environment.set('TEST_NONEXISTENT_ID', uuid.v4())\r",
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"name\": \"Hello World!\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/:id",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										":id"
									],
									"variable": [
										{
											"key": "id",
											"value": "{{TEST_NONEXISTENT_ID}}"
										}
									]
								}
							},
							"response": [
								{
									"name": "Update non-existent Chat Item",
									"originalRequest": {
										"method": "PUT",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"name\": \"Hello World!\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/:id",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												":id"
											],
											"variable": [
												{
													"key": "id",
													"value": "{{TEST_NONEXISTENT_ID}}"
												}
											]
										}
									},
									"status": "Not Found",
									"code": 404,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 18 Apr 2024 14:26:55 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "1075"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 404,\n    \"message\": \"Chat does not exist\",\n    \"request\": {\n        \"url\": \"http://localhost:20002/latest/chats/59d58460-abf8-48ea-aaba-28b45524ee9f\",\n        \"headers\": {\n            \"content-type\": \"application/json\",\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJEU0FJRCwgR292VGVjaCIsInN1YiI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsImF1ZCI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsIm5iZiI6MTcxMzQ1MDM2NCwiaWF0IjoxNzEzNDUwMzY0LCJleHAiOjE3MTM0NTc1NjQsImp0aSI6Ijc0OGUzZGFlLTEyZGItNDAyNi1hODE5LTFhMzUzNjMyMjZmZSIsImF0X2hhc2giOiJKRi0yakNJT0hJelQzTm1UazBEcXJ3In0.cD-y2KeK68Zn6mCSqS38iORBg2Ryo-q46j_CXOsuAM4\",\n            \"user-agent\": \"PostmanRuntime/7.37.3\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"c162c089-9571-455f-818e-3e98c6a37f58\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\",\n            \"content-length\": \"32\"\n        },\n        \"path_params\": {\n            \"chat_id\": \"59d58460-abf8-48ea-aaba-28b45524ee9f\"\n        },\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 56684\n        },\n        \"body\": {\n            \"name\": \"Hello World!\"\n        }\n    },\n    \"details\": {\n        \"id\": \"59d58460-abf8-48ea-aaba-28b45524ee9f\"\n    }\n}"
								}
							]
						},
						{
							"name": "Retrieve non-existent Chat Item",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 404\", function () {\r",
											"    pm.response.to.have.status(404);\r",
											"});\r",
											"pm.test(\"Retrieve non-existent Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(404);\r",
											"    pm.expect(jsonData.message).to.eql(\"Chat does not exist\");\r",
											"    pm.expect(jsonData.details.id).to.eql(pm.environment.get(\"TEST_NONEXISTENT_ID\"));\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"const uuid = require(\"uuid\");\r",
											"pm.environment.set('TEST_NONEXISTENT_ID', uuid.v4())\r",
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/:id",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										":id"
									],
									"variable": [
										{
											"key": "id",
											"value": "{{TEST_NONEXISTENT_ID}}"
										}
									]
								}
							},
							"response": [
								{
									"name": "Retrieve non-existent Chat Item",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/:id",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												":id"
											],
											"variable": [
												{
													"key": "id",
													"value": "{{TEST_NONEXISTENT_ID}}"
												}
											]
										}
									},
									"status": "Not Found",
									"code": 404,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 18 Apr 2024 14:27:10 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "998"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 404,\n    \"message\": \"Chat does not exist\",\n    \"request\": {\n        \"url\": \"http://localhost:20002/latest/chats/f5ab25bd-2169-46cf-87de-4fa77f4f6919\",\n        \"headers\": {\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJEU0FJRCwgR292VGVjaCIsInN1YiI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsImF1ZCI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsIm5iZiI6MTcxMzQ1MDM2NCwiaWF0IjoxNzEzNDUwMzY0LCJleHAiOjE3MTM0NTc1NjQsImp0aSI6Ijc0OGUzZGFlLTEyZGItNDAyNi1hODE5LTFhMzUzNjMyMjZmZSIsImF0X2hhc2giOiJKRi0yakNJT0hJelQzTm1UazBEcXJ3In0.cD-y2KeK68Zn6mCSqS38iORBg2Ryo-q46j_CXOsuAM4\",\n            \"user-agent\": \"PostmanRuntime/7.37.3\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"4de4674c-32bf-43f0-be04-ea02c910a7ff\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\"\n        },\n        \"path_params\": {\n            \"chat_id\": \"f5ab25bd-2169-46cf-87de-4fa77f4f6919\"\n        },\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 56860\n        },\n        \"body\": \"\"\n    },\n    \"details\": {\n        \"id\": \"f5ab25bd-2169-46cf-87de-4fa77f4f6919\"\n    }\n}"
								}
							]
						},
						{
							"name": "Delete non-existent Chat Item",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 404\", function () {\r",
											"    pm.response.to.have.status(404);\r",
											"});\r",
											"pm.test(\"Delete non-existent Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(404);\r",
											"    pm.expect(jsonData.message).to.eql(\"Chat does not exist\");\r",
											"    pm.expect(jsonData.details.id).to.eql(pm.environment.get(\"TEST_NONEXISTENT_ID\"));\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"const uuid = require(\"uuid\");\r",
											"pm.environment.set('TEST_NONEXISTENT_ID', uuid.v4())\r",
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/:id",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										":id"
									],
									"variable": [
										{
											"key": "id",
											"value": "{{TEST_NONEXISTENT_ID}}"
										}
									]
								}
							},
							"response": [
								{
									"name": "Delete non-existent Chat Item",
									"originalRequest": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/:id",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												":id"
											],
											"variable": [
												{
													"key": "id",
													"value": "{{TEST_NONEXISTENT_ID}}"
												}
											]
										}
									},
									"status": "Not Found",
									"code": 404,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 18 Apr 2024 14:27:22 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "998"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 404,\n    \"message\": \"Chat does not exist\",\n    \"request\": {\n        \"url\": \"http://localhost:20002/latest/chats/9d610b8f-1d51-4ade-989e-253366cb5f86\",\n        \"headers\": {\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJEU0FJRCwgR292VGVjaCIsInN1YiI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsImF1ZCI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsIm5iZiI6MTcxMzQ1MDM2NCwiaWF0IjoxNzEzNDUwMzY0LCJleHAiOjE3MTM0NTc1NjQsImp0aSI6Ijc0OGUzZGFlLTEyZGItNDAyNi1hODE5LTFhMzUzNjMyMjZmZSIsImF0X2hhc2giOiJKRi0yakNJT0hJelQzTm1UazBEcXJ3In0.cD-y2KeK68Zn6mCSqS38iORBg2Ryo-q46j_CXOsuAM4\",\n            \"user-agent\": \"PostmanRuntime/7.37.3\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"2855cf95-3e0a-4add-b73d-9bb630b6518c\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\"\n        },\n        \"path_params\": {\n            \"chat_id\": \"9d610b8f-1d51-4ade-989e-253366cb5f86\"\n        },\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 57401\n        },\n        \"body\": \"\"\n    },\n    \"details\": {\n        \"id\": \"9d610b8f-1d51-4ade-989e-253366cb5f86\"\n    }\n}"
								}
							]
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									"const uuid = require('uuid');",
									"pm.collectionVariables.set('TEST_NON_EXISTENT_ID', uuid.v4())",
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "Create Chat Items",
					"item": [
						{
							"name": "Create Chat",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Successfully created a Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
											"    pm.environment.set('TEST_CHAT1', jsonData.id)\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\"model\":\"azure~gpt-4\"}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats"
									]
								}
							},
							"response": [
								{
									"name": "Create Chat",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\"model\":\"azure~gpt-4\"}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 18 Apr 2024 14:28:24 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "45"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"id\": \"900c7ca1-cabe-44bd-b2d8-602f3a576665\"\n}"
								}
							]
						},
						{
							"name": "Retrieve Chats",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Items\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.length).to.eql(1);\r",
											"    pm.expect(pm.environment.get(\"TEST_CHAT1\") in jsonData.map((x, i) => {return x.id})).to.eql(false);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Chats",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 02:35:18 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "1448"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "[\n    {\n        \"modifications\": {\n            \"create\": {\n                \"type\": \"create\",\n                \"user_type\": \"user\",\n                \"timestamp\": \"2024-04-24T02:35:11.799000Z\",\n                \"user\": \"5eb6e5cd-ef03-5f88-a494-eb7dacd950ad\",\n                \"details\": {\n                    \"id\": \"ac6bc88a-6691-4657-a09a-0124beb0d807\",\n                    \"name\": \"\",\n                    \"user_prompt\": {\n                        \"template\": null,\n                        \"variables\": {},\n                        \"placeholders\": []\n                    },\n                    \"systemPrompt\": {\n                        \"template\": \"{system}. {function}. {personality}. \",\n                        \"variables\": {\n                            \"system\": \"You are an AI assistant committed to providing a respectful and \\ninclusive environment and will not tolerate racist, discriminatory, \\nor offensive language.\",\n                            \"personality\": \"helpful, clever, and very friendly\",\n                            \"function\": \"You serve as a personal assistant to public officers in singapore\"\n                        },\n                        \"placeholders\": []\n                    },\n                    \"params\": {},\n                    \"properties\": {},\n                    \"model\": \"azure~gpt-4\",\n                    \"pinned\": false\n                }\n            }\n        },\n        \"name\": \"\",\n        \"model\": \"azure~gpt-4\",\n        \"systemPrompt\": {\n            \"template\": \"{system}. {function}. {personality}. \",\n            \"variables\": {\n                \"system\": \"You are an AI assistant committed to providing a respectful and \\ninclusive environment and will not tolerate racist, discriminatory, \\nor offensive language.\",\n                \"personality\": \"helpful, clever, and very friendly\",\n                \"function\": \"You serve as a personal assistant to public officers in singapore\"\n            },\n            \"placeholders\": []\n        },\n        \"params\": {},\n        \"properties\": {},\n        \"id\": \"ac6bc88a-6691-4657-a09a-0124beb0d807\",\n        \"userPrompt\": {\n            \"template\": null,\n            \"variables\": {},\n            \"placeholders\": []\n        },\n        \"tokens\": {\n            \"query\": 0,\n            \"systemPrompt\": 0,\n            \"queryWithContext\": 0,\n            \"response\": 0,\n            \"queries_total\": 0,\n            \"responses_total\": 0\n        },\n        \"pinned\": false\n    }\n]"
								}
							]
						},
						{
							"name": "Retrieve Chat",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_CHAT1\"));\r",
											"    pm.expect(jsonData.name).to.eql(\"\");\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-4\");\r",
											"    pm.expect(jsonData.systemPrompt.template).to.eql(\"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.personality).to.eql(\"helpful, clever, and very friendly\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.instructions).to.eql(\"You serve as a personal assistant to public officers in singapore\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.guardrails).to.eql(\"You will not answer politically sensitive topics\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.knowledgeBase).to.eql(\"\");\r",
											"    pm.expect(jsonData.systemPrompt.placeholders.length).to.eql(4);\r",
											"    pm.expect(jsonData.userPrompt.template).to.eql(null);\r",
											"    pm.expect(jsonData.userPrompt.variables).to.eql({});\r",
											"    pm.expect(jsonData.userPrompt.placeholders.length).to.eql(0);\r",
											"    pm.expect(jsonData.params).to.eql({});\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.tokens.query).to.eql(0);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(0);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.eql(0);\r",
											"    pm.expect(jsonData.tokens.response).to.eql(0);\r",
											"    pm.expect(jsonData.tokens.queries_total).to.eql(0);\r",
											"    pm.expect(jsonData.tokens.responses_total).to.eql(0);\r",
											"    pm.expect(jsonData.messages.length).to.eql(0);\r",
											"    pm.expect(jsonData.pinned).to.eql(false);\r",
											"})"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT1}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT1}}"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Chat",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT1}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT1}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Fri, 31 May 2024 08:57:40 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "1892"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"modifications\": {\n        \"create\": {\n            \"type\": \"create\",\n            \"user_type\": \"user\",\n            \"timestamp\": \"2024-05-31T08:57:32.310000Z\",\n            \"user\": \"5eb6e5cd-ef03-5f88-a494-eb7dacd950ad\",\n            \"details\": {\n                \"id\": \"7c10d429-166f-4ee1-9a33-7685242dea5b\",\n                \"name\": \"\",\n                \"agents\": [\n                    \"804885b4-423e-485c-b215-92c7dfa8baa8\"\n                ],\n                \"user_prompt\": {\n                    \"template\": null,\n                    \"variables\": {},\n                    \"placeholders\": []\n                },\n                \"systemPrompt\": {\n                    \"template\": \"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\",\n                    \"variables\": {\n                        \"personality\": \"helpful, clever, and very friendly\",\n                        \"instructions\": \"You serve as a personal assistant to public officers in singapore\",\n                        \"guardrails\": \"You will not answer politically sensitive topics\",\n                        \"knowledgeBase\": \"\"\n                    },\n                    \"placeholders\": [\n                        \"personality\",\n                        \"instructions\",\n                        \"guardrails\",\n                        \"knowledgeBase\"\n                    ]\n                },\n                \"params\": {},\n                \"properties\": {},\n                \"model\": \"azure~gpt-4\",\n                \"pinned\": false\n            }\n        }\n    },\n    \"name\": \"\",\n    \"model\": \"azure~gpt-4\",\n    \"systemPrompt\": {\n        \"template\": \"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\",\n        \"variables\": {\n            \"personality\": \"helpful, clever, and very friendly\",\n            \"instructions\": \"You serve as a personal assistant to public officers in singapore\",\n            \"guardrails\": \"You will not answer politically sensitive topics\",\n            \"knowledgeBase\": \"\"\n        },\n        \"placeholders\": [\n            \"personality\",\n            \"instructions\",\n            \"guardrails\",\n            \"knowledgeBase\"\n        ]\n    },\n    \"params\": {},\n    \"properties\": {},\n    \"id\": \"7c10d429-166f-4ee1-9a33-7685242dea5b\",\n    \"userPrompt\": {\n        \"template\": null,\n        \"variables\": {},\n        \"placeholders\": []\n    },\n    \"tokens\": {\n        \"query\": 0,\n        \"systemPrompt\": 0,\n        \"queryWithContext\": 0,\n        \"response\": 0,\n        \"queries_total\": 0,\n        \"responses_total\": 0\n    },\n    \"messages\": [],\n    \"agents\": [\n        \"804885b4-423e-485c-b215-92c7dfa8baa8\"\n    ],\n    \"pinned\": false\n}"
								}
							]
						}
					]
				},
				{
					"name": "Attempt to update Chat Item",
					"item": [
						{
							"name": "Attempt to update Chat Item with no values",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 400\", function () {\r",
											"    pm.response.to.have.status(400);\r",
											"});\r",
											"pm.test(\"Attempt to update Chat Item with no updates\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(400);\r",
											"    pm.expect(jsonData.message).to.eql(\"No updates were made to Chat\");\r",
											"    pm.expect(jsonData.details.id).to.eql(pm.environment.get(\"TEST_CHAT1\"))\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/:id",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										":id"
									],
									"variable": [
										{
											"key": "id",
											"value": "{{TEST_CHAT1}}"
										}
									]
								}
							},
							"response": [
								{
									"name": "Attempt to update Chat Item with no values",
									"originalRequest": {
										"method": "PUT",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/:id",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												":id"
											],
											"variable": [
												{
													"key": "id",
													"value": "{{TEST_CHAT1}}"
												}
											]
										}
									},
									"status": "Bad Request",
									"code": 400,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 02:56:28 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "1062"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 400,\n    \"message\": \"No updates were made to Chat\",\n    \"request\": {\n        \"url\": \"http://localhost:20002/latest/chats/5898bec5-59bd-4cf0-ab11-af1099b9e258\",\n        \"headers\": {\n            \"content-type\": \"application/json\",\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJEU0FJRCwgR292VGVjaCIsInN1YiI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsImF1ZCI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsIm5iZiI6MTcxMzkyNzAzMiwiaWF0IjoxNzEzOTI3MDMyLCJleHAiOjE3MTM5MzQyMzIsImp0aSI6ImZiNWRjNTg1LWM4ZWUtNDM3NS1hYjJjLTQxOTQ3MjkxNjI3MCIsImF0X2hhc2giOiJZUGZRcWJwNnUwZlREZmpFaDdaeVlBIn0.21jdmybC8NJYjgsnVikUyZ6apLBhNd-rWc0b7ZPdtxI\",\n            \"user-agent\": \"PostmanRuntime/7.37.3\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"4bbaf826-7050-4520-b3d5-45d7f98d03a6\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\",\n            \"content-length\": \"2\"\n        },\n        \"path_params\": {\n            \"chat_id\": \"5898bec5-59bd-4cf0-ab11-af1099b9e258\"\n        },\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 51450\n        },\n        \"body\": {}\n    },\n    \"details\": {\n        \"id\": \"5898bec5-59bd-4cf0-ab11-af1099b9e258\"\n    }\n}"
								}
							]
						},
						{
							"name": "Attempt to update Chat Item with invalid variables",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 400\", function () {\r",
											"    pm.response.to.have.status(400);\r",
											"});\r",
											"pm.test(\"Attempt to update Chat Item with invalid variables\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(400);\r",
											"    pm.expect(jsonData.message).to.eql(\"Validation error\");\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"name\": [],\r\n    \"model\": []\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/:id",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										":id"
									],
									"variable": [
										{
											"key": "id",
											"value": "{{TEST_CHAT1}}"
										}
									]
								}
							},
							"response": [
								{
									"name": "Attempt to update Chat Item with invalid variables",
									"originalRequest": {
										"method": "PUT",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"name\": [],\r\n    \"model\": []\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/:id",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												":id"
											],
											"variable": [
												{
													"key": "id",
													"value": "{{TEST_CHAT1}}"
												}
											]
										}
									},
									"status": "Bad Request",
									"code": 400,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 02:56:39 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "1337"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 400,\n    \"message\": \"Validation error\",\n    \"request\": {\n        \"url\": \"http://localhost:20002/latest/chats/5898bec5-59bd-4cf0-ab11-af1099b9e258\",\n        \"headers\": {\n            \"content-type\": \"application/json\",\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJEU0FJRCwgR292VGVjaCIsInN1YiI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsImF1ZCI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsIm5iZiI6MTcxMzkyNzAzMiwiaWF0IjoxNzEzOTI3MDMyLCJleHAiOjE3MTM5MzQyMzIsImp0aSI6ImZiNWRjNTg1LWM4ZWUtNDM3NS1hYjJjLTQxOTQ3MjkxNjI3MCIsImF0X2hhc2giOiJZUGZRcWJwNnUwZlREZmpFaDdaeVlBIn0.21jdmybC8NJYjgsnVikUyZ6apLBhNd-rWc0b7ZPdtxI\",\n            \"user-agent\": \"PostmanRuntime/7.37.3\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"977a4403-5ebc-438c-9bd7-9b3e3fdb8b61\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\",\n            \"content-length\": \"38\"\n        },\n        \"path_params\": {\n            \"chat_id\": \"5898bec5-59bd-4cf0-ab11-af1099b9e258\"\n        },\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 51589\n        },\n        \"body\": {\n            \"name\": [],\n            \"model\": []\n        }\n    },\n    \"details\": {\n        \"errors\": [\n            {\n                \"type\": \"string_type\",\n                \"loc\": [\n                    \"body\",\n                    \"name\"\n                ],\n                \"msg\": \"Input should be a valid string\",\n                \"input\": [],\n                \"url\": \"https://errors.pydantic.dev/2.4/v/string_type\"\n            },\n            {\n                \"type\": \"string_type\",\n                \"loc\": [\n                    \"body\",\n                    \"model\"\n                ],\n                \"msg\": \"Input should be a valid string\",\n                \"input\": [],\n                \"url\": \"https://errors.pydantic.dev/2.4/v/string_type\"\n            }\n        ]\n    }\n}"
								}
							]
						}
					]
				},
				{
					"name": "Update Chat Item",
					"item": [
						{
							"name": "Update Chat Item",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"name\": \"Updated Title\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/:id",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										":id"
									],
									"variable": [
										{
											"key": "id",
											"value": "{{TEST_CHAT1}}"
										}
									]
								}
							},
							"response": [
								{
									"name": "Update Chat Item",
									"originalRequest": {
										"method": "PUT",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"name\": \"Updated Title\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/:id",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												":id"
											],
											"variable": [
												{
													"key": "id",
													"value": "{{TEST_CHAT1}}"
												}
											]
										}
									},
									"status": "No Content",
									"code": 204,
									"_postman_previewlanguage": "plain",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 02:57:11 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										}
									],
									"cookie": [],
									"body": ""
								}
							]
						},
						{
							"name": "Retrieve Chat Item",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_CHAT1\"));\r",
											"    pm.expect(jsonData.name).to.eql(\"Updated Title\");\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-4\");\r",
											"});\r",
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/:id",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										":id"
									],
									"variable": [
										{
											"key": "id",
											"value": "{{TEST_CHAT1}}"
										}
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Chat Item",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/:id",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												":id"
											],
											"variable": [
												{
													"key": "id",
													"value": "{{TEST_CHAT1}}"
												}
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 02:57:21 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "1642"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"modifications\": {\n        \"create\": {\n            \"type\": \"create\",\n            \"user_type\": \"user\",\n            \"timestamp\": \"2024-04-24T02:50:36.404000Z\",\n            \"user\": \"5eb6e5cd-ef03-5f88-a494-eb7dacd950ad\",\n            \"details\": {\n                \"id\": \"5898bec5-59bd-4cf0-ab11-af1099b9e258\",\n                \"name\": \"\",\n                \"user_prompt\": {\n                    \"template\": null,\n                    \"variables\": {},\n                    \"placeholders\": []\n                },\n                \"systemPrompt\": {\n                    \"template\": \"{system}. {function}. {personality}. \",\n                    \"variables\": {\n                        \"system\": \"You are an AI assistant committed to providing a respectful and \\ninclusive environment and will not tolerate racist, discriminatory, \\nor offensive language.\",\n                        \"personality\": \"helpful, clever, and very friendly\",\n                        \"function\": \"You serve as a personal assistant to public officers in singapore\"\n                    },\n                    \"placeholders\": []\n                },\n                \"params\": {},\n                \"properties\": {},\n                \"model\": \"azure~gpt-4\",\n                \"pinned\": false\n            }\n        },\n        \"update\": {\n            \"type\": \"update\",\n            \"user_type\": \"user\",\n            \"timestamp\": \"2024-04-24T02:57:11.424000Z\",\n            \"user\": \"5eb6e5cd-ef03-5f88-a494-eb7dacd950ad\",\n            \"details\": {\n                \"name\": \"Updated Title\"\n            }\n        }\n    },\n    \"name\": \"Updated Title\",\n    \"model\": \"azure~gpt-4\",\n    \"systemPrompt\": {\n        \"template\": \"{system}. {function}. {personality}. \",\n        \"variables\": {\n            \"system\": \"You are an AI assistant committed to providing a respectful and \\ninclusive environment and will not tolerate racist, discriminatory, \\nor offensive language.\",\n            \"personality\": \"helpful, clever, and very friendly\",\n            \"function\": \"You serve as a personal assistant to public officers in singapore\"\n        },\n        \"placeholders\": []\n    },\n    \"params\": {},\n    \"properties\": {},\n    \"id\": \"5898bec5-59bd-4cf0-ab11-af1099b9e258\",\n    \"userPrompt\": {\n        \"template\": null,\n        \"variables\": {},\n        \"placeholders\": []\n    },\n    \"tokens\": {\n        \"query\": 0,\n        \"systemPrompt\": 0,\n        \"queryWithContext\": 0,\n        \"response\": 0,\n        \"queries_total\": 0,\n        \"responses_total\": 0\n    },\n    \"messages\": [],\n    \"pinned\": false\n}"
								}
							]
						}
					]
				},
				{
					"name": "Delete Chat Item",
					"item": [
						{
							"name": "Delete Chat Item",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/:id",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										":id"
									],
									"variable": [
										{
											"key": "id",
											"value": "{{TEST_CHAT1}}"
										}
									]
								}
							},
							"response": [
								{
									"name": "Delete Chat Item",
									"originalRequest": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/:id",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												":id"
											],
											"variable": [
												{
													"key": "id",
													"value": "{{TEST_CHAT1}}"
												}
											]
										}
									},
									"status": "No Content",
									"code": 204,
									"_postman_previewlanguage": "plain",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 02:57:46 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										}
									],
									"cookie": [],
									"body": ""
								}
							]
						},
						{
							"name": "Retrieve Chat Items",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Items\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.length).to.eql(0);\r",
											"    pm.expect(pm.environment.get(\"TEST_CHAT1\") in jsonData.map((x, i) => {return x.id})).to.eql(false);\r",
											"});\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Chat Items",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 03:17:19 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "2"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "[]"
								}
							]
						},
						{
							"name": "Attempt to retrieve deleted Chat Item",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 404', function () {\r",
											"    pm.response.to.have.status(404);\r",
											"})\r",
											"\r",
											"pm.test(\"Attempt to retrieve deleted Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(404);\r",
											"    pm.expect(jsonData.message).to.eql(\"Chat does not exist\");\r",
											"    pm.expect(jsonData.details.id).to.eql(pm.environment.get(\"TEST_CHAT1\"));\r",
											"});\r",
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/:id",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										":id"
									],
									"variable": [
										{
											"key": "id",
											"value": "{{TEST_CHAT1}}"
										}
									]
								}
							},
							"response": [
								{
									"name": "Attempt to retrieve deleted Chat Item",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/:id",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												":id"
											],
											"variable": [
												{
													"key": "id",
													"value": "{{TEST_CHAT1}}"
												}
											]
										}
									},
									"status": "Not Found",
									"code": 404,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 02:58:19 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "998"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 404,\n    \"message\": \"Chat does not exist\",\n    \"request\": {\n        \"url\": \"http://localhost:20002/latest/chats/5898bec5-59bd-4cf0-ab11-af1099b9e258\",\n        \"headers\": {\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJEU0FJRCwgR292VGVjaCIsInN1YiI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsImF1ZCI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsIm5iZiI6MTcxMzkyNzAzMiwiaWF0IjoxNzEzOTI3MDMyLCJleHAiOjE3MTM5MzQyMzIsImp0aSI6ImZiNWRjNTg1LWM4ZWUtNDM3NS1hYjJjLTQxOTQ3MjkxNjI3MCIsImF0X2hhc2giOiJZUGZRcWJwNnUwZlREZmpFaDdaeVlBIn0.21jdmybC8NJYjgsnVikUyZ6apLBhNd-rWc0b7ZPdtxI\",\n            \"user-agent\": \"PostmanRuntime/7.37.3\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"fdbca770-1739-4811-9df6-23b785719be7\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\"\n        },\n        \"path_params\": {\n            \"chat_id\": \"5898bec5-59bd-4cf0-ab11-af1099b9e258\"\n        },\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 52991\n        },\n        \"body\": \"\"\n    },\n    \"details\": {\n        \"id\": \"5898bec5-59bd-4cf0-ab11-af1099b9e258\"\n    }\n}"
								}
							]
						}
					]
				},
				{
					"name": "Delete Multiple Chat Items",
					"item": [
						{
							"name": "Create Chat 1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Successfully created a Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
											"    pm.environment.set('TEST_CHAT1', jsonData.id)\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\"model\":\"azure~gpt-4\"}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats"
									]
								}
							},
							"response": [
								{
									"name": "Create Chat 1",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\"model\":\"azure~gpt-4\"}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 03:18:48 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "45"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"id\": \"086dd488-d640-43c7-892e-dd21a0799cc4\"\n}"
								}
							]
						},
						{
							"name": "Create Chat 2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Successfully created a Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
											"    pm.environment.set('TEST_CHAT2', jsonData.id)\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\"model\":\"azure~gpt-4\"}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats"
									]
								}
							},
							"response": [
								{
									"name": "Create Chat 2",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\"model\":\"azure~gpt-4\"}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 03:18:55 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "45"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"id\": \"4263f84e-99c5-4e70-ad30-e3cb4afd122a\"\n}"
								}
							]
						},
						{
							"name": "Attempt Delete Invalid Chat IDs",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 404\", function () {\r",
											"    pm.response.to.have.status(404);\r",
											"});\r",
											"pm.test(\"Delete non-existent Chat Items\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(404);\r",
											"    pm.expect(jsonData.message).to.include(\"some chats do not exist\");\r",
											"    pm.expect(pm.environment.get(\"TEST_NONEXISTENT_ID\") in jsonData.details);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "[\"{{TEST_CHAT1}}\",\"{{TEST_NONEXISTENT_ID}}\"]",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats"
									]
								}
							},
							"response": [
								{
									"name": "Attempt Delete Invalid Chat IDs",
									"originalRequest": {
										"method": "DELETE",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "[\"{{TEST_CHAT1}}\",\"{{TEST_NONEXISTENT_ID}}\"]",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats"
											]
										}
									},
									"status": "Not Found",
									"code": 404,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 03:19:04 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "1113"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 404,\n    \"message\": \"Error deleting Chat Item(s), some chats do not exist\",\n    \"request\": {\n        \"url\": \"http://localhost:20002/latest/chats\",\n        \"headers\": {\n            \"content-type\": \"application/json\",\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJEU0FJRCwgR292VGVjaCIsInN1YiI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsImF1ZCI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsIm5iZiI6MTcxMzkyODYwMSwiaWF0IjoxNzEzOTI4NjAxLCJleHAiOjE3MTM5MzU4MDEsImp0aSI6IjNhNGIzMWYwLTdkMzctNGZlZi1iZmYwLWY5YWM3NzU0ZGQzOCIsImF0X2hhc2giOiJGX25oZ2hoUDJMSVZmdmJ4N0lkeEx3In0.aRBLYaEAJQPmRbW457hTkAhdBJEmztHUYgm_Kg53e-A\",\n            \"user-agent\": \"PostmanRuntime/7.37.3\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"f693b52b-0e4c-4056-a5e1-950de20af685\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\",\n            \"content-length\": \"79\"\n        },\n        \"path_params\": {},\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 52291\n        },\n        \"body\": [\n            \"086dd488-d640-43c7-892e-dd21a0799cc4\",\n            \"5df9aaaf-82c3-4ad3-9de5-7189875fdec1\"\n        ]\n    },\n    \"details\": [\n        \"086dd488-d640-43c7-892e-dd21a0799cc4\",\n        \"5df9aaaf-82c3-4ad3-9de5-7189875fdec1\"\n    ]\n}"
								}
							]
						},
						{
							"name": "Attempt Delete Repeated Chat IDs",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 400\", function () {\r",
											"    pm.response.to.have.status(400);\r",
											"});\r",
											"pm.test(\"Delete non-existent Chat Items\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(400);\r",
											"    pm.expect(jsonData.message).to.include(\"Duplicate IDs found in deletion list\");\r",
											"    pm.expect(pm.environment.get(\"TEST_NONEXISTENT_ID\") in jsonData.details);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "[\r\n    \"{{TEST_CHAT1}}\",\r\n    \"{{TEST_CHAT1}}\"\r\n]",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats"
									]
								}
							},
							"response": [
								{
									"name": "Attempt Delete Repeated Chat IDs",
									"originalRequest": {
										"method": "DELETE",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "[\r\n    \"{{TEST_CHAT1}}\",\r\n    \"{{TEST_CHAT1}}\"\r\n]",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats"
											]
										}
									},
									"status": "Bad Request",
									"code": 400,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 03:19:08 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "1097"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 400,\n    \"message\": \"Duplicate IDs found in deletion list\",\n    \"request\": {\n        \"url\": \"http://localhost:20002/latest/chats\",\n        \"headers\": {\n            \"content-type\": \"application/json\",\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJEU0FJRCwgR292VGVjaCIsInN1YiI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsImF1ZCI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsIm5iZiI6MTcxMzkyODYwMSwiaWF0IjoxNzEzOTI4NjAxLCJleHAiOjE3MTM5MzU4MDEsImp0aSI6IjNhNGIzMWYwLTdkMzctNGZlZi1iZmYwLWY5YWM3NzU0ZGQzOCIsImF0X2hhc2giOiJGX25oZ2hoUDJMSVZmdmJ4N0lkeEx3In0.aRBLYaEAJQPmRbW457hTkAhdBJEmztHUYgm_Kg53e-A\",\n            \"user-agent\": \"PostmanRuntime/7.37.3\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"47adb754-4bc2-4c7f-a106-68897794fbd2\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\",\n            \"content-length\": \"93\"\n        },\n        \"path_params\": {},\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 52291\n        },\n        \"body\": [\n            \"086dd488-d640-43c7-892e-dd21a0799cc4\",\n            \"086dd488-d640-43c7-892e-dd21a0799cc4\"\n        ]\n    },\n    \"details\": [\n        \"086dd488-d640-43c7-892e-dd21a0799cc4\",\n        \"086dd488-d640-43c7-892e-dd21a0799cc4\"\n    ]\n}"
								}
							]
						},
						{
							"name": "Delete Chat Items",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "[\"{{TEST_CHAT1}}\",\"{{TEST_CHAT2}}\"]",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats"
									]
								}
							},
							"response": [
								{
									"name": "Delete Chat Items",
									"originalRequest": {
										"method": "DELETE",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "[\"{{TEST_CHAT1}}\",\"{{TEST_CHAT2}}\"]",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats"
											]
										}
									},
									"status": "No Content",
									"code": 204,
									"_postman_previewlanguage": "plain",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 03:19:13 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										}
									],
									"cookie": [],
									"body": ""
								}
							]
						},
						{
							"name": "Retrieve Chat Items",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Items\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.length).to.eql(0);\r",
											"    pm.expect(pm.environment.get(\"TEST_CHAT1\") in jsonData.map((x, i) => {return x.id})).to.eql(false);\r",
											"});\r",
											"\r",
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Chat Items",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 03:19:18 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "2"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "[]"
								}
							]
						},
						{
							"name": "Attempt to retrieve deleted Chat 1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 404', function () {\r",
											"    pm.response.to.have.status(404);\r",
											"})\r",
											"\r",
											"pm.test(\"Attempt to retrieve deleted Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(404);\r",
											"    pm.expect(jsonData.message).to.eql(\"Chat does not exist\");\r",
											"    pm.expect(jsonData.details.id).to.eql(pm.environment.get(\"TEST_CHAT1\"));\r",
											"});\r",
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/:id",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										":id"
									],
									"variable": [
										{
											"key": "id",
											"value": "{{TEST_CHAT1}}"
										}
									]
								}
							},
							"response": [
								{
									"name": "Attempt to retrieve deleted Chat 1",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/:id",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												":id"
											],
											"variable": [
												{
													"key": "id",
													"value": "{{TEST_CHAT1}}"
												}
											]
										}
									},
									"status": "Not Found",
									"code": 404,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 03:19:27 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "998"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 404,\n    \"message\": \"Chat does not exist\",\n    \"request\": {\n        \"url\": \"http://localhost:20002/latest/chats/086dd488-d640-43c7-892e-dd21a0799cc4\",\n        \"headers\": {\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJEU0FJRCwgR292VGVjaCIsInN1YiI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsImF1ZCI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsIm5iZiI6MTcxMzkyODYwMSwiaWF0IjoxNzEzOTI4NjAxLCJleHAiOjE3MTM5MzU4MDEsImp0aSI6IjNhNGIzMWYwLTdkMzctNGZlZi1iZmYwLWY5YWM3NzU0ZGQzOCIsImF0X2hhc2giOiJGX25oZ2hoUDJMSVZmdmJ4N0lkeEx3In0.aRBLYaEAJQPmRbW457hTkAhdBJEmztHUYgm_Kg53e-A\",\n            \"user-agent\": \"PostmanRuntime/7.37.3\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"d04c7bdb-bf13-4a4d-9287-f564ec008f4a\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\"\n        },\n        \"path_params\": {\n            \"chat_id\": \"086dd488-d640-43c7-892e-dd21a0799cc4\"\n        },\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 52595\n        },\n        \"body\": \"\"\n    },\n    \"details\": {\n        \"id\": \"086dd488-d640-43c7-892e-dd21a0799cc4\"\n    }\n}"
								}
							]
						},
						{
							"name": "Attempt to retrieve deleted Chat 2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 404', function () {\r",
											"    pm.response.to.have.status(404);\r",
											"})\r",
											"\r",
											"pm.test(\"Attempt to retrieve deleted Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(404);\r",
											"    pm.expect(jsonData.message).to.eql(\"Chat does not exist\");\r",
											"    pm.expect(jsonData.details.id).to.eql(pm.environment.get(\"TEST_CHAT2\"));\r",
											"});\r",
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/:id",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										":id"
									],
									"variable": [
										{
											"key": "id",
											"value": "{{TEST_CHAT2}}"
										}
									]
								}
							},
							"response": [
								{
									"name": "Attempt to retrieve deleted Chat 2",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/:id",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												":id"
											],
											"variable": [
												{
													"key": "id",
													"value": "{{TEST_CHAT2}}"
												}
											]
										}
									},
									"status": "Not Found",
									"code": 404,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 03:19:33 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "998"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 404,\n    \"message\": \"Chat does not exist\",\n    \"request\": {\n        \"url\": \"http://localhost:20002/latest/chats/4263f84e-99c5-4e70-ad30-e3cb4afd122a\",\n        \"headers\": {\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJEU0FJRCwgR292VGVjaCIsInN1YiI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsImF1ZCI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsIm5iZiI6MTcxMzkyODYwMSwiaWF0IjoxNzEzOTI4NjAxLCJleHAiOjE3MTM5MzU4MDEsImp0aSI6IjNhNGIzMWYwLTdkMzctNGZlZi1iZmYwLWY5YWM3NzU0ZGQzOCIsImF0X2hhc2giOiJGX25oZ2hoUDJMSVZmdmJ4N0lkeEx3In0.aRBLYaEAJQPmRbW457hTkAhdBJEmztHUYgm_Kg53e-A\",\n            \"user-agent\": \"PostmanRuntime/7.37.3\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"07734ea7-a258-4e31-86c9-07ce053de635\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\"\n        },\n        \"path_params\": {\n            \"chat_id\": \"4263f84e-99c5-4e70-ad30-e3cb4afd122a\"\n        },\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 52595\n        },\n        \"body\": \"\"\n    },\n    \"details\": {\n        \"id\": \"4263f84e-99c5-4e70-ad30-e3cb4afd122a\"\n    }\n}"
								}
							]
						}
					]
				}
			]
		},
		{
			"name": "CRUD Chat Messages",
			"item": [
				{
					"name": "Attempt to RUD non-existent Chat Messages",
					"item": [
						{
							"name": "Create Chat",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Successfully created a Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
											"    pm.environment.set('TEST_CHAT1', jsonData.id)\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\"name\":\"Chat Title\",\r\n\"model\":\"azure~gpt-4\"}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats"
									]
								}
							},
							"response": [
								{
									"name": "Create Chat",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\"name\":\"Chat Title\",\r\n\"model\":\"azure~gpt-4\"}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 03:27:07 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "45"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"id\": \"5c32d446-96f0-4027-9bcf-b21376fd250b\"\n}"
								}
							]
						},
						{
							"name": "Retrieve non-existent Chat Messages",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Retrieve non-existent Chat Messages\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData).to.eql([]);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT1}}/messages",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT1}}",
										"messages"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve non-existent Chat Messages",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT1}}/messages",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT1}}",
												"messages"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 03:27:24 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "2"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "[]"
								}
							]
						},
						{
							"name": "Create Chat Message",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Successfully created a Chat Message\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
											"    pm.expect(jsonData.chat).to.eql(pm.environment.get(\"TEST_CHAT1\"));\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-4\");\r",
											"    pm.expect(jsonData.systemPrompt.role).to.eql(\"system\");\r",
											"    pm.expect(jsonData.systemPrompt.content).to.eql(\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \");\r",
											"    pm.expect(jsonData.systemPrompt.name).to.eql(null);\r",
											"    pm.expect(jsonData.systemPrompt.timestamp).to.eql(null);\r",
											"    pm.expect(jsonData.params).to.eql({});\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.query.role).to.eql('user');\r",
											"    pm.expect(jsonData.query.content).to.eql('Say this is a test');\r",
											"    pm.expect(jsonData.query.timestamp).to.not.eql(null);\r",
											"    pm.expect(jsonData.response.role).to.eq('assistant');\r",
											"    pm.expect(jsonData.response.content).to.include('a test');\r",
											"    pm.expect(jsonData.response.timestamp).to.not.eql(null);\r",
											"    pm.expect(Date.parse(jsonData.response.timestamp)).to.gt(Date.parse(jsonData.query.timestamp))\r",
											"    pm.expect(jsonData.tokens.query).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(59);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.eql(75);\r",
											"    pm.expect(jsonData.tokens.response).to.be.at.least(5);\r",
											"    pm.environment.set('TEST_CHATMESSAGE0', jsonData.id)\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "content",
											"value": "Say this is a test",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT1}}/messages?cloak=false",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT1}}",
										"messages"
									],
									"query": [
										{
											"key": "cloak",
											"value": "false"
										}
									]
								}
							},
							"response": [
								{
									"name": "Create Chat Message",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "formdata",
											"formdata": [
												{
													"key": "content",
													"value": "Say this is a test",
													"type": "text"
												},
												{
													"key": "properties",
													"value": "{\"temperature\":\"0\"}",
													"type": "text"
												},
												{
													"key": "cloak",
													"value": "false",
													"type": "text"
												}
											]
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT1}}/messages",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT1}}",
												"messages"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 06:57:03 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "886"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"model\": \"azure~gpt-4\",\n    \"systemPrompt\": {\n        \"role\": \"system\",\n        \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n        \"name\": null,\n        \"timestamp\": null\n    },\n    \"params\": {},\n    \"properties\": {},\n    \"id\": \"ebc25dbc-61cc-4563-aca7-acf8a95ede8c\",\n    \"chat\": \"82d50165-da17-4e8f-a5ae-20a14930b727\",\n    \"query\": {\n        \"role\": \"user\",\n        \"content\": \"Say this is a test\",\n        \"name\": null,\n        \"timestamp\": \"2024-04-24T06:57:04.599301Z\"\n    },\n    \"response\": {\n        \"role\": \"assistant\",\n        \"content\": \"This is a test.\",\n        \"name\": null,\n        \"timestamp\": \"2024-04-24T06:57:06.906692Z\",\n        \"finish_reason\": \"stop\"\n    },\n    \"tokens\": {\n        \"query\": 5,\n        \"systemPrompt\": 59,\n        \"queryWithContext\": 75,\n        \"response\": 5\n    },\n    \"liked\": false,\n    \"pinned\": false\n}"
								}
							]
						},
						{
							"name": "Update non-existent Chat Message",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 501\", function () {\r",
											"    pm.response.to.have.status(501);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"const uuid = require(\"uuid\");\r",
											"pm.environment.set('TEST_NONEXISTENT_ID', uuid.v4())\r",
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"name\": \"Hello World!\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT1}}/messages/{{TEST_NONEXISTENT_ID}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT1}}",
										"messages",
										"{{TEST_NONEXISTENT_ID}}"
									]
								}
							},
							"response": [
								{
									"name": "Update non-existent Chat Message",
									"originalRequest": {
										"method": "PUT",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"name\": \"Hello World!\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT1}}/messages/{{TEST_NONEXISTENT_ID}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT1}}",
												"messages",
												"{{TEST_NONEXISTENT_ID}}"
											]
										}
									},
									"status": "Not Implemented",
									"code": 501,
									"_postman_previewlanguage": "plain",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 06:57:45 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "transfer-encoding",
											"value": "chunked"
										}
									],
									"cookie": [],
									"body": ""
								}
							]
						},
						{
							"name": "Retrieve non-existent Chat Message",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 404\", function () {\r",
											"    pm.response.to.have.status(404);\r",
											"});\r",
											"pm.test(\"Retrieve non-existent Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(404);\r",
											"    pm.expect(jsonData.message).to.eql(\"Chat Message(s) does not exist\");\r",
											"    pm.expect(jsonData.details.id).to.eql(pm.environment.get(\"TEST_NONEXISTENT_ID\"));\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"const uuid = require(\"uuid\");\r",
											"pm.environment.set('TEST_NONEXISTENT_ID', uuid.v4())\r",
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT1}}/messages/{{TEST_NONEXISTENT_ID}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT1}}",
										"messages",
										"{{TEST_NONEXISTENT_ID}}"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve non-existent Chat Message",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT1}}/messages/{{TEST_NONEXISTENT_ID}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT1}}",
												"messages",
												"{{TEST_NONEXISTENT_ID}}"
											]
										}
									},
									"status": "Not Found",
									"code": 404,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 06:57:58 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "1112"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 404,\n    \"message\": \"Chat Message(s) does not exist\",\n    \"request\": {\n        \"url\": \"http://localhost:20002/latest/chats/82d50165-da17-4e8f-a5ae-20a14930b727/messages/60a06c0f-5a12-48db-a2fe-4130a7d09e78\",\n        \"headers\": {\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJEU0FJRCwgR292VGVjaCIsInN1YiI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsImF1ZCI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsIm5iZiI6MTcxMzk0MTgwOCwiaWF0IjoxNzEzOTQxODA4LCJleHAiOjE3MTM5NDkwMDgsImp0aSI6IjNjYzQ5NDE2LTI2NWItNDJhNi05MzU3LWRjZjI1ZDNiNTc4NiIsImF0X2hhc2giOiIwNktUWnFXaEo2UWZhOG8zUVh5a1JnIn0.drlf_tMd1IAsB5RVxAW_he78seVvrghdVxbG2ccsSdc\",\n            \"user-agent\": \"PostmanRuntime/7.37.3\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"d10f728c-a81f-45cf-8e44-e391c4772ab6\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\"\n        },\n        \"path_params\": {\n            \"chat_id\": \"82d50165-da17-4e8f-a5ae-20a14930b727\",\n            \"chat_message_id\": \"60a06c0f-5a12-48db-a2fe-4130a7d09e78\"\n        },\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 50733\n        },\n        \"body\": \"\"\n    },\n    \"details\": {\n        \"id\": \"60a06c0f-5a12-48db-a2fe-4130a7d09e78\"\n    }\n}"
								}
							]
						},
						{
							"name": "Delete non-existent Chat Message",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 404\", function () {\r",
											"    pm.response.to.have.status(404);\r",
											"});\r",
											"pm.test(\"Delete non-existent Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(404);\r",
											"    pm.expect(jsonData.message).to.eql(\"Chat Message(s) does not exist\");\r",
											"    pm.expect(jsonData.details.id).to.eql(pm.environment.get(\"TEST_NONEXISTENT_ID\"));\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"const uuid = require(\"uuid\");\r",
											"pm.environment.set('TEST_NONEXISTENT_ID', uuid.v4())\r",
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT1}}/messages/{{TEST_NONEXISTENT_ID}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT1}}",
										"messages",
										"{{TEST_NONEXISTENT_ID}}"
									]
								}
							},
							"response": [
								{
									"name": "Delete non-existent Chat Message",
									"originalRequest": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT1}}/messages/{{TEST_NONEXISTENT_ID}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT1}}",
												"messages",
												"{{TEST_NONEXISTENT_ID}}"
											]
										}
									},
									"status": "Not Found",
									"code": 404,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 06:58:09 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "1112"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 404,\n    \"message\": \"Chat Message(s) does not exist\",\n    \"request\": {\n        \"url\": \"http://localhost:20002/latest/chats/82d50165-da17-4e8f-a5ae-20a14930b727/messages/ebbfa02d-8923-4650-b898-7ec15ec3f011\",\n        \"headers\": {\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJEU0FJRCwgR292VGVjaCIsInN1YiI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsImF1ZCI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsIm5iZiI6MTcxMzk0MTgwOCwiaWF0IjoxNzEzOTQxODA4LCJleHAiOjE3MTM5NDkwMDgsImp0aSI6IjNjYzQ5NDE2LTI2NWItNDJhNi05MzU3LWRjZjI1ZDNiNTc4NiIsImF0X2hhc2giOiIwNktUWnFXaEo2UWZhOG8zUVh5a1JnIn0.drlf_tMd1IAsB5RVxAW_he78seVvrghdVxbG2ccsSdc\",\n            \"user-agent\": \"PostmanRuntime/7.37.3\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"c0a75b75-d716-4496-904a-498ce52dc46e\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\"\n        },\n        \"path_params\": {\n            \"chat_id\": \"82d50165-da17-4e8f-a5ae-20a14930b727\",\n            \"chat_message_id\": \"ebbfa02d-8923-4650-b898-7ec15ec3f011\"\n        },\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 50856\n        },\n        \"body\": \"\"\n    },\n    \"details\": {\n        \"id\": \"ebbfa02d-8923-4650-b898-7ec15ec3f011\"\n    }\n}"
								}
							]
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"type": "text/javascript",
								"exec": [
									"const uuid = require('uuid');",
									"pm.collectionVariables.set('TEST_NON_EXISTENT_ID', uuid.v4())",
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					]
				},
				{
					"name": "Initiate Chat",
					"item": [
						{
							"name": "Create Chat",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Successfully created a Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
											"    pm.environment.set('TEST_CHAT2', jsonData.id)\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\"model\":\"azure~gpt-4\"}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats"
									]
								}
							},
							"response": [
								{
									"name": "Create Chat",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\"model\":\"azure~gpt-4\"}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 06:58:45 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "45"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"id\": \"bfdfd1bf-e065-4804-b1d2-85411c0f54f8\"\n}"
								}
							]
						},
						{
							"name": "Create Chat Message 1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Successfully created a Chat Message\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
											"    pm.expect(jsonData.chat).to.eql(pm.environment.get(\"TEST_CHAT2\"));\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-4\");\r",
											"    pm.expect(jsonData.systemPrompt.role).to.eql(\"system\");\r",
											"    pm.expect(jsonData.systemPrompt.content).to.eql(\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \");\r",
											"    pm.expect(jsonData.systemPrompt.name).to.eql(null);\r",
											"    pm.expect(jsonData.systemPrompt.timestamp).to.eql(null);\r",
											"    pm.expect(jsonData.params).to.eql({});\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.query.role).to.eql('user');\r",
											"    pm.expect(jsonData.query.content).to.eql('Say this is a test');\r",
											"    pm.expect(jsonData.query.timestamp).to.not.eql(null);\r",
											"    pm.expect(jsonData.response.role).eq('assistant');\r",
											"    pm.expect(jsonData.response.content).to.include('is a test');\r",
											"    pm.expect(jsonData.response.timestamp).to.not.eql(null);\r",
											"    pm.expect(Date.parse(jsonData.response.timestamp)).to.gt(Date.parse(jsonData.query.timestamp))\r",
											"    pm.expect(jsonData.tokens.query).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(59);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.eql(75);\r",
											"    pm.expect(jsonData.tokens.response).to.be.at.least(5);\r",
											"    pm.environment.set('TEST_CHATMESSAGE1', jsonData.id)\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "content",
											"value": "Say this is a test",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages?cloak=false",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT2}}",
										"messages"
									],
									"query": [
										{
											"key": "cloak",
											"value": "false"
										}
									]
								}
							},
							"response": [
								{
									"name": "Create Chat Message 1",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "formdata",
											"formdata": [
												{
													"key": "content",
													"value": "Say this is a test",
													"type": "text"
												},
												{
													"key": "properties",
													"value": "{\"temperature\":\"0\"}",
													"type": "text"
												},
												{
													"key": "cloak",
													"value": "false",
													"type": "text"
												}
											]
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT2}}",
												"messages"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 07:00:17 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "886"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"model\": \"azure~gpt-4\",\n    \"systemPrompt\": {\n        \"role\": \"system\",\n        \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n        \"name\": null,\n        \"timestamp\": null\n    },\n    \"params\": {},\n    \"properties\": {},\n    \"id\": \"f5234a0d-bac3-440f-b9a5-fe18177d4ecc\",\n    \"chat\": \"bfdfd1bf-e065-4804-b1d2-85411c0f54f8\",\n    \"query\": {\n        \"role\": \"user\",\n        \"content\": \"Say this is a test\",\n        \"name\": null,\n        \"timestamp\": \"2024-04-24T07:00:18.037083Z\"\n    },\n    \"response\": {\n        \"role\": \"assistant\",\n        \"content\": \"This is a test.\",\n        \"name\": null,\n        \"timestamp\": \"2024-04-24T07:00:19.882169Z\",\n        \"finish_reason\": \"stop\"\n    },\n    \"tokens\": {\n        \"query\": 5,\n        \"systemPrompt\": 59,\n        \"queryWithContext\": 75,\n        \"response\": 5\n    },\n    \"liked\": false,\n    \"pinned\": false\n}"
								}
							]
						},
						{
							"name": "Retrieve Chat",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_CHAT2\"));\r",
											"    pm.expect(jsonData.name).to.eql(\"Say This Is A Test\");\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-4\");\r",
											"    pm.expect(jsonData.systemPrompt.template).to.eql(\"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.personality).to.eql(\"helpful, clever, and very friendly\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.instructions).to.eql(\"You serve as a personal assistant to public officers in singapore\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.guardrails).to.eql(\"You will not answer politically sensitive topics\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.knowledgeBase).to.eql(\"\");\r",
											"    pm.expect(jsonData.systemPrompt.placeholders.length).to.eql(4);\r",
											"    pm.expect(jsonData.userPrompt.template).to.eql(null);\r",
											"    pm.expect(jsonData.userPrompt.variables).to.eql({});\r",
											"    pm.expect(jsonData.userPrompt.placeholders.length).to.eql(0);\r",
											"    pm.expect(jsonData.params).to.eql({});\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.tokens.query).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(59);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.eql(75);\r",
											"    pm.expect(jsonData.tokens.response).to.gte(5);\r",
											"    pm.expect(jsonData.tokens.queries_total).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.responses_total).to.gte(5);\r",
											"    pm.expect(jsonData.messages.length).to.eql(1);\r",
											"    pm.expect(jsonData.pinned).to.eql(false);\r",
											"})"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT2}}"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Chat",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT2}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Fri, 31 May 2024 08:59:36 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "4211"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"modifications\": {\n        \"create\": {\n            \"type\": \"create\",\n            \"user_type\": \"user\",\n            \"timestamp\": \"2024-05-31T08:59:26.141000Z\",\n            \"user\": \"5eb6e5cd-ef03-5f88-a494-eb7dacd950ad\",\n            \"details\": {\n                \"id\": \"992e4174-360e-4e4e-9abb-dfd2f18f555e\",\n                \"name\": \"\",\n                \"agents\": [\n                    \"804885b4-423e-485c-b215-92c7dfa8baa8\"\n                ],\n                \"user_prompt\": {\n                    \"template\": null,\n                    \"variables\": {},\n                    \"placeholders\": []\n                },\n                \"systemPrompt\": {\n                    \"template\": \"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\",\n                    \"variables\": {\n                        \"personality\": \"helpful, clever, and very friendly\",\n                        \"instructions\": \"You serve as a personal assistant to public officers in singapore\",\n                        \"guardrails\": \"You will not answer politically sensitive topics\",\n                        \"knowledgeBase\": \"\"\n                    },\n                    \"placeholders\": [\n                        \"personality\",\n                        \"instructions\",\n                        \"guardrails\",\n                        \"knowledgeBase\"\n                    ]\n                },\n                \"params\": {},\n                \"properties\": {},\n                \"model\": \"azure~gpt-4\",\n                \"pinned\": false\n            }\n        },\n        \"update\": {\n            \"type\": \"update\",\n            \"user_type\": \"user\",\n            \"timestamp\": \"2024-05-31T08:59:32.866000Z\",\n            \"user\": \"5eb6e5cd-ef03-5f88-a494-eb7dacd950ad\",\n            \"details\": {\n                \"messages\": [\n                    {\n                        \"_id\": \"3ef4cfd8-1ecf-4622-a4a2-75761342a25f\",\n                        \"revision_id\": null,\n                        \"model\": \"azure~gpt-4\",\n                        \"systemPrompt\": {\n                            \"role\": \"system\",\n                            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n                            \"name\": null,\n                            \"timestamp\": null,\n                            \"options\": null\n                        },\n                        \"params\": {},\n                        \"properties\": {},\n                        \"chat\": \"992e4174-360e-4e4e-9abb-dfd2f18f555e\",\n                        \"query\": {\n                            \"role\": \"user\",\n                            \"content\": \"Say this is a test\",\n                            \"name\": null,\n                            \"timestamp\": \"2024-05-31T08:59:29.892000Z\",\n                            \"options\": null\n                        },\n                        \"response\": {\n                            \"role\": \"assistant\",\n                            \"content\": \"Sure, \\\"This is a test\\\". Is there anything else you would like me to assist with?\",\n                            \"name\": null,\n                            \"timestamp\": \"2024-05-31T08:59:32.857000Z\",\n                            \"options\": null,\n                            \"finish_reason\": \"stop\"\n                        },\n                        \"tokens\": {\n                            \"query\": 5,\n                            \"systemPrompt\": 59,\n                            \"queryWithContext\": 75,\n                            \"response\": 20\n                        },\n                        \"liked\": false,\n                        \"pinned\": false\n                    }\n                ],\n                \"tokens\": {\n                    \"query\": 5,\n                    \"systemPrompt\": 59,\n                    \"queryWithContext\": 75,\n                    \"response\": 20,\n                    \"queries_total\": 5,\n                    \"responses_total\": 20\n                }\n            }\n        }\n    },\n    \"name\": \"Say This Is A Test\",\n    \"model\": \"azure~gpt-4\",\n    \"systemPrompt\": {\n        \"template\": \"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\",\n        \"variables\": {\n            \"personality\": \"helpful, clever, and very friendly\",\n            \"instructions\": \"You serve as a personal assistant to public officers in singapore\",\n            \"guardrails\": \"You will not answer politically sensitive topics\",\n            \"knowledgeBase\": \"\"\n        },\n        \"placeholders\": [\n            \"personality\",\n            \"instructions\",\n            \"guardrails\",\n            \"knowledgeBase\"\n        ]\n    },\n    \"params\": {},\n    \"properties\": {},\n    \"id\": \"992e4174-360e-4e4e-9abb-dfd2f18f555e\",\n    \"userPrompt\": {\n        \"template\": null,\n        \"variables\": {},\n        \"placeholders\": []\n    },\n    \"tokens\": {\n        \"query\": 5,\n        \"systemPrompt\": 59,\n        \"queryWithContext\": 75,\n        \"response\": 20,\n        \"queries_total\": 5,\n        \"responses_total\": 20\n    },\n    \"messages\": [\n        {\n            \"model\": \"azure~gpt-4\",\n            \"systemPrompt\": {\n                \"role\": \"system\",\n                \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n                \"name\": null,\n                \"timestamp\": null,\n                \"options\": null\n            },\n            \"params\": {},\n            \"properties\": {},\n            \"id\": \"3ef4cfd8-1ecf-4622-a4a2-75761342a25f\",\n            \"chat\": \"992e4174-360e-4e4e-9abb-dfd2f18f555e\",\n            \"query\": {\n                \"role\": \"user\",\n                \"content\": \"Say this is a test\",\n                \"name\": null,\n                \"timestamp\": \"2024-05-31T08:59:29.892000Z\",\n                \"options\": null\n            },\n            \"response\": {\n                \"role\": \"assistant\",\n                \"content\": \"Sure, \\\"This is a test\\\". Is there anything else you would like me to assist with?\",\n                \"name\": null,\n                \"timestamp\": \"2024-05-31T08:59:32.857000Z\",\n                \"options\": null,\n                \"finish_reason\": \"stop\"\n            },\n            \"tokens\": {\n                \"query\": 5,\n                \"systemPrompt\": 59,\n                \"queryWithContext\": 75,\n                \"response\": 20\n            },\n            \"liked\": false,\n            \"pinned\": false\n        }\n    ],\n    \"agents\": [\n        \"804885b4-423e-485c-b215-92c7dfa8baa8\"\n    ],\n    \"pinned\": false\n}"
								}
							]
						},
						{
							"name": "Retrieve Chat Messages",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Messages\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.length).to.eql(1);\r",
											"    pm.expect(pm.environment.get(\"TEST_CHATMESSAGE1\") in jsonData.map((x, i) => {return x.id})).to.eql(false);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT2}}",
										"messages"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Chat Messages",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT2}}",
												"messages"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 07:05:25 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "888"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "[\n    {\n        \"model\": \"azure~gpt-4\",\n        \"systemPrompt\": {\n            \"role\": \"system\",\n            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officersin singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n            \"name\": null,\n            \"timestamp\": null\n        },\n        \"params\": {},\n        \"properties\": {},\n        \"id\": \"f5234a0d-bac3-440f-b9a5-fe18177d4ecc\",\n        \"chat\": \"bfdfd1bf-e065-4804-b1d2-85411c0f54f8\",\n        \"query\": {\n            \"role\": \"user\",\n            \"content\": \"Say this is a test\",\n            \"name\": null,\n            \"timestamp\": \"2024-04-24T07:00:18.037000Z\"\n        },\n        \"response\": {\n            \"role\": \"assistant\",\n            \"content\": \"This is a test.\",\n            \"name\": null,\n            \"timestamp\": \"2024-04-24T07:00:19.882000Z\",\n            \"finish_reason\": \"stop\"\n        },\n        \"tokens\": {\n            \"query\": 5,\n            \"systemPrompt\": 59,\n            \"queryWithContext\": 75,\n            \"response\": 5\n        },\n        \"liked\": false,\n        \"pinned\": false\n    }\n]"
								}
							]
						},
						{
							"name": "Retrieve Chat Message 1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Message\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_CHATMESSAGE1\"));\r",
											"    pm.expect(jsonData.chat).to.eql(pm.environment.get(\"TEST_CHAT2\"));\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-4\");\r",
											"    pm.expect(jsonData.systemPrompt.role).to.eql(\"system\");\r",
											"    pm.expect(jsonData.systemPrompt.content).to.eql(\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \");\r",
											"    pm.expect(jsonData.systemPrompt.name).to.eql(null);\r",
											"    pm.expect(jsonData.systemPrompt.timestamp).to.eql(null);\r",
											"    pm.expect(jsonData.params).to.eql({});\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.query.role).to.eql('user');\r",
											"    pm.expect(jsonData.query.content).to.eql('Say this is a test');\r",
											"    pm.expect(jsonData.query.timestamp).to.not.eql(null);\r",
											"    pm.expect(jsonData.response.role).eq('assistant');\r",
											"    pm.expect(jsonData.response.content).to.include('is a test');\r",
											"    pm.expect(jsonData.response.timestamp).to.not.eql(null);\r",
											"    pm.expect(Date.parse(jsonData.response.timestamp)).to.gt(Date.parse(jsonData.query.timestamp))\r",
											"    pm.expect(jsonData.tokens.query).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(59);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.eql(75);\r",
											"    pm.expect(jsonData.tokens.response).to.gte(5);\r",
											"})"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages/{{TEST_CHATMESSAGE1}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT2}}",
										"messages",
										"{{TEST_CHATMESSAGE1}}"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Chat Message 1",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages/{{TEST_CHATMESSAGE1}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT2}}",
												"messages",
												"{{TEST_CHATMESSAGE1}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 07:07:05 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "886"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"model\": \"azure~gpt-4\",\n    \"systemPrompt\": {\n        \"role\": \"system\",\n        \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n        \"name\": null,\n        \"timestamp\": null\n    },\n    \"params\": {},\n    \"properties\": {},\n    \"id\": \"f5234a0d-bac3-440f-b9a5-fe18177d4ecc\",\n    \"chat\": \"bfdfd1bf-e065-4804-b1d2-85411c0f54f8\",\n    \"query\": {\n        \"role\": \"user\",\n        \"content\": \"Say this is a test\",\n        \"name\": null,\n        \"timestamp\": \"2024-04-24T07:00:18.037000Z\"\n    },\n    \"response\": {\n        \"role\": \"assistant\",\n        \"content\": \"This is a test.\",\n        \"name\": null,\n        \"timestamp\": \"2024-04-24T07:00:19.882000Z\",\n        \"finish_reason\": \"stop\"\n    },\n    \"tokens\": {\n        \"query\": 5,\n        \"systemPrompt\": 59,\n        \"queryWithContext\": 75,\n        \"response\": 5\n    },\n    \"liked\": false,\n    \"pinned\": false\n}"
								}
							]
						}
					]
				},
				{
					"name": "Attempt to update Chat Message",
					"item": [
						{
							"name": "Attempt to update Chat Message with no values",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 501\", function () {\r",
											"    pm.response.to.have.status(501);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT1}}/messages/{{TEST_CHATMESSAGE1}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT1}}",
										"messages",
										"{{TEST_CHATMESSAGE1}}"
									]
								}
							},
							"response": [
								{
									"name": "Attempt to update Chat Message with no values",
									"originalRequest": {
										"method": "PUT",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT1}}/messages/{{TEST_CHATMESSAGE1}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT1}}",
												"messages",
												"{{TEST_CHATMESSAGE1}}"
											]
										}
									},
									"status": "Not Implemented",
									"code": 501,
									"_postman_previewlanguage": "plain",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 07:07:33 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "transfer-encoding",
											"value": "chunked"
										}
									],
									"cookie": [],
									"body": ""
								}
							]
						}
					]
				},
				{
					"name": "Continue Chat with Context",
					"item": [
						{
							"name": "Create Chat Message 2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Successfully created a Chat Message\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
											"    pm.expect(jsonData.chat).to.eql(pm.environment.get(\"TEST_CHAT2\"));\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-4\");\r",
											"    pm.expect(jsonData.systemPrompt.role).to.eql(\"system\");\r",
											"    pm.expect(jsonData.systemPrompt.content).to.eql(\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \");\r",
											"    pm.expect(jsonData.systemPrompt.name).to.eql(null);\r",
											"    pm.expect(jsonData.systemPrompt.timestamp).to.eql(null);\r",
											"    pm.expect(jsonData.params).to.eql({});\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.query.role).to.eql('user');\r",
											"    pm.expect(jsonData.query.content).to.eql('Say this is another test');\r",
											"    pm.expect(jsonData.query.timestamp).to.not.eql(null);\r",
											"    pm.expect(jsonData.response.role).eq('assistant');\r",
											"    pm.expect(jsonData.response.content).to.include('is another test');\r",
											"    pm.expect(jsonData.response.timestamp).to.not.eql(null);\r",
											"    pm.expect(Date.parse(jsonData.response.timestamp)).to.gt(Date.parse(jsonData.query.timestamp))\r",
											"    pm.expect(jsonData.tokens.query).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(59);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.gte(90);\r",
											"    pm.expect(jsonData.tokens.response).to.be.at.least(5);\r",
											"    pm.environment.set('TEST_CHATMESSAGE2', jsonData.id)\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "content",
											"value": "Say this is another test",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages?cloak=false",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT2}}",
										"messages"
									],
									"query": [
										{
											"key": "cloak",
											"value": "false"
										}
									]
								}
							},
							"response": [
								{
									"name": "Create Chat Message 2",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "formdata",
											"formdata": [
												{
													"key": "content",
													"value": "Say this is another test",
													"type": "text"
												},
												{
													"key": "properties",
													"value": "{\"temperature\":\"0\"}",
													"type": "text"
												},
												{
													"key": "cloak",
													"value": "false",
													"type": "text"
												}
											]
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT2}}",
												"messages"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 09:55:02 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "940"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"model\": \"azure~gpt-4\",\n    \"systemPrompt\": {\n        \"role\": \"system\",\n        \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n        \"name\": null,\n        \"timestamp\": null\n    },\n    \"params\": {},\n    \"properties\": {},\n    \"id\": \"76781a43-cda2-4831-953b-a6c4456995fe\",\n    \"chat\": \"311e24b9-e184-409a-bf14-5bd7ac8aa14f\",\n    \"query\": {\n        \"role\": \"user\",\n        \"content\": \"Say this is another test\",\n        \"name\": null,\n        \"timestamp\": \"2024-04-24T09:55:03.604785Z\"\n    },\n    \"response\": {\n        \"role\": \"assistant\",\n        \"content\": \"Absolutely, this is another test. How can I be of help today?\",\n        \"name\": null,\n        \"timestamp\": \"2024-04-24T09:55:05.491793Z\",\n        \"finish_reason\": \"stop\"\n    },\n    \"tokens\": {\n        \"query\": 5,\n        \"systemPrompt\": 59,\n        \"queryWithContext\": 102,\n        \"response\": 15\n    },\n    \"liked\": false,\n    \"pinned\": false\n}"
								}
							]
						},
						{
							"name": "Create Chat Message 3",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Successfully created a Chat Message\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
											"    pm.expect(jsonData.chat).to.eql(pm.environment.get(\"TEST_CHAT2\"));\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-4\");\r",
											"    pm.expect(jsonData.systemPrompt.role).to.eql(\"system\");\r",
											"    pm.expect(jsonData.systemPrompt.content).to.eql(\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \");\r",
											"    pm.expect(jsonData.systemPrompt.name).to.eql(null);\r",
											"    pm.expect(jsonData.systemPrompt.timestamp).to.eql(null);\r",
											"    pm.expect(jsonData.params).to.eql({});\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.query.role).to.eql('user');\r",
											"    pm.expect(jsonData.query.content).to.eql('Say this is the third test');\r",
											"    pm.expect(jsonData.query.timestamp).to.not.eql(null);\r",
											"    pm.expect(jsonData.response.role).eq('assistant');\r",
											"    pm.expect(jsonData.response.content).to.include('the third test');\r",
											"    pm.expect(jsonData.response.timestamp).to.not.eql(null);\r",
											"    pm.expect(Date.parse(jsonData.response.timestamp)).to.gt(Date.parse(jsonData.query.timestamp))\r",
											"    pm.expect(jsonData.tokens.query).to.eql(6);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(59);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.gte(110);\r",
											"    pm.expect(jsonData.tokens.response).to.be.at.least(6);\r",
											"    pm.environment.set('TEST_CHATMESSAGE3', jsonData.id)\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "content",
											"value": "Say this is the third test",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages?cloak=false",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT2}}",
										"messages"
									],
									"query": [
										{
											"key": "cloak",
											"value": "false"
										}
									]
								}
							},
							"response": [
								{
									"name": "Create Chat Message 3",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "formdata",
											"formdata": [
												{
													"key": "content",
													"value": "Say this is the third test",
													"type": "text"
												},
												{
													"key": "properties",
													"value": "{\"temperature\":\"0\"}",
													"type": "text"
												},
												{
													"key": "cloak",
													"value": "false",
													"type": "text"
												}
											]
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT2}}",
												"messages"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 09:56:08 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "989"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"model\": \"azure~gpt-4\",\n    \"systemPrompt\": {\n        \"role\": \"system\",\n        \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n        \"name\": null,\n        \"timestamp\": null\n    },\n    \"params\": {},\n    \"properties\": {},\n    \"id\": \"7454bca4-75bf-4e08-9fb4-12b1ca039f84\",\n    \"chat\": \"311e24b9-e184-409a-bf14-5bd7ac8aa14f\",\n    \"query\": {\n        \"role\": \"user\",\n        \"content\": \"Say this is the third test\",\n        \"name\": null,\n        \"timestamp\": \"2024-04-24T09:56:09.253970Z\"\n    },\n    \"response\": {\n        \"role\": \"assistant\",\n        \"content\": \"Of course, this is the third test. Please let me know if there's anything specific you need assistance with.\",\n        \"name\": null,\n        \"timestamp\": \"2024-04-24T09:56:13.331837Z\",\n        \"finish_reason\": \"stop\"\n    },\n    \"tokens\": {\n        \"query\": 6,\n        \"systemPrompt\": 59,\n        \"queryWithContext\": 131,\n        \"response\": 23\n    },\n    \"liked\": false,\n    \"pinned\": false\n}"
								}
							]
						},
						{
							"name": "Retrieve Chat",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_CHAT2\"));\r",
											"    pm.expect(jsonData.name).to.eql(\"Say This Is A Test\");\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-4\");\r",
											"    pm.expect(jsonData.systemPrompt.template).to.eql(\"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.personality).to.eql(\"helpful, clever, and very friendly\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.instructions).to.eql(\"You serve as a personal assistant to public officers in singapore\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.guardrails).to.eql(\"You will not answer politically sensitive topics\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.knowledgeBase).to.eql(\"\");\r",
											"    pm.expect(jsonData.systemPrompt.placeholders.length).to.eql(4);\r",
											"    pm.expect(jsonData.userPrompt.template).to.eql(null);\r",
											"    pm.expect(jsonData.userPrompt.variables).to.eql({});\r",
											"    pm.expect(jsonData.userPrompt.placeholders.length).to.eql(0);\r",
											"    pm.expect(jsonData.params).to.eql({});\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.tokens.query).to.eql(6);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(59);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.gte(80);\r",
											"    pm.expect(jsonData.tokens.response).to.gte(6);\r",
											"    pm.expect(jsonData.tokens.queries_total).to.eql(16);\r",
											"    pm.expect(jsonData.tokens.responses_total).to.gte(16);\r",
											"    pm.expect(jsonData.messages.length).to.eql(3);\r",
											"    pm.expect(jsonData.pinned).to.eql(false);\r",
											"})"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT2}}"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Chat",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT2}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Fri, 31 May 2024 09:00:36 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "8325"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"modifications\": {\n        \"create\": {\n            \"type\": \"create\",\n            \"user_type\": \"user\",\n            \"timestamp\": \"2024-05-31T08:59:26.141000Z\",\n            \"user\": \"5eb6e5cd-ef03-5f88-a494-eb7dacd950ad\",\n            \"details\": {\n                \"id\": \"992e4174-360e-4e4e-9abb-dfd2f18f555e\",\n                \"name\": \"\",\n                \"agents\": [\n                    \"804885b4-423e-485c-b215-92c7dfa8baa8\"\n                ],\n                \"user_prompt\": {\n                    \"template\": null,\n                    \"variables\": {},\n                    \"placeholders\": []\n                },\n                \"systemPrompt\": {\n                    \"template\": \"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\",\n                    \"variables\": {\n                        \"personality\": \"helpful, clever, and very friendly\",\n                        \"instructions\": \"You serve as a personal assistant to public officers in singapore\",\n                        \"guardrails\": \"You will not answer politically sensitive topics\",\n                        \"knowledgeBase\": \"\"\n                    },\n                    \"placeholders\": [\n                        \"personality\",\n                        \"instructions\",\n                        \"guardrails\",\n                        \"knowledgeBase\"\n                    ]\n                },\n                \"params\": {},\n                \"properties\": {},\n                \"model\": \"azure~gpt-4\",\n                \"pinned\": false\n            }\n        },\n        \"update\": {\n            \"type\": \"update\",\n            \"user_type\": \"user\",\n            \"timestamp\": \"2024-05-31T09:00:32.518000Z\",\n            \"user\": \"5eb6e5cd-ef03-5f88-a494-eb7dacd950ad\",\n            \"details\": {\n                \"messages\": [\n                    {\n                        \"_id\": \"3ef4cfd8-1ecf-4622-a4a2-75761342a25f\",\n                        \"revision_id\": null,\n                        \"model\": \"azure~gpt-4\",\n                        \"systemPrompt\": {\n                            \"role\": \"system\",\n                            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n                            \"name\": null,\n                            \"timestamp\": null,\n                            \"options\": null\n                        },\n                        \"params\": {},\n                        \"properties\": {},\n                        \"chat\": \"992e4174-360e-4e4e-9abb-dfd2f18f555e\",\n                        \"query\": {\n                            \"role\": \"user\",\n                            \"content\": \"Say this is a test\",\n                            \"name\": null,\n                            \"timestamp\": \"2024-05-31T08:59:29.892000Z\",\n                            \"options\": null\n                        },\n                        \"response\": {\n                            \"role\": \"assistant\",\n                            \"content\": \"Sure, \\\"This is a test\\\". Is there anything else you would like me to assist with?\",\n                            \"name\": null,\n                            \"timestamp\": \"2024-05-31T08:59:32.857000Z\",\n                            \"options\": null,\n                            \"finish_reason\": \"stop\"\n                        },\n                        \"tokens\": {\n                            \"query\": 5,\n                            \"systemPrompt\": 59,\n                            \"queryWithContext\": 75,\n                            \"response\": 20\n                        },\n                        \"liked\": false,\n                        \"pinned\": false\n                    },\n                    {\n                        \"_id\": \"2bcd1d72-7a10-482a-bc19-b008a6f49d94\",\n                        \"revision_id\": null,\n                        \"model\": \"azure~gpt-4\",\n                        \"systemPrompt\": {\n                            \"role\": \"system\",\n                            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n                            \"name\": null,\n                            \"timestamp\": null,\n                            \"options\": null\n                        },\n                        \"params\": {},\n                        \"properties\": {},\n                        \"chat\": \"992e4174-360e-4e4e-9abb-dfd2f18f555e\",\n                        \"query\": {\n                            \"role\": \"user\",\n                            \"content\": \"Say this is another test\",\n                            \"name\": null,\n                            \"timestamp\": \"2024-05-31T09:00:21.599000Z\",\n                            \"options\": null\n                        },\n                        \"response\": {\n                            \"role\": \"assistant\",\n                            \"content\": \"Sure, \\\"This is another test\\\". Please let me know if you need assistance with anything else.\",\n                            \"name\": null,\n                            \"timestamp\": \"2024-05-31T09:00:24.805000Z\",\n                            \"options\": null,\n                            \"finish_reason\": \"stop\"\n                        },\n                        \"tokens\": {\n                            \"query\": 5,\n                            \"systemPrompt\": 59,\n                            \"queryWithContext\": 108,\n                            \"response\": 20\n                        },\n                        \"liked\": false,\n                        \"pinned\": false\n                    },\n                    {\n                        \"_id\": \"941795b5-aaf8-4561-b766-56c3f4dcc46e\",\n                        \"revision_id\": null,\n                        \"model\": \"azure~gpt-4\",\n                        \"systemPrompt\": {\n                            \"role\": \"system\",\n                            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n                            \"name\": null,\n                            \"timestamp\": null,\n                            \"options\": null\n                        },\n                        \"params\": {},\n                        \"properties\": {},\n                        \"chat\": \"992e4174-360e-4e4e-9abb-dfd2f18f555e\",\n                        \"query\": {\n                            \"role\": \"user\",\n                            \"content\": \"Say this is the third test\",\n                            \"name\": null,\n                            \"timestamp\": \"2024-05-31T09:00:29.127000Z\",\n                            \"options\": null\n                        },\n                        \"response\": {\n                            \"role\": \"assistant\",\n                            \"content\": \"Absolutely, \\\"This is the third test\\\". Is there anything else you need me to help with?\",\n                            \"name\": null,\n                            \"timestamp\": \"2024-05-31T09:00:32.508000Z\",\n                            \"options\": null,\n                            \"finish_reason\": \"stop\"\n                        },\n                        \"tokens\": {\n                            \"query\": 6,\n                            \"systemPrompt\": 59,\n                            \"queryWithContext\": 142,\n                            \"response\": 20\n                        },\n                        \"liked\": false,\n                        \"pinned\": false\n                    }\n                ],\n                \"tokens\": {\n                    \"query\": 6,\n                    \"systemPrompt\": 59,\n                    \"queryWithContext\": 142,\n                    \"response\": 20,\n                    \"queries_total\": 16,\n                    \"responses_total\": 60\n                }\n            }\n        }\n    },\n    \"name\": \"Say This Is A Test\",\n    \"model\": \"azure~gpt-4\",\n    \"systemPrompt\": {\n        \"template\": \"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\",\n        \"variables\": {\n            \"personality\": \"helpful, clever, and very friendly\",\n            \"instructions\": \"You serve as a personal assistant to public officers in singapore\",\n            \"guardrails\": \"You will not answer politically sensitive topics\",\n            \"knowledgeBase\": \"\"\n        },\n        \"placeholders\": [\n            \"personality\",\n            \"instructions\",\n            \"guardrails\",\n            \"knowledgeBase\"\n        ]\n    },\n    \"params\": {},\n    \"properties\": {},\n    \"id\": \"992e4174-360e-4e4e-9abb-dfd2f18f555e\",\n    \"userPrompt\": {\n        \"template\": null,\n        \"variables\": {},\n        \"placeholders\": []\n    },\n    \"tokens\": {\n        \"query\": 6,\n        \"systemPrompt\": 59,\n        \"queryWithContext\": 142,\n        \"response\": 20,\n        \"queries_total\": 16,\n        \"responses_total\": 60\n    },\n    \"messages\": [\n        {\n            \"model\": \"azure~gpt-4\",\n            \"systemPrompt\": {\n                \"role\": \"system\",\n                \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n                \"name\": null,\n                \"timestamp\": null,\n                \"options\": null\n            },\n            \"params\": {},\n            \"properties\": {},\n            \"id\": \"3ef4cfd8-1ecf-4622-a4a2-75761342a25f\",\n            \"chat\": \"992e4174-360e-4e4e-9abb-dfd2f18f555e\",\n            \"query\": {\n                \"role\": \"user\",\n                \"content\": \"Say this is a test\",\n                \"name\": null,\n                \"timestamp\": \"2024-05-31T08:59:29.892000Z\",\n                \"options\": null\n            },\n            \"response\": {\n                \"role\": \"assistant\",\n                \"content\": \"Sure, \\\"This is a test\\\". Is there anything else you would like me to assist with?\",\n                \"name\": null,\n                \"timestamp\": \"2024-05-31T08:59:32.857000Z\",\n                \"options\": null,\n                \"finish_reason\": \"stop\"\n            },\n            \"tokens\": {\n                \"query\": 5,\n                \"systemPrompt\": 59,\n                \"queryWithContext\": 75,\n                \"response\": 20\n            },\n            \"liked\": false,\n            \"pinned\": false\n        },\n        {\n            \"model\": \"azure~gpt-4\",\n            \"systemPrompt\": {\n                \"role\": \"system\",\n                \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n                \"name\": null,\n                \"timestamp\": null,\n                \"options\": null\n            },\n            \"params\": {},\n            \"properties\": {},\n            \"id\": \"2bcd1d72-7a10-482a-bc19-b008a6f49d94\",\n            \"chat\": \"992e4174-360e-4e4e-9abb-dfd2f18f555e\",\n            \"query\": {\n                \"role\": \"user\",\n                \"content\": \"Say this is another test\",\n                \"name\": null,\n                \"timestamp\": \"2024-05-31T09:00:21.599000Z\",\n                \"options\": null\n            },\n            \"response\": {\n                \"role\": \"assistant\",\n                \"content\": \"Sure, \\\"This is another test\\\". Please let me know if you need assistance with anything else.\",\n                \"name\": null,\n                \"timestamp\": \"2024-05-31T09:00:24.805000Z\",\n                \"options\": null,\n                \"finish_reason\": \"stop\"\n            },\n            \"tokens\": {\n                \"query\": 5,\n                \"systemPrompt\": 59,\n                \"queryWithContext\": 108,\n                \"response\": 20\n            },\n            \"liked\": false,\n            \"pinned\": false\n        },\n        {\n            \"model\": \"azure~gpt-4\",\n            \"systemPrompt\": {\n                \"role\": \"system\",\n                \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n                \"name\": null,\n                \"timestamp\": null,\n                \"options\": null\n            },\n            \"params\": {},\n            \"properties\": {},\n            \"id\": \"941795b5-aaf8-4561-b766-56c3f4dcc46e\",\n            \"chat\": \"992e4174-360e-4e4e-9abb-dfd2f18f555e\",\n            \"query\": {\n                \"role\": \"user\",\n                \"content\": \"Say this is the third test\",\n                \"name\": null,\n                \"timestamp\": \"2024-05-31T09:00:29.127000Z\",\n                \"options\": null\n            },\n            \"response\": {\n                \"role\": \"assistant\",\n                \"content\": \"Absolutely, \\\"This is the third test\\\". Is there anything else you need me to help with?\",\n                \"name\": null,\n                \"timestamp\": \"2024-05-31T09:00:32.508000Z\",\n                \"options\": null,\n                \"finish_reason\": \"stop\"\n            },\n            \"tokens\": {\n                \"query\": 6,\n                \"systemPrompt\": 59,\n                \"queryWithContext\": 142,\n                \"response\": 20\n            },\n            \"liked\": false,\n            \"pinned\": false\n        }\n    ],\n    \"agents\": [\n        \"804885b4-423e-485c-b215-92c7dfa8baa8\"\n    ],\n    \"pinned\": false\n}"
								}
							]
						},
						{
							"name": "Retrieve Chat Messages",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Messages\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.length).to.eql(3);\r",
											"    pm.expect(jsonData[0].id).to.eql(pm.environment.get(\"TEST_CHATMESSAGE1\"));\r",
											"    pm.expect(jsonData[1].id).to.eql(pm.environment.get(\"TEST_CHATMESSAGE2\"));\r",
											"    pm.expect(jsonData[2].id).to.eql(pm.environment.get(\"TEST_CHATMESSAGE3\"));\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT2}}",
										"messages"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Chat Messages",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT2}}",
												"messages"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 10:28:39 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "2794"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "[\n    {\n        \"model\": \"azure~gpt-4\",\n        \"systemPrompt\": {\n            \"role\": \"system\",\n            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n            \"name\": null,\n            \"timestamp\": null\n        },\n        \"params\": {},\n        \"properties\": {},\n        \"id\": \"f6c7330c-5c19-4597-8880-dbf52123f9fe\",\n        \"chat\": \"4b021e70-1ca8-4f2d-91b6-2312e7a3febb\",\n        \"query\": {\n            \"role\": \"user\",\n            \"content\": \"Say this is a test\",\n            \"name\": null,\n            \"timestamp\": \"2024-04-24T10:28:06Z\"\n        },\n        \"response\": {\n            \"role\": \"assistant\",\n            \"content\": \"Sure, I can do that for you. \\\"This is a test.\\\"\",\n            \"name\": null,\n            \"timestamp\": \"2024-04-24T10:28:08.830000Z\",\n            \"finish_reason\": \"stop\"\n        },\n        \"tokens\": {\n            \"query\": 5,\n            \"systemPrompt\": 59,\n            \"queryWithContext\": 75,\n            \"response\": 15\n        },\n        \"liked\": false,\n        \"pinned\": false\n    },\n    {\n        \"model\": \"azure~gpt-4\",\n        \"systemPrompt\": {\n            \"role\": \"system\",\n            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n            \"name\": null,\n            \"timestamp\": null\n        },\n        \"params\": {},\n        \"properties\": {},\n        \"id\": \"47daada6-e653-4760-bcff-55377a5c7af8\",\n        \"chat\": \"4b021e70-1ca8-4f2d-91b6-2312e7a3febb\",\n        \"query\": {\n            \"role\": \"user\",\n            \"content\": \"Say this is another test\",\n            \"name\": null,\n            \"timestamp\": \"2024-04-24T10:28:17.853000Z\"\n        },\n        \"response\": {\n            \"role\": \"assistant\",\n            \"content\": \"Absolutely, let me handle that. \\\"This is another test.\\\"\",\n            \"name\": null,\n            \"timestamp\": \"2024-04-24T10:28:21.117000Z\",\n            \"finish_reason\": \"stop\"\n        },\n        \"tokens\": {\n            \"query\": 5,\n            \"systemPrompt\": 59,\n            \"queryWithContext\": 103,\n            \"response\": 13\n        },\n        \"liked\": false,\n        \"pinned\": false\n    },\n    {\n        \"model\": \"azure~gpt-4\",\n        \"systemPrompt\": {\n            \"role\": \"system\",\n            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n            \"name\": null,\n            \"timestamp\": null\n        },\n        \"params\": {},\n        \"properties\": {},\n        \"id\": \"c74238e8-0f3c-4f3b-af79-4e9da4b6d720\",\n        \"chat\": \"4b021e70-1ca8-4f2d-91b6-2312e7a3febb\",\n        \"query\": {\n            \"role\": \"user\",\n            \"content\": \"Say this is the third test\",\n            \"name\": null,\n            \"timestamp\": \"2024-04-24T10:28:28.402000Z\"\n        },\n        \"response\": {\n            \"role\": \"assistant\",\n            \"content\": \"Of course, no problem at all. \\\"This is the third test.\\\"\",\n            \"name\": null,\n            \"timestamp\": \"2024-04-24T10:28:30.982000Z\",\n            \"finish_reason\": \"stop\"\n        },\n        \"tokens\": {\n            \"query\": 6,\n            \"systemPrompt\": 59,\n            \"queryWithContext\": 130,\n            \"response\": 15\n        },\n        \"liked\": false,\n        \"pinned\": false\n    }\n]"
								}
							]
						},
						{
							"name": "Retrieve Chat Message 2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Message\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_CHATMESSAGE2\"));\r",
											"    pm.expect(jsonData.chat).to.eql(pm.environment.get(\"TEST_CHAT2\"));\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-4\");\r",
											"    pm.expect(jsonData.systemPrompt.role).to.eql(\"system\");\r",
											"    pm.expect(jsonData.systemPrompt.content).to.eql(\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \");\r",
											"    pm.expect(jsonData.systemPrompt.name).to.eql(null);\r",
											"    pm.expect(jsonData.systemPrompt.timestamp).to.eql(null);\r",
											"    pm.expect(jsonData.params).to.eql({});\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.query.role).to.eql('user');\r",
											"    pm.expect(jsonData.query.content).to.eql('Say this is another test');\r",
											"    pm.expect(jsonData.query.timestamp).to.not.eql(null);\r",
											"    pm.expect(jsonData.response.role).eq('assistant');\r",
											"    pm.expect(jsonData.response.content).to.include('is another test');\r",
											"    pm.expect(jsonData.response.timestamp).to.not.eql(null);\r",
											"    pm.expect(Date.parse(jsonData.response.timestamp)).to.gt(Date.parse(jsonData.query.timestamp))\r",
											"    pm.expect(jsonData.tokens.query).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(59);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.gte(90);\r",
											"    pm.expect(jsonData.tokens.response).to.gte(5);\r",
											"})"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages/{{TEST_CHATMESSAGE2}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT2}}",
										"messages",
										"{{TEST_CHATMESSAGE2}}"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Chat Message 2",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages/{{TEST_CHATMESSAGE2}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT2}}",
												"messages",
												"{{TEST_CHATMESSAGE2}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 10:29:51 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "937"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"model\": \"azure~gpt-4\",\n    \"systemPrompt\": {\n        \"role\": \"system\",\n        \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n        \"name\": null,\n        \"timestamp\": null\n    },\n    \"params\": {},\n    \"properties\": {},\n    \"id\": \"47daada6-e653-4760-bcff-55377a5c7af8\",\n    \"chat\": \"4b021e70-1ca8-4f2d-91b6-2312e7a3febb\",\n    \"query\": {\n        \"role\": \"user\",\n        \"content\": \"Say this is another test\",\n        \"name\": null,\n        \"timestamp\": \"2024-04-24T10:28:17.853000Z\"\n    },\n    \"response\": {\n        \"role\": \"assistant\",\n        \"content\": \"Absolutely, let me handle that. \\\"This is another test.\\\"\",\n        \"name\": null,\n        \"timestamp\": \"2024-04-24T10:28:21.117000Z\",\n        \"finish_reason\": \"stop\"\n    },\n    \"tokens\": {\n        \"query\": 5,\n        \"systemPrompt\": 59,\n        \"queryWithContext\": 103,\n        \"response\": 13\n    },\n    \"liked\": false,\n    \"pinned\": false\n}"
								}
							]
						},
						{
							"name": "Retrieve Chat Message 3",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Message\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_CHATMESSAGE3\"));\r",
											"    pm.expect(jsonData.chat).to.eql(pm.environment.get(\"TEST_CHAT2\"));\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-4\");\r",
											"    pm.expect(jsonData.systemPrompt.role).to.eql(\"system\");\r",
											"    pm.expect(jsonData.systemPrompt.content).to.eql(\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \");\r",
											"    pm.expect(jsonData.systemPrompt.name).to.eql(null);\r",
											"    pm.expect(jsonData.systemPrompt.timestamp).to.eql(null);\r",
											"    pm.expect(jsonData.params).to.eql({});\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.query.role).to.eql('user');\r",
											"    pm.expect(jsonData.query.content).to.eql('Say this is the third test');\r",
											"    pm.expect(jsonData.query.timestamp).to.not.eql(null);\r",
											"    pm.expect(jsonData.response.role).eq('assistant');\r",
											"    pm.expect(jsonData.response.content).to.include('the third test');\r",
											"    pm.expect(jsonData.response.timestamp).to.not.eql(null);\r",
											"    pm.expect(Date.parse(jsonData.response.timestamp)).to.gt(Date.parse(jsonData.query.timestamp))\r",
											"    pm.expect(jsonData.tokens.query).to.eql(6);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(59);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.gte(110);\r",
											"    pm.expect(jsonData.tokens.response).to.gte(6);\r",
											"})"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages/{{TEST_CHATMESSAGE3}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT2}}",
										"messages",
										"{{TEST_CHATMESSAGE3}}"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Chat Message 3",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages/{{TEST_CHATMESSAGE3}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT2}}",
												"messages",
												"{{TEST_CHATMESSAGE3}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 24 Apr 2024 10:30:45 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "939"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"model\": \"azure~gpt-4\",\n    \"systemPrompt\": {\n        \"role\": \"system\",\n        \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n        \"name\": null,\n        \"timestamp\": null\n    },\n    \"params\": {},\n    \"properties\": {},\n    \"id\": \"c74238e8-0f3c-4f3b-af79-4e9da4b6d720\",\n    \"chat\": \"4b021e70-1ca8-4f2d-91b6-2312e7a3febb\",\n    \"query\": {\n        \"role\": \"user\",\n        \"content\": \"Say this is the third test\",\n        \"name\": null,\n        \"timestamp\": \"2024-04-24T10:28:28.402000Z\"\n    },\n    \"response\": {\n        \"role\": \"assistant\",\n        \"content\": \"Of course, no problem at all. \\\"This is the third test.\\\"\",\n        \"name\": null,\n        \"timestamp\": \"2024-04-24T10:28:30.982000Z\",\n        \"finish_reason\": \"stop\"\n    },\n    \"tokens\": {\n        \"query\": 6,\n        \"systemPrompt\": 59,\n        \"queryWithContext\": 130,\n        \"response\": 15\n    },\n    \"liked\": false,\n    \"pinned\": false\n}"
								}
							]
						}
					]
				},
				{
					"name": "Email Chat",
					"item": [
						{
							"name": "Send Chat to User Email",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 202', function () {\r",
											"    pm.response.to.have.status(202);\r",
											"})"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/email",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT2}}",
										"email"
									]
								}
							},
							"response": [
								{
									"name": "Send Chat to User Email",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/email",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT2}}",
												"email"
											]
										}
									},
									"status": "Accepted",
									"code": 202,
									"_postman_previewlanguage": "plain",
									"header": [
										{
											"key": "date",
											"value": "Thu, 25 Apr 2024 04:24:59 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "transfer-encoding",
											"value": "chunked"
										}
									],
									"cookie": [],
									"body": ""
								}
							]
						}
					]
				},
				{
					"name": "Delete Chat Message",
					"item": [
						{
							"name": "Delete Chat Message",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages/{{TEST_CHATMESSAGE1}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT2}}",
										"messages",
										"{{TEST_CHATMESSAGE1}}"
									]
								}
							},
							"response": [
								{
									"name": "Delete Chat Message",
									"originalRequest": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages/{{TEST_CHATMESSAGE1}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT2}}",
												"messages",
												"{{TEST_CHATMESSAGE1}}"
											]
										}
									},
									"status": "No Content",
									"code": 204,
									"_postman_previewlanguage": "plain",
									"header": [
										{
											"key": "date",
											"value": "Thu, 25 Apr 2024 04:25:57 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										}
									],
									"cookie": [],
									"body": ""
								}
							]
						},
						{
							"name": "Retrieve Chat Messages",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Messages\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.length).to.eql(2);\r",
											"    pm.expect(jsonData[0].id).to.eql(pm.environment.get(\"TEST_CHATMESSAGE2\"));\r",
											"    pm.expect(jsonData[1].id).to.eql(pm.environment.get(\"TEST_CHATMESSAGE3\"));\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT2}}",
										"messages"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Chat Messages",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT2}}",
												"messages"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 25 Apr 2024 04:26:08 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "1838"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "[\n    {\n        \"model\": \"azure~gpt-4\",\n        \"systemPrompt\": {\n            \"role\": \"system\",\n            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n            \"name\": null,\n            \"timestamp\": null\n        },\n        \"params\": {},\n        \"properties\": {},\n        \"id\": \"59eb3b97-54f9-4c07-8bdc-962cab392a0b\",\n        \"chat\": \"483f43cf-7e99-47cc-a750-6bcfcf8aa26c\",\n        \"query\": {\n            \"role\": \"user\",\n            \"content\": \"Say this is another test\",\n            \"name\": null,\n            \"timestamp\": \"2024-04-25T04:00:57.917000Z\"\n        },\n        \"response\": {\n            \"role\": \"assistant\",\n            \"content\": \"Of course, \\\"This is another test.\\\"\",\n            \"name\": null,\n            \"timestamp\": \"2024-04-25T04:01:00.130000Z\",\n            \"finish_reason\": \"stop\"\n        },\n        \"tokens\": {\n            \"query\": 5,\n            \"systemPrompt\": 59,\n            \"queryWithContext\": 100,\n            \"response\": 9\n        },\n        \"liked\": false,\n        \"pinned\": false\n    },\n    {\n        \"model\": \"azure~gpt-4\",\n        \"systemPrompt\": {\n            \"role\": \"system\",\n            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n            \"name\": null,\n            \"timestamp\": null\n        },\n        \"params\": {},\n        \"properties\": {},\n        \"id\": \"a785381d-35eb-45c2-805a-c173435e2023\",\n        \"chat\": \"483f43cf-7e99-47cc-a750-6bcfcf8aa26c\",\n        \"query\": {\n            \"role\": \"user\",\n            \"content\": \"Say this is the third test\",\n            \"name\": null,\n            \"timestamp\": \"2024-04-25T04:01:00.298000Z\"\n        },\n        \"response\": {\n            \"role\": \"assistant\",\n            \"content\": \"Absolutely, \\\"This is the third test.\\\"\",\n            \"name\": null,\n            \"timestamp\": \"2024-04-25T04:01:02.937000Z\",\n            \"finish_reason\": \"stop\"\n        },\n        \"tokens\": {\n            \"query\": 6,\n            \"systemPrompt\": 59,\n            \"queryWithContext\": 123,\n            \"response\": 9\n        },\n        \"liked\": false,\n        \"pinned\": false\n    }\n]"
								}
							]
						},
						{
							"name": "Attempt to retrieve deleted Chat Item",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 404', function () {\r",
											"    pm.response.to.have.status(404);\r",
											"})\r",
											"\r",
											"pm.test(\"Attempt to retrieve deleted Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(404);\r",
											"    pm.expect(jsonData.message).to.eql(\"Chat Message(s) does not exist\");\r",
											"    pm.expect(jsonData.details.id).to.eql(pm.environment.get(\"TEST_CHATMESSAGE1\"));\r",
											"});\r",
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages/{{TEST_CHATMESSAGE1}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT2}}",
										"messages",
										"{{TEST_CHATMESSAGE1}}"
									]
								}
							},
							"response": [
								{
									"name": "Attempt to retrieve deleted Chat Item",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages/{{TEST_CHATMESSAGE1}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT2}}",
												"messages",
												"{{TEST_CHATMESSAGE1}}"
											]
										}
									},
									"status": "Not Found",
									"code": 404,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 25 Apr 2024 04:26:18 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "1112"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 404,\n    \"message\": \"Chat Message(s) does not exist\",\n    \"request\": {\n        \"url\": \"http://localhost:20002/latest/chats/483f43cf-7e99-47cc-a750-6bcfcf8aa26c/messages/775c04e5-1a54-4c13-ad20-e552613129e0\",\n        \"headers\": {\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJEU0FJRCwgR292VGVjaCIsInN1YiI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsImF1ZCI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsIm5iZiI6MTcxNDAxOTA5NCwiaWF0IjoxNzE0MDE5MDk0LCJleHAiOjE3MTQwMjYyOTQsImp0aSI6IjY4MDJlZDQ4LTQ2ZTgtNGZkYy04NWJiLTRjZWE0NDYxOGI1MyIsImF0X2hhc2giOiJWRnVhRjJRRUNScHZTOFRSemtuY1lRIn0.ONGc4EAaSN_epfk2QIuw29mZSdjdqvsgoKillYqpo80\",\n            \"user-agent\": \"PostmanRuntime/7.37.3\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"cf75ac13-256e-4850-a04f-d7b734f5fb51\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\"\n        },\n        \"path_params\": {\n            \"chat_id\": \"483f43cf-7e99-47cc-a750-6bcfcf8aa26c\",\n            \"chat_message_id\": \"775c04e5-1a54-4c13-ad20-e552613129e0\"\n        },\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 56175\n        },\n        \"body\": \"\"\n    },\n    \"details\": {\n        \"id\": \"775c04e5-1a54-4c13-ad20-e552613129e0\"\n    }\n}"
								}
							]
						}
					]
				},
				{
					"name": "Delete Multiple Chat Message",
					"item": [
						{
							"name": "Create Chat Message 4",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Successfully created a Chat Message\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
											"    pm.expect(jsonData.chat).to.eql(pm.environment.get(\"TEST_CHAT2\"));\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-4\");\r",
											"    pm.expect(jsonData.systemPrompt.role).to.eql(\"system\");\r",
											"    pm.expect(jsonData.systemPrompt.content).to.eql(\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \");\r",
											"    pm.expect(jsonData.systemPrompt.name).to.eql(null);\r",
											"    pm.expect(jsonData.systemPrompt.timestamp).to.eql(null);\r",
											"    pm.expect(jsonData.params).to.eql({});\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.query.role).to.eql('user');\r",
											"    pm.expect(jsonData.query.content).to.eql('Say this is the fourth test');\r",
											"    pm.expect(jsonData.query.timestamp).to.not.eql(null);\r",
											"    pm.expect(jsonData.response.role).eq('assistant');\r",
											"    pm.expect(jsonData.response.content).to.include('the fourth test');\r",
											"    pm.expect(jsonData.response.timestamp).to.not.eql(null);\r",
											"    pm.expect(Date.parse(jsonData.response.timestamp)).to.gt(Date.parse(jsonData.query.timestamp))\r",
											"    pm.expect(jsonData.tokens.query).to.eql(6);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(59);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.gte(110);\r",
											"    pm.expect(jsonData.tokens.response).to.be.at.least(6);\r",
											"    pm.environment.set('TEST_CHATMESSAGE4', jsonData.id)\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "content",
											"value": "Say this is the fourth test",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages?cloak=false",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT2}}",
										"messages"
									],
									"query": [
										{
											"key": "cloak",
											"value": "false"
										}
									]
								}
							},
							"response": [
								{
									"name": "Create Chat Message 4",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "formdata",
											"formdata": [
												{
													"key": "content",
													"value": "Say this is the fourth test",
													"type": "text"
												},
												{
													"key": "properties",
													"value": "{\"temperature\":\"0\"}",
													"type": "text"
												},
												{
													"key": "cloak",
													"value": "false",
													"type": "text"
												}
											]
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT2}}",
												"messages"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 25 Apr 2024 04:28:05 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "926"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"model\": \"azure~gpt-4\",\n    \"systemPrompt\": {\n        \"role\": \"system\",\n        \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n        \"name\": null,\n        \"timestamp\": null\n    },\n    \"params\": {},\n    \"properties\": {},\n    \"id\": \"20c8d786-7e8a-48c9-960a-ce33bf3a9bc5\",\n    \"chat\": \"483f43cf-7e99-47cc-a750-6bcfcf8aa26c\",\n    \"query\": {\n        \"role\": \"user\",\n        \"content\": \"Say this is the fourth test\",\n        \"name\": null,\n        \"timestamp\": \"2024-04-25T04:28:06.218989Z\"\n    },\n    \"response\": {\n        \"role\": \"assistant\",\n        \"content\": \"With pleasure, \\\"This is the fourth test.\\\"\",\n        \"name\": null,\n        \"timestamp\": \"2024-04-25T04:28:08.514457Z\",\n        \"finish_reason\": \"stop\"\n    },\n    \"tokens\": {\n        \"query\": 6,\n        \"systemPrompt\": 59,\n        \"queryWithContext\": 145,\n        \"response\": 10\n    },\n    \"liked\": false,\n    \"pinned\": false\n}"
								}
							]
						},
						{
							"name": "Attempt Delete Invalid Chat Message IDs",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 404\", function () {\r",
											"    pm.response.to.have.status(404);\r",
											"});\r",
											"pm.test(\"Delete non-existent Chat Items\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(404);\r",
											"    pm.expect(jsonData.message).to.include(\"some chats do not exist\");\r",
											"    pm.expect(pm.environment.get(\"TEST_NONEXISTENT_ID\") in jsonData.details);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "[\"{{TEST_CHATMESSAGE2}}\",\"{{TEST_NONEXISTENT_ID}}\"]",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats"
									]
								}
							},
							"response": [
								{
									"name": "Attempt Delete Invalid Chat Message IDs",
									"originalRequest": {
										"method": "DELETE",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "[\"{{TEST_CHATMESSAGE2}}\",\"{{TEST_NONEXISTENT_ID}}\"]",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats"
											]
										}
									},
									"status": "Not Found",
									"code": 404,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 25 Apr 2024 04:28:28 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "1113"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 404,\n    \"message\": \"Error deleting Chat Item(s), some chats do not exist\",\n    \"request\": {\n        \"url\": \"http://localhost:20002/latest/chats\",\n        \"headers\": {\n            \"content-type\": \"application/json\",\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJEU0FJRCwgR292VGVjaCIsInN1YiI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsImF1ZCI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsIm5iZiI6MTcxNDAxOTA5NCwiaWF0IjoxNzE0MDE5MDk0LCJleHAiOjE3MTQwMjYyOTQsImp0aSI6IjY4MDJlZDQ4LTQ2ZTgtNGZkYy04NWJiLTRjZWE0NDYxOGI1MyIsImF0X2hhc2giOiJWRnVhRjJRRUNScHZTOFRSemtuY1lRIn0.ONGc4EAaSN_epfk2QIuw29mZSdjdqvsgoKillYqpo80\",\n            \"user-agent\": \"PostmanRuntime/7.37.3\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"aeded99b-b6d5-480e-9fed-88ea6f130897\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\",\n            \"content-length\": \"79\"\n        },\n        \"path_params\": {},\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 61482\n        },\n        \"body\": [\n            \"59eb3b97-54f9-4c07-8bdc-962cab392a0b\",\n            \"627339c8-b486-43dc-8e6b-f3f0a5632576\"\n        ]\n    },\n    \"details\": [\n        \"59eb3b97-54f9-4c07-8bdc-962cab392a0b\",\n        \"627339c8-b486-43dc-8e6b-f3f0a5632576\"\n    ]\n}"
								}
							]
						},
						{
							"name": "Attempt Delete Repeated Chat Message IDs",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 400\", function () {\r",
											"    pm.response.to.have.status(400);\r",
											"});\r",
											"pm.test(\"Delete non-existent Chat Items\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(400);\r",
											"    pm.expect(jsonData.message).to.include(\"Duplicate IDs found in deletion list\");\r",
											"    pm.expect(pm.environment.get(\"TEST_NONEXISTENT_ID\") in jsonData.details);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "[\r\n    \"{{TEST_CHATMESSAGE2}}\",\r\n    \"{{TEST_CHATMESSAGE2}}\"\r\n]",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats"
									]
								}
							},
							"response": [
								{
									"name": "Attempt Delete Repeated Chat Message IDs",
									"originalRequest": {
										"method": "DELETE",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "[\r\n    \"{{TEST_CHATMESSAGE2}}\",\r\n    \"{{TEST_CHATMESSAGE2}}\"\r\n]",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats"
											]
										}
									},
									"status": "Bad Request",
									"code": 400,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 25 Apr 2024 04:28:38 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "1097"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 400,\n    \"message\": \"Duplicate IDs found in deletion list\",\n    \"request\": {\n        \"url\": \"http://localhost:20002/latest/chats\",\n        \"headers\": {\n            \"content-type\": \"application/json\",\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJEU0FJRCwgR292VGVjaCIsInN1YiI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsImF1ZCI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsIm5iZiI6MTcxNDAxOTA5NCwiaWF0IjoxNzE0MDE5MDk0LCJleHAiOjE3MTQwMjYyOTQsImp0aSI6IjY4MDJlZDQ4LTQ2ZTgtNGZkYy04NWJiLTRjZWE0NDYxOGI1MyIsImF0X2hhc2giOiJWRnVhRjJRRUNScHZTOFRSemtuY1lRIn0.ONGc4EAaSN_epfk2QIuw29mZSdjdqvsgoKillYqpo80\",\n            \"user-agent\": \"PostmanRuntime/7.37.3\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"0451a7df-bdea-4669-b7d4-1422f44a185e\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\",\n            \"content-length\": \"93\"\n        },\n        \"path_params\": {},\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 61846\n        },\n        \"body\": [\n            \"59eb3b97-54f9-4c07-8bdc-962cab392a0b\",\n            \"59eb3b97-54f9-4c07-8bdc-962cab392a0b\"\n        ]\n    },\n    \"details\": [\n        \"59eb3b97-54f9-4c07-8bdc-962cab392a0b\",\n        \"59eb3b97-54f9-4c07-8bdc-962cab392a0b\"\n    ]\n}"
								}
							]
						},
						{
							"name": "Delete Chat Messages",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "[\"{{TEST_CHATMESSAGE2}}\",\"{{TEST_CHATMESSAGE3}}\"]",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT2}}",
										"messages"
									]
								}
							},
							"response": [
								{
									"name": "Delete Chat Messages",
									"originalRequest": {
										"method": "DELETE",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "[\"{{TEST_CHATMESSAGE2}}\",\"{{TEST_CHATMESSAGE3}}\"]",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT2}}",
												"messages"
											]
										}
									},
									"status": "No Content",
									"code": 204,
									"_postman_previewlanguage": "plain",
									"header": [
										{
											"key": "date",
											"value": "Thu, 25 Apr 2024 04:28:49 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										}
									],
									"cookie": [],
									"body": ""
								}
							]
						},
						{
							"name": "Retrieve Chat Messages",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Messages\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.length).to.eql(1);\r",
											"    pm.expect(jsonData[0].id).to.eql(pm.environment.get(\"TEST_CHATMESSAGE4\"));\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT2}}",
										"messages"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Chat Messages",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT2}}",
												"messages"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 25 Apr 2024 04:32:28 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "919"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "[\n    {\n        \"model\": \"azure~gpt-4\",\n        \"systemPrompt\": {\n            \"role\": \"system\",\n            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n            \"name\": null,\n            \"timestamp\": null\n        },\n        \"params\": {},\n        \"properties\": {},\n        \"id\": \"76a3fa4a-6bfe-4eec-bdb2-7e85d640100d\",\n        \"chat\": \"800b6d9e-a4f1-4ffb-9c58-635ad007a15d\",\n        \"query\": {\n            \"role\": \"user\",\n            \"content\": \"Say this is the fourth test\",\n            \"name\": null,\n            \"timestamp\": \"2024-04-25T04:32:09.219000Z\"\n        },\n        \"response\": {\n            \"role\": \"assistant\",\n            \"content\": \"Certainly, this is the fourth test.\",\n            \"name\": null,\n            \"timestamp\": \"2024-04-25T04:32:10.991000Z\",\n            \"finish_reason\": \"stop\"\n        },\n        \"tokens\": {\n            \"query\": 6,\n            \"systemPrompt\": 59,\n            \"queryWithContext\": 119,\n            \"response\": 8\n        },\n        \"liked\": false,\n        \"pinned\": false\n    }\n]"
								}
							]
						},
						{
							"name": "Attempt to retrieve deleted Chat Message 2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 404', function () {\r",
											"    pm.response.to.have.status(404);\r",
											"})\r",
											"\r",
											"pm.test(\"Attempt to retrieve deleted Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(404);\r",
											"    pm.expect(jsonData.message).to.eql(\"Chat Message(s) does not exist\");\r",
											"    pm.expect(jsonData.details.id).to.eql(pm.environment.get(\"TEST_CHATMESSAGE2\"));\r",
											"});\r",
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages/{{TEST_CHATMESSAGE2}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT2}}",
										"messages",
										"{{TEST_CHATMESSAGE2}}"
									]
								}
							},
							"response": [
								{
									"name": "Attempt to retrieve deleted Chat Message 2",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages/{{TEST_CHATMESSAGE2}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT2}}",
												"messages",
												"{{TEST_CHATMESSAGE2}}"
											]
										}
									},
									"status": "Not Found",
									"code": 404,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 25 Apr 2024 04:32:34 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "1112"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 404,\n    \"message\": \"Chat Message(s) does not exist\",\n    \"request\": {\n        \"url\": \"http://localhost:20002/latest/chats/800b6d9e-a4f1-4ffb-9c58-635ad007a15d/messages/82ffe493-4ff0-4e00-9052-ab52c129f622\",\n        \"headers\": {\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJEU0FJRCwgR292VGVjaCIsInN1YiI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsImF1ZCI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsIm5iZiI6MTcxNDAxOTQ4MiwiaWF0IjoxNzE0MDE5NDgyLCJleHAiOjE3MTQwMjY2ODIsImp0aSI6ImFhODkwZTIwLWNiNzAtNDAzOC04ZWFhLWY0ZTEyMmYwMWUyYyIsImF0X2hhc2giOiJpMUZrSGhhM0pPdk42UVh2V09FbTV3In0.8pWRNmCz7q7EFE6z9hI-HeBGiixbNw-INUOO-yirCMg\",\n            \"user-agent\": \"PostmanRuntime/7.37.3\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"467c219e-1d91-44f5-aedf-2f8b1fda4068\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\"\n        },\n        \"path_params\": {\n            \"chat_id\": \"800b6d9e-a4f1-4ffb-9c58-635ad007a15d\",\n            \"chat_message_id\": \"82ffe493-4ff0-4e00-9052-ab52c129f622\"\n        },\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 53659\n        },\n        \"body\": \"\"\n    },\n    \"details\": {\n        \"id\": \"82ffe493-4ff0-4e00-9052-ab52c129f622\"\n    }\n}"
								}
							]
						},
						{
							"name": "Attempt to retrieve deleted Chat Message 3",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 404', function () {\r",
											"    pm.response.to.have.status(404);\r",
											"})\r",
											"\r",
											"pm.test(\"Attempt to retrieve deleted Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(404);\r",
											"    pm.expect(jsonData.message).to.eql(\"Chat Message(s) does not exist\");\r",
											"    pm.expect(jsonData.details.id).to.eql(pm.environment.get(\"TEST_CHATMESSAGE3\"));\r",
											"});\r",
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages/{{TEST_CHATMESSAGE3}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT2}}",
										"messages",
										"{{TEST_CHATMESSAGE3}}"
									]
								}
							},
							"response": [
								{
									"name": "Attempt to retrieve deleted Chat Message 3",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages/{{TEST_CHATMESSAGE3}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT2}}",
												"messages",
												"{{TEST_CHATMESSAGE3}}"
											]
										}
									},
									"status": "Not Found",
									"code": 404,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 25 Apr 2024 04:32:40 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "1112"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 404,\n    \"message\": \"Chat Message(s) does not exist\",\n    \"request\": {\n        \"url\": \"http://localhost:20002/latest/chats/800b6d9e-a4f1-4ffb-9c58-635ad007a15d/messages/0ccd4973-690c-40a7-ba84-af9bde2f9817\",\n        \"headers\": {\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJEU0FJRCwgR292VGVjaCIsInN1YiI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsImF1ZCI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsIm5iZiI6MTcxNDAxOTQ4MiwiaWF0IjoxNzE0MDE5NDgyLCJleHAiOjE3MTQwMjY2ODIsImp0aSI6ImFhODkwZTIwLWNiNzAtNDAzOC04ZWFhLWY0ZTEyMmYwMWUyYyIsImF0X2hhc2giOiJpMUZrSGhhM0pPdk42UVh2V09FbTV3In0.8pWRNmCz7q7EFE6z9hI-HeBGiixbNw-INUOO-yirCMg\",\n            \"user-agent\": \"PostmanRuntime/7.37.3\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"6d35621b-cd72-48f9-83ee-4b64ae475ea3\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\"\n        },\n        \"path_params\": {\n            \"chat_id\": \"800b6d9e-a4f1-4ffb-9c58-635ad007a15d\",\n            \"chat_message_id\": \"0ccd4973-690c-40a7-ba84-af9bde2f9817\"\n        },\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 53850\n        },\n        \"body\": \"\"\n    },\n    \"details\": {\n        \"id\": \"0ccd4973-690c-40a7-ba84-af9bde2f9817\"\n    }\n}"
								}
							]
						}
					]
				},
				{
					"name": "Auto Delete Chat from Deleting Messages",
					"item": [
						{
							"name": "Delete Chat Message",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT1}}/messages/{{TEST_CHATMESSAGE0}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT1}}",
										"messages",
										"{{TEST_CHATMESSAGE0}}"
									]
								}
							},
							"response": [
								{
									"name": "Delete Chat Message",
									"originalRequest": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT1}}/messages/{{TEST_CHATMESSAGE0}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT1}}",
												"messages",
												"{{TEST_CHATMESSAGE0}}"
											]
										}
									},
									"status": "No Content",
									"code": 204,
									"_postman_previewlanguage": "plain",
									"header": [
										{
											"key": "date",
											"value": "Thu, 25 Apr 2024 04:50:49 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										}
									],
									"cookie": [],
									"body": ""
								}
							]
						},
						{
							"name": "Attempt to retrieve chat messages",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 404', function () {\r",
											"    pm.response.to.have.status(404);\r",
											"})\r",
											"\r",
											"pm.test(\"Attempt to retrieve deleted Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(404);\r",
											"    pm.expect(jsonData.message).to.eql(\"Chat does not exist\");\r",
											"    pm.expect(jsonData.details.id).to.eql(pm.environment.get(\"TEST_CHAT1\"));\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT1}}/messages",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT1}}",
										"messages"
									]
								}
							},
							"response": [
								{
									"name": "Attempt to retrieve chat messages",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT1}}/messages",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT1}}",
												"messages"
											]
										}
									},
									"status": "Not Found",
									"code": 404,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 25 Apr 2024 04:50:55 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "1007"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 404,\n    \"message\": \"Chat does not exist\",\n    \"request\": {\n        \"url\": \"http://localhost:20002/latest/chats/67739c55-b50e-4021-9dc7-1a14f56e3f98/messages\",\n        \"headers\": {\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJEU0FJRCwgR292VGVjaCIsInN1YiI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsImF1ZCI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsIm5iZiI6MTcxNDAyMDU3OSwiaWF0IjoxNzE0MDIwNTc5LCJleHAiOjE3MTQwMjc3NzksImp0aSI6IjI4NTRlNzliLTI1ZjYtNGFhMC1hNDhlLTQ5OWMzZjQ2NzVmYiIsImF0X2hhc2giOiItRklJbkFGdWJuNHdNSDFJNDFSYzVRIn0.Yf5sHlkyDTka4LLpMEyE9aFopGC1o0ysmMyCAW3Yj88\",\n            \"user-agent\": \"PostmanRuntime/7.37.3\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"f56a6d7d-ca73-4caa-914d-3dc4e0dd8536\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\"\n        },\n        \"path_params\": {\n            \"chat_id\": \"67739c55-b50e-4021-9dc7-1a14f56e3f98\"\n        },\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 61853\n        },\n        \"body\": \"\"\n    },\n    \"details\": {\n        \"id\": \"67739c55-b50e-4021-9dc7-1a14f56e3f98\"\n    }\n}"
								}
							]
						},
						{
							"name": "Attempt to retrieve deleted Chat Item",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 404', function () {\r",
											"    pm.response.to.have.status(404);\r",
											"})\r",
											"\r",
											"pm.test(\"Attempt to retrieve deleted Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(404);\r",
											"    pm.expect(jsonData.message).to.eql(\"Chat does not exist\");\r",
											"    pm.expect(jsonData.details.id).to.eql(pm.environment.get(\"TEST_CHAT1\"));\r",
											"});\r",
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT1}}/messages/{{TEST_CHATMESSAGE0}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT1}}",
										"messages",
										"{{TEST_CHATMESSAGE0}}"
									]
								}
							},
							"response": [
								{
									"name": "Attempt to retrieve deleted Chat Item",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT1}}/messages/{{TEST_CHATMESSAGE0}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT1}}",
												"messages",
												"{{TEST_CHATMESSAGE0}}"
											]
										}
									},
									"status": "Not Found",
									"code": 404,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 25 Apr 2024 04:51:00 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "1101"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 404,\n    \"message\": \"Chat does not exist\",\n    \"request\": {\n        \"url\": \"http://localhost:20002/latest/chats/67739c55-b50e-4021-9dc7-1a14f56e3f98/messages/b7405e68-4f3c-4364-9aa8-9d01728e7126\",\n        \"headers\": {\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJEU0FJRCwgR292VGVjaCIsInN1YiI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsImF1ZCI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsIm5iZiI6MTcxNDAyMDU3OSwiaWF0IjoxNzE0MDIwNTc5LCJleHAiOjE3MTQwMjc3NzksImp0aSI6IjI4NTRlNzliLTI1ZjYtNGFhMC1hNDhlLTQ5OWMzZjQ2NzVmYiIsImF0X2hhc2giOiItRklJbkFGdWJuNHdNSDFJNDFSYzVRIn0.Yf5sHlkyDTka4LLpMEyE9aFopGC1o0ysmMyCAW3Yj88\",\n            \"user-agent\": \"PostmanRuntime/7.37.3\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"45d5f76d-0195-431e-a395-5507675baa82\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\"\n        },\n        \"path_params\": {\n            \"chat_id\": \"67739c55-b50e-4021-9dc7-1a14f56e3f98\",\n            \"chat_message_id\": \"b7405e68-4f3c-4364-9aa8-9d01728e7126\"\n        },\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 61853\n        },\n        \"body\": \"\"\n    },\n    \"details\": {\n        \"id\": \"67739c55-b50e-4021-9dc7-1a14f56e3f98\"\n    }\n}"
								}
							]
						},
						{
							"name": "Delete Chat Messages",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 204\", function () {\r",
											"    pm.response.to.have.status(204);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "[\"{{TEST_CHATMESSAGE4}}\"]",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT2}}",
										"messages"
									]
								}
							},
							"response": [
								{
									"name": "Delete Chat Messages",
									"originalRequest": {
										"method": "DELETE",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "[\"{{TEST_CHATMESSAGE4}}\"]",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT2}}",
												"messages"
											]
										}
									},
									"status": "No Content",
									"code": 204,
									"_postman_previewlanguage": "plain",
									"header": [
										{
											"key": "date",
											"value": "Thu, 25 Apr 2024 04:51:06 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										}
									],
									"cookie": [],
									"body": ""
								}
							]
						},
						{
							"name": "Attempt to retrieve chat messages",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 404', function () {\r",
											"    pm.response.to.have.status(404);\r",
											"})\r",
											"\r",
											"pm.test(\"Attempt to retrieve deleted Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(404);\r",
											"    pm.expect(jsonData.message).to.eql(\"Chat does not exist\");\r",
											"    pm.expect(jsonData.details.id).to.eql(pm.environment.get(\"TEST_CHAT2\"));\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT2}}",
										"messages"
									]
								}
							},
							"response": [
								{
									"name": "Attempt to retrieve chat messages",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT2}}",
												"messages"
											]
										}
									},
									"status": "Not Found",
									"code": 404,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 25 Apr 2024 04:51:10 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "1007"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 404,\n    \"message\": \"Chat does not exist\",\n    \"request\": {\n        \"url\": \"http://localhost:20002/latest/chats/95ec3859-72a0-470d-b330-52fc5f05f51e/messages\",\n        \"headers\": {\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJEU0FJRCwgR292VGVjaCIsInN1YiI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsImF1ZCI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsIm5iZiI6MTcxNDAyMDU3OSwiaWF0IjoxNzE0MDIwNTc5LCJleHAiOjE3MTQwMjc3NzksImp0aSI6IjI4NTRlNzliLTI1ZjYtNGFhMC1hNDhlLTQ5OWMzZjQ2NzVmYiIsImF0X2hhc2giOiItRklJbkFGdWJuNHdNSDFJNDFSYzVRIn0.Yf5sHlkyDTka4LLpMEyE9aFopGC1o0ysmMyCAW3Yj88\",\n            \"user-agent\": \"PostmanRuntime/7.37.3\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"80bea5bb-27ef-4bac-9895-7151f5328425\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\"\n        },\n        \"path_params\": {\n            \"chat_id\": \"95ec3859-72a0-470d-b330-52fc5f05f51e\"\n        },\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 62200\n        },\n        \"body\": \"\"\n    },\n    \"details\": {\n        \"id\": \"95ec3859-72a0-470d-b330-52fc5f05f51e\"\n    }\n}"
								}
							]
						},
						{
							"name": "Attempt to retrieve deleted Chat Item",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 404', function () {\r",
											"    pm.response.to.have.status(404);\r",
											"})\r",
											"\r",
											"pm.test(\"Attempt to retrieve deleted Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.code).to.eql(404);\r",
											"    pm.expect(jsonData.message).to.eql(\"Chat does not exist\");\r",
											"    pm.expect(jsonData.details.id).to.eql(pm.environment.get(\"TEST_CHAT2\"));\r",
											"});\r",
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages/{{TEST_CHATMESSAGE4}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT2}}",
										"messages",
										"{{TEST_CHATMESSAGE4}}"
									]
								}
							},
							"response": [
								{
									"name": "Attempt to retrieve deleted Chat Item",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT2}}/messages/{{TEST_CHATMESSAGE4}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT2}}",
												"messages",
												"{{TEST_CHATMESSAGE4}}"
											]
										}
									},
									"status": "Not Found",
									"code": 404,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 25 Apr 2024 04:51:15 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "1101"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 404,\n    \"message\": \"Chat does not exist\",\n    \"request\": {\n        \"url\": \"http://localhost:20002/latest/chats/95ec3859-72a0-470d-b330-52fc5f05f51e/messages/b32a5650-85b7-4546-91ef-86c80e87d8f1\",\n        \"headers\": {\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJEU0FJRCwgR292VGVjaCIsInN1YiI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsImF1ZCI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsIm5iZiI6MTcxNDAyMDU3OSwiaWF0IjoxNzE0MDIwNTc5LCJleHAiOjE3MTQwMjc3NzksImp0aSI6IjI4NTRlNzliLTI1ZjYtNGFhMC1hNDhlLTQ5OWMzZjQ2NzVmYiIsImF0X2hhc2giOiItRklJbkFGdWJuNHdNSDFJNDFSYzVRIn0.Yf5sHlkyDTka4LLpMEyE9aFopGC1o0ysmMyCAW3Yj88\",\n            \"user-agent\": \"PostmanRuntime/7.37.3\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"5c1a7605-58fa-4d1a-b268-2c14ae931937\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\"\n        },\n        \"path_params\": {\n            \"chat_id\": \"95ec3859-72a0-470d-b330-52fc5f05f51e\",\n            \"chat_message_id\": \"b32a5650-85b7-4546-91ef-86c80e87d8f1\"\n        },\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 62546\n        },\n        \"body\": \"\"\n    },\n    \"details\": {\n        \"id\": \"95ec3859-72a0-470d-b330-52fc5f05f51e\"\n    }\n}"
								}
							]
						}
					]
				}
			]
		},
		{
			"name": "Chat Parameters",
			"item": [
				{
					"name": "Change LLM Model",
					"item": [
						{
							"name": "Create GPT-35-turbo Chat",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Successfully created a Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
											"    pm.environment.set('TEST_CHAT3', jsonData.id)\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\"model\":\"azure~gpt-35-turbo\"}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats"
									]
								}
							},
							"response": [
								{
									"name": "Create GPT-35-turbo Chat",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\"model\":\"azure~gpt-35-turbo\"}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 09 May 2024 03:32:14 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "45"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"id\": \"f2cf2bb3-3116-4805-bec0-ed47fa95a14b\"\n}"
								}
							]
						},
						{
							"name": "Create GPT-35-turbo Chat Message 5",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Successfully created a Chat Message\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
											"    pm.expect(jsonData.chat).to.eql(pm.environment.get(\"TEST_CHAT3\"));\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-35-turbo\");\r",
											"    pm.expect(jsonData.systemPrompt.role).to.eql(\"system\");\r",
											"    pm.expect(jsonData.systemPrompt.content).to.eql(\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \");\r",
											"    pm.expect(jsonData.systemPrompt.name).to.eql(null);\r",
											"    pm.expect(jsonData.systemPrompt.timestamp).to.eql(null);\r",
											"    pm.expect(jsonData.params).to.eql({});\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.query.role).to.eql('user');\r",
											"    pm.expect(jsonData.query.content).to.eql('Say this is a test');\r",
											"    pm.expect(jsonData.query.timestamp).to.not.eql(null);\r",
											"    pm.expect(jsonData.response.role).eq('assistant');\r",
											"    pm.expect(jsonData.response.content).to.include('is a test');\r",
											"    pm.expect(jsonData.response.timestamp).to.not.eql(null);\r",
											"    pm.expect(Date.parse(jsonData.response.timestamp)).to.gt(Date.parse(jsonData.query.timestamp))\r",
											"    pm.expect(jsonData.tokens.query).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(59);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.eql(75);\r",
											"    pm.expect(jsonData.tokens.response).to.be.at.least(5);\r",
											"    pm.environment.set('TEST_CHATMESSAGE5', jsonData.id)\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "content",
											"value": "Say this is a test",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT3}}/messages?cloak=false",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT3}}",
										"messages"
									],
									"query": [
										{
											"key": "cloak",
											"value": "false"
										}
									]
								}
							},
							"response": [
								{
									"name": "Create GPT-35-turbo Chat Message 5",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "formdata",
											"formdata": [
												{
													"key": "content",
													"value": "Say this is a test",
													"type": "text"
												},
												{
													"key": "properties",
													"value": "{\"temperature\":\"0\"}",
													"type": "text"
												},
												{
													"key": "cloak",
													"value": "false",
													"type": "text"
												}
											]
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT3}}/messages",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT3}}",
												"messages"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 09 May 2024 07:49:31 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "923"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"model\": \"azure~gpt-35-turbo\",\n    \"systemPrompt\": {\n        \"role\": \"system\",\n        \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n        \"name\": null,\n        \"timestamp\": null\n    },\n    \"params\": {},\n    \"properties\": {},\n    \"id\": \"5a65e584-2f5d-4271-96e5-0b24f47c4166\",\n    \"chat\": \"0355ae4c-5237-403e-bea3-56b6dba0baad\",\n    \"query\": {\n        \"role\": \"user\",\n        \"content\": \"Say this is a test\",\n        \"name\": null,\n        \"timestamp\": \"2024-05-09T07:49:32.650578Z\"\n    },\n    \"response\": {\n        \"role\": \"assistant\",\n        \"content\": \"This is a test. How can I assist you today?\",\n        \"name\": null,\n        \"timestamp\": \"2024-05-09T07:49:33.897825Z\",\n        \"finish_reason\": \"stop\"\n    },\n    \"tokens\": {\n        \"query\": 5,\n        \"systemPrompt\": 59,\n        \"queryWithContext\": 75,\n        \"response\": 12\n    },\n    \"liked\": false,\n    \"pinned\": false\n}"
								}
							]
						},
						{
							"name": "Retrieve GPT-35-turbo Chat",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_CHAT3\"));\r",
											"    pm.expect(jsonData.name).to.eql(\"Say This Is A Test\");\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-35-turbo\");\r",
											"    pm.expect(jsonData.systemPrompt.template).to.eql(\"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.personality).to.eql(\"helpful, clever, and very friendly\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.instructions).to.eql(\"You serve as a personal assistant to public officers in singapore\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.guardrails).to.eql(\"You will not answer politically sensitive topics\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.knowledgeBase).to.eql(\"\");\r",
											"    pm.expect(jsonData.systemPrompt.placeholders.length).to.eql(4);\r",
											"    pm.expect(jsonData.userPrompt.template).to.eql(null);\r",
											"    pm.expect(jsonData.userPrompt.variables).to.eql({});\r",
											"    pm.expect(jsonData.userPrompt.placeholders.length).to.eql(0);\r",
											"    pm.expect(jsonData.params).to.eql({});\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.tokens.query).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(59);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.eql(75);\r",
											"    pm.expect(jsonData.tokens.response).to.gte(5);\r",
											"    pm.expect(jsonData.tokens.queries_total).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.responses_total).to.gte(5);\r",
											"    pm.expect(jsonData.messages.length).to.eql(1);\r",
											"    pm.expect(jsonData.pinned).to.eql(false);\r",
											"})"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT3}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT3}}"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve GPT-35-turbo Chat",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT3}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT3}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Fri, 31 May 2024 09:02:27 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "4161"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"modifications\": {\n        \"create\": {\n            \"type\": \"create\",\n            \"user_type\": \"user\",\n            \"timestamp\": \"2024-05-31T09:02:17.253000Z\",\n            \"user\": \"5eb6e5cd-ef03-5f88-a494-eb7dacd950ad\",\n            \"details\": {\n                \"id\": \"85aec447-8a3d-44a3-b5fe-ad422ed3d127\",\n                \"name\": \"\",\n                \"agents\": [\n                    \"804885b4-423e-485c-b215-92c7dfa8baa8\"\n                ],\n                \"user_prompt\": {\n                    \"template\": null,\n                    \"variables\": {},\n                    \"placeholders\": []\n                },\n                \"systemPrompt\": {\n                    \"template\": \"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\",\n                    \"variables\": {\n                        \"personality\": \"helpful, clever, and very friendly\",\n                        \"instructions\": \"You serve as a personal assistant to public officers in singapore\",\n                        \"guardrails\": \"You will not answer politically sensitive topics\",\n                        \"knowledgeBase\": \"\"\n                    },\n                    \"placeholders\": [\n                        \"personality\",\n                        \"instructions\",\n                        \"guardrails\",\n                        \"knowledgeBase\"\n                    ]\n                },\n                \"params\": {},\n                \"properties\": {},\n                \"model\": \"azure~gpt-35-turbo\",\n                \"pinned\": false\n            }\n        },\n        \"update\": {\n            \"type\": \"update\",\n            \"user_type\": \"user\",\n            \"timestamp\": \"2024-05-31T09:02:25.514000Z\",\n            \"user\": \"5eb6e5cd-ef03-5f88-a494-eb7dacd950ad\",\n            \"details\": {\n                \"messages\": [\n                    {\n                        \"_id\": \"7da723b8-dfc7-4043-af74-17703a427576\",\n                        \"revision_id\": null,\n                        \"model\": \"azure~gpt-35-turbo\",\n                        \"systemPrompt\": {\n                            \"role\": \"system\",\n                            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n                            \"name\": null,\n                            \"timestamp\": null,\n                            \"options\": null\n                        },\n                        \"params\": {},\n                        \"properties\": {},\n                        \"chat\": \"85aec447-8a3d-44a3-b5fe-ad422ed3d127\",\n                        \"query\": {\n                            \"role\": \"user\",\n                            \"content\": \"Say this is a test\",\n                            \"name\": null,\n                            \"timestamp\": \"2024-05-31T09:02:22.705000Z\",\n                            \"options\": null\n                        },\n                        \"response\": {\n                            \"role\": \"assistant\",\n                            \"content\": \"This is a test! How can I assist you today?\",\n                            \"name\": null,\n                            \"timestamp\": \"2024-05-31T09:02:25.505000Z\",\n                            \"options\": null,\n                            \"finish_reason\": \"stop\"\n                        },\n                        \"tokens\": {\n                            \"query\": 5,\n                            \"systemPrompt\": 59,\n                            \"queryWithContext\": 75,\n                            \"response\": 12\n                        },\n                        \"liked\": false,\n                        \"pinned\": false\n                    }\n                ],\n                \"tokens\": {\n                    \"query\": 5,\n                    \"systemPrompt\": 59,\n                    \"queryWithContext\": 75,\n                    \"response\": 12,\n                    \"queries_total\": 5,\n                    \"responses_total\": 12\n                }\n            }\n        }\n    },\n    \"name\": \"Say This Is A Test\",\n    \"model\": \"azure~gpt-35-turbo\",\n    \"systemPrompt\": {\n        \"template\": \"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\",\n        \"variables\": {\n            \"personality\": \"helpful, clever, and very friendly\",\n            \"instructions\": \"You serve as a personal assistant to public officers in singapore\",\n            \"guardrails\": \"You will not answer politically sensitive topics\",\n            \"knowledgeBase\": \"\"\n        },\n        \"placeholders\": [\n            \"personality\",\n            \"instructions\",\n            \"guardrails\",\n            \"knowledgeBase\"\n        ]\n    },\n    \"params\": {},\n    \"properties\": {},\n    \"id\": \"85aec447-8a3d-44a3-b5fe-ad422ed3d127\",\n    \"userPrompt\": {\n        \"template\": null,\n        \"variables\": {},\n        \"placeholders\": []\n    },\n    \"tokens\": {\n        \"query\": 5,\n        \"systemPrompt\": 59,\n        \"queryWithContext\": 75,\n        \"response\": 12,\n        \"queries_total\": 5,\n        \"responses_total\": 12\n    },\n    \"messages\": [\n        {\n            \"model\": \"azure~gpt-35-turbo\",\n            \"systemPrompt\": {\n                \"role\": \"system\",\n                \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n                \"name\": null,\n                \"timestamp\": null,\n                \"options\": null\n            },\n            \"params\": {},\n            \"properties\": {},\n            \"id\": \"7da723b8-dfc7-4043-af74-17703a427576\",\n            \"chat\": \"85aec447-8a3d-44a3-b5fe-ad422ed3d127\",\n            \"query\": {\n                \"role\": \"user\",\n                \"content\": \"Say this is a test\",\n                \"name\": null,\n                \"timestamp\": \"2024-05-31T09:02:22.705000Z\",\n                \"options\": null\n            },\n            \"response\": {\n                \"role\": \"assistant\",\n                \"content\": \"This is a test! How can I assist you today?\",\n                \"name\": null,\n                \"timestamp\": \"2024-05-31T09:02:25.505000Z\",\n                \"options\": null,\n                \"finish_reason\": \"stop\"\n            },\n            \"tokens\": {\n                \"query\": 5,\n                \"systemPrompt\": 59,\n                \"queryWithContext\": 75,\n                \"response\": 12\n            },\n            \"liked\": false,\n            \"pinned\": false\n        }\n    ],\n    \"agents\": [\n        \"804885b4-423e-485c-b215-92c7dfa8baa8\"\n    ],\n    \"pinned\": false\n}"
								}
							]
						},
						{
							"name": "Retrieve GPT-35-turbo Chat Messages",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Messages\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.length).to.eql(1);\r",
											"    pm.expect(pm.environment.get(\"TEST_CHATMESSAGE5\") in jsonData.map((x, i) => {return x.id})).to.eql(false);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT3}}/messages",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT3}}",
										"messages"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve GPT-35-turbo Chat Messages",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT3}}/messages",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT3}}",
												"messages"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 09 May 2024 07:51:57 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "925"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "[\n    {\n        \"model\": \"azure~gpt-35-turbo\",\n        \"systemPrompt\": {\n            \"role\": \"system\",\n            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n            \"name\": null,\n            \"timestamp\": null\n        },\n        \"params\": {},\n        \"properties\": {},\n        \"id\": \"5a65e584-2f5d-4271-96e5-0b24f47c4166\",\n        \"chat\": \"0355ae4c-5237-403e-bea3-56b6dba0baad\",\n        \"query\": {\n            \"role\": \"user\",\n            \"content\": \"Say this is a test\",\n            \"name\": null,\n            \"timestamp\": \"2024-05-09T07:49:32.650000Z\"\n        },\n        \"response\": {\n            \"role\": \"assistant\",\n            \"content\": \"This is a test. How can I assist you today?\",\n            \"name\": null,\n            \"timestamp\": \"2024-05-09T07:49:33.897000Z\",\n            \"finish_reason\": \"stop\"\n        },\n        \"tokens\": {\n            \"query\": 5,\n            \"systemPrompt\": 59,\n            \"queryWithContext\": 75,\n            \"response\": 12\n        },\n        \"liked\": false,\n        \"pinned\": false\n    }\n]"
								}
							]
						},
						{
							"name": "Retrieve GPT-35-turbo Chat Message 5",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Message\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_CHATMESSAGE5\"));\r",
											"    pm.expect(jsonData.chat).to.eql(pm.environment.get(\"TEST_CHAT3\"));\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-35-turbo\");\r",
											"    pm.expect(jsonData.systemPrompt.role).to.eql(\"system\");\r",
											"    pm.expect(jsonData.systemPrompt.content).to.eql(\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \");\r",
											"    pm.expect(jsonData.systemPrompt.name).to.eql(null);\r",
											"    pm.expect(jsonData.systemPrompt.timestamp).to.eql(null);\r",
											"    pm.expect(jsonData.params).to.eql({});\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.query.role).to.eql('user');\r",
											"    pm.expect(jsonData.query.content).to.eql('Say this is a test');\r",
											"    pm.expect(jsonData.query.timestamp).to.not.eql(null);\r",
											"    pm.expect(jsonData.response.role).eq('assistant');\r",
											"    pm.expect(jsonData.response.content).to.include('is a test');\r",
											"    pm.expect(jsonData.response.timestamp).to.not.eql(null);\r",
											"    pm.expect(Date.parse(jsonData.response.timestamp)).to.gt(Date.parse(jsonData.query.timestamp))\r",
											"    pm.expect(jsonData.tokens.query).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(59);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.eql(75);\r",
											"    pm.expect(jsonData.tokens.response).to.gte(5);\r",
											"})"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT3}}/messages/{{TEST_CHATMESSAGE5}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT3}}",
										"messages",
										"{{TEST_CHATMESSAGE5}}"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve GPT-35-turbo Chat Message 5",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT3}}/messages/{{TEST_CHATMESSAGE5}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT3}}",
												"messages",
												"{{TEST_CHATMESSAGE5}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 09 May 2024 07:52:09 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "923"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"model\": \"azure~gpt-35-turbo\",\n    \"systemPrompt\": {\n        \"role\": \"system\",\n        \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n        \"name\": null,\n        \"timestamp\": null\n    },\n    \"params\": {},\n    \"properties\": {},\n    \"id\": \"5a65e584-2f5d-4271-96e5-0b24f47c4166\",\n    \"chat\": \"0355ae4c-5237-403e-bea3-56b6dba0baad\",\n    \"query\": {\n        \"role\": \"user\",\n        \"content\": \"Say this is a test\",\n        \"name\": null,\n        \"timestamp\": \"2024-05-09T07:49:32.650000Z\"\n    },\n    \"response\": {\n        \"role\": \"assistant\",\n        \"content\": \"This is a test. How can I assist you today?\",\n        \"name\": null,\n        \"timestamp\": \"2024-05-09T07:49:33.897000Z\",\n        \"finish_reason\": \"stop\"\n    },\n    \"tokens\": {\n        \"query\": 5,\n        \"systemPrompt\": 59,\n        \"queryWithContext\": 75,\n        \"response\": 12\n    },\n    \"liked\": false,\n    \"pinned\": false\n}"
								}
							]
						}
					]
				},
				{
					"name": "Change Temperature",
					"item": [
						{
							"name": "Create GPT-35-turbo Chat Temperature=1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Successfully created a Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
											"    pm.environment.set('TEST_CHAT4', jsonData.id)\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\"model\":\"azure~gpt-35-turbo\",\"params\":{\"temperature\":1}}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats"
									]
								}
							},
							"response": [
								{
									"name": "Create GPT-35-turbo Chat 2",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\"model\":\"azure~gpt-35-turbo\"}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 09 May 2024 07:56:01 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "45"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"id\": \"3efc0a30-b317-4923-a986-935984f6b84f\"\n}"
								}
							]
						},
						{
							"name": "Create GPT-35-turbo Chat Message Temperature=2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Successfully created a Chat Message\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
											"    pm.expect(jsonData.chat).to.eql(pm.environment.get(\"TEST_CHAT4\"));\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-35-turbo\");\r",
											"    pm.expect(jsonData.systemPrompt.role).to.eql(\"system\");\r",
											"    pm.expect(jsonData.systemPrompt.content).to.eql(\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \");\r",
											"    pm.expect(jsonData.systemPrompt.name).to.eql(null);\r",
											"    pm.expect(jsonData.systemPrompt.timestamp).to.eql(null);\r",
											"    pm.expect(jsonData.params).to.eql({temperature: 2 });\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.query.role).to.eql('user');\r",
											"    pm.expect(jsonData.query.content).to.eql('Say this is a test');\r",
											"    pm.expect(jsonData.query.timestamp).to.not.eql(null);\r",
											"    pm.expect(jsonData.response.role).eq('assistant');\r",
											"    pm.expect(jsonData.response.content).to.not.eql(null);\r",
											"    pm.expect(jsonData.response.timestamp).to.not.eql(null);\r",
											"    pm.expect(Date.parse(jsonData.response.timestamp)).to.gt(Date.parse(jsonData.query.timestamp))\r",
											"    pm.expect(jsonData.tokens.query).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(59);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.eql(75);\r",
											"    pm.expect(jsonData.tokens.response).to.be.at.least(5);\r",
											"    pm.environment.set('TEST_CHATMESSAGE6', jsonData.id)\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "content",
											"value": "Say this is a test",
											"type": "text"
										},
										{
											"key": "params",
											"value": "{\"temperature\":2}",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT4}}/messages?cloak=false",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT4}}",
										"messages"
									],
									"query": [
										{
											"key": "cloak",
											"value": "false"
										}
									]
								}
							},
							"response": [
								{
									"name": "Create GPT-35-turbo Chat Message Temperature=2",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "formdata",
											"formdata": [
												{
													"key": "content",
													"value": "Say this is a test",
													"type": "text"
												},
												{
													"key": "params",
													"value": "{\"temperature\":2}",
													"type": "text"
												},
												{
													"key": "cloak",
													"value": "false",
													"type": "text"
												}
											]
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT4}}/messages",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT4}}",
												"messages"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 09 May 2024 09:39:15 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "940"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"model\": \"azure~gpt-35-turbo\",\n    \"systemPrompt\": {\n        \"role\": \"system\",\n        \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n        \"name\": null,\n        \"timestamp\": null\n    },\n    \"params\": {\n        \"temperature\": 2\n    },\n    \"properties\": {},\n    \"id\": \"8b18419d-79c7-4c19-90a1-71da38783b60\",\n    \"chat\": \"87739c0b-5bb9-4eae-bcef-861bcb468b1d\",\n    \"query\": {\n        \"role\": \"user\",\n        \"content\": \"Say this is a test\",\n        \"name\": null,\n        \"timestamp\": \"2024-05-09T09:39:16.202945Z\"\n    },\n    \"response\": {\n        \"role\": \"assistant\",\n        \"content\": \"This is a test. How can I assist you with it?\",\n        \"name\": null,\n        \"timestamp\": \"2024-05-09T09:39:16.889731Z\",\n        \"finish_reason\": \"stop\"\n    },\n    \"tokens\": {\n        \"query\": 5,\n        \"systemPrompt\": 59,\n        \"queryWithContext\": 75,\n        \"response\": 13\n    },\n    \"liked\": false,\n    \"pinned\": false\n}"
								}
							]
						},
						{
							"name": "Retrieve GPT-35-turbo Chat Temperature=1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_CHAT4\"));\r",
											"    pm.expect(jsonData.name).to.eql(\"Say This Is A Test\");\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-35-turbo\");\r",
											"    pm.expect(jsonData.systemPrompt.template).to.eql(\"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.personality).to.eql(\"helpful, clever, and very friendly\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.instructions).to.eql(\"You serve as a personal assistant to public officers in singapore\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.guardrails).to.eql(\"You will not answer politically sensitive topics\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.knowledgeBase).to.eql(\"\");\r",
											"    pm.expect(jsonData.systemPrompt.placeholders.length).to.eql(4);\r",
											"    pm.expect(jsonData.userPrompt.template).to.eql(null);\r",
											"    pm.expect(jsonData.userPrompt.variables).to.eql({});\r",
											"    pm.expect(jsonData.userPrompt.placeholders.length).to.eql(0);\r",
											"    pm.expect(jsonData.params).to.eql({temperature: 1 });\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.tokens.query).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(59);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.eql(75);\r",
											"    pm.expect(jsonData.tokens.response).to.gte(5);\r",
											"    pm.expect(jsonData.tokens.queries_total).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.responses_total).to.gte(5);\r",
											"    pm.expect(jsonData.messages.length).to.eql(1);\r",
											"    pm.expect(jsonData.pinned).to.eql(false);\r",
											"})"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT4}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT4}}"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve GPT-35-turbo Chat Temperature=1",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT4}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT4}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Fri, 31 May 2024 09:03:06 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "4221"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"modifications\": {\n        \"create\": {\n            \"type\": \"create\",\n            \"user_type\": \"user\",\n            \"timestamp\": \"2024-05-31T09:02:50.620000Z\",\n            \"user\": \"5eb6e5cd-ef03-5f88-a494-eb7dacd950ad\",\n            \"details\": {\n                \"id\": \"22c2d7bf-48ce-467a-b956-f36cc9ba406a\",\n                \"name\": \"\",\n                \"agents\": [\n                    \"804885b4-423e-485c-b215-92c7dfa8baa8\"\n                ],\n                \"user_prompt\": {\n                    \"template\": null,\n                    \"variables\": {},\n                    \"placeholders\": []\n                },\n                \"systemPrompt\": {\n                    \"template\": \"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\",\n                    \"variables\": {\n                        \"personality\": \"helpful, clever, and very friendly\",\n                        \"instructions\": \"You serve as a personal assistant to public officers in singapore\",\n                        \"guardrails\": \"You will not answer politically sensitive topics\",\n                        \"knowledgeBase\": \"\"\n                    },\n                    \"placeholders\": [\n                        \"personality\",\n                        \"instructions\",\n                        \"guardrails\",\n                        \"knowledgeBase\"\n                    ]\n                },\n                \"params\": {\n                    \"temperature\": 1\n                },\n                \"properties\": {},\n                \"model\": \"azure~gpt-35-turbo\",\n                \"pinned\": false\n            }\n        },\n        \"update\": {\n            \"type\": \"update\",\n            \"user_type\": \"user\",\n            \"timestamp\": \"2024-05-31T09:03:03.630000Z\",\n            \"user\": \"5eb6e5cd-ef03-5f88-a494-eb7dacd950ad\",\n            \"details\": {\n                \"messages\": [\n                    {\n                        \"_id\": \"3b7582fd-cbe3-437d-b990-f8d264d67601\",\n                        \"revision_id\": null,\n                        \"model\": \"azure~gpt-35-turbo\",\n                        \"systemPrompt\": {\n                            \"role\": \"system\",\n                            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n                            \"name\": null,\n                            \"timestamp\": null,\n                            \"options\": null\n                        },\n                        \"params\": {\n                            \"temperature\": 2\n                        },\n                        \"properties\": {},\n                        \"chat\": \"22c2d7bf-48ce-467a-b956-f36cc9ba406a\",\n                        \"query\": {\n                            \"role\": \"user\",\n                            \"content\": \"Say this is a test\",\n                            \"name\": null,\n                            \"timestamp\": \"2024-05-31T09:02:53.656000Z\",\n                            \"options\": null\n                        },\n                        \"response\": {\n                            \"role\": \"assistant\",\n                            \"content\": \"This is a test! How can I assist you today?\",\n                            \"name\": null,\n                            \"timestamp\": \"2024-05-31T09:03:03.620000Z\",\n                            \"options\": null,\n                            \"finish_reason\": \"stop\"\n                        },\n                        \"tokens\": {\n                            \"query\": 5,\n                            \"systemPrompt\": 59,\n                            \"queryWithContext\": 75,\n                            \"response\": 12\n                        },\n                        \"liked\": false,\n                        \"pinned\": false\n                    }\n                ],\n                \"tokens\": {\n                    \"query\": 5,\n                    \"systemPrompt\": 59,\n                    \"queryWithContext\": 75,\n                    \"response\": 12,\n                    \"queries_total\": 5,\n                    \"responses_total\": 12\n                }\n            }\n        }\n    },\n    \"name\": \"Say This Is A Test\",\n    \"model\": \"azure~gpt-35-turbo\",\n    \"systemPrompt\": {\n        \"template\": \"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\",\n        \"variables\": {\n            \"personality\": \"helpful, clever, and very friendly\",\n            \"instructions\": \"You serve as a personal assistant to public officers in singapore\",\n            \"guardrails\": \"You will not answer politically sensitive topics\",\n            \"knowledgeBase\": \"\"\n        },\n        \"placeholders\": [\n            \"personality\",\n            \"instructions\",\n            \"guardrails\",\n            \"knowledgeBase\"\n        ]\n    },\n    \"params\": {\n        \"temperature\": 1\n    },\n    \"properties\": {},\n    \"id\": \"22c2d7bf-48ce-467a-b956-f36cc9ba406a\",\n    \"userPrompt\": {\n        \"template\": null,\n        \"variables\": {},\n        \"placeholders\": []\n    },\n    \"tokens\": {\n        \"query\": 5,\n        \"systemPrompt\": 59,\n        \"queryWithContext\": 75,\n        \"response\": 12,\n        \"queries_total\": 5,\n        \"responses_total\": 12\n    },\n    \"messages\": [\n        {\n            \"model\": \"azure~gpt-35-turbo\",\n            \"systemPrompt\": {\n                \"role\": \"system\",\n                \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n                \"name\": null,\n                \"timestamp\": null,\n                \"options\": null\n            },\n            \"params\": {\n                \"temperature\": 2\n            },\n            \"properties\": {},\n            \"id\": \"3b7582fd-cbe3-437d-b990-f8d264d67601\",\n            \"chat\": \"22c2d7bf-48ce-467a-b956-f36cc9ba406a\",\n            \"query\": {\n                \"role\": \"user\",\n                \"content\": \"Say this is a test\",\n                \"name\": null,\n                \"timestamp\": \"2024-05-31T09:02:53.656000Z\",\n                \"options\": null\n            },\n            \"response\": {\n                \"role\": \"assistant\",\n                \"content\": \"This is a test! How can I assist you today?\",\n                \"name\": null,\n                \"timestamp\": \"2024-05-31T09:03:03.620000Z\",\n                \"options\": null,\n                \"finish_reason\": \"stop\"\n            },\n            \"tokens\": {\n                \"query\": 5,\n                \"systemPrompt\": 59,\n                \"queryWithContext\": 75,\n                \"response\": 12\n            },\n            \"liked\": false,\n            \"pinned\": false\n        }\n    ],\n    \"agents\": [\n        \"804885b4-423e-485c-b215-92c7dfa8baa8\"\n    ],\n    \"pinned\": false\n}"
								}
							]
						},
						{
							"name": "Retrieve GPT-35-turbo Chat Temperature=1 Messages",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Messages\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.length).to.eql(1);\r",
											"    pm.expect(pm.environment.get(\"TEST_CHATMESSAGE6\") in jsonData.map((x, i) => {return x.id})).to.eql(false);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT4}}/messages",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT4}}",
										"messages"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve GPT-35-turbo Chat Temperature=1 Messages",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT4}}/messages",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT4}}",
												"messages"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 09 May 2024 09:42:38 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "940"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "[\n    {\n        \"model\": \"azure~gpt-35-turbo\",\n        \"systemPrompt\": {\n            \"role\": \"system\",\n            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n            \"name\": null,\n            \"timestamp\": null\n        },\n        \"params\": {\n            \"temperature\": 2\n        },\n        \"properties\": {},\n        \"id\": \"fba13ef6-0ccc-4d63-aec5-c2f7d30ae6b9\",\n        \"chat\": \"b50ac325-b63f-45a1-8a58-1f722559e4d8\",\n        \"query\": {\n            \"role\": \"user\",\n            \"content\": \"Say this is a test\",\n            \"name\": null,\n            \"timestamp\": \"2024-05-09T09:40:38.330000Z\"\n        },\n        \"response\": {\n            \"role\": \"assistant\",\n            \"content\": \"This is a test! How can I assist you today?\",\n            \"name\": null,\n            \"timestamp\": \"2024-05-09T09:40:42.671000Z\",\n            \"finish_reason\": \"stop\"\n        },\n        \"tokens\": {\n            \"query\": 5,\n            \"systemPrompt\": 59,\n            \"queryWithContext\": 75,\n            \"response\": 12\n        },\n        \"liked\": false,\n        \"pinned\": false\n    }\n]"
								}
							]
						},
						{
							"name": "Retrieve GPT-35-turbo Chat Message Temperature=2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Message\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_CHATMESSAGE6\"));\r",
											"    pm.expect(jsonData.chat).to.eql(pm.environment.get(\"TEST_CHAT4\"));\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-35-turbo\");\r",
											"    pm.expect(jsonData.systemPrompt.role).to.eql(\"system\");\r",
											"    pm.expect(jsonData.systemPrompt.content).to.eql(\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \");\r",
											"    pm.expect(jsonData.systemPrompt.name).to.eql(null);\r",
											"    pm.expect(jsonData.systemPrompt.timestamp).to.eql(null);\r",
											"    pm.expect(jsonData.params).to.eql({temperature: 2 });\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.query.role).to.eql('user');\r",
											"    pm.expect(jsonData.query.content).to.eql('Say this is a test');\r",
											"    pm.expect(jsonData.query.timestamp).to.not.eql(null);\r",
											"    pm.expect(jsonData.response.role).eq('assistant');\r",
											"    pm.expect(jsonData.response.content).to.include('test');\r",
											"    pm.expect(jsonData.response.timestamp).to.not.eql(null);\r",
											"    pm.expect(Date.parse(jsonData.response.timestamp)).to.gt(Date.parse(jsonData.query.timestamp))\r",
											"    pm.expect(jsonData.tokens.query).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(59);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.eql(75);\r",
											"    pm.expect(jsonData.tokens.response).to.gte(5);\r",
											"})"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT4}}/messages/{{TEST_CHATMESSAGE6}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT4}}",
										"messages",
										"{{TEST_CHATMESSAGE6}}"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve GPT-35-turbo Chat Message Temperature=2",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT4}}/messages/{{TEST_CHATMESSAGE6}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT4}}",
												"messages",
												"{{TEST_CHATMESSAGE6}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 09 May 2024 09:43:56 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "938"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"model\": \"azure~gpt-35-turbo\",\n    \"systemPrompt\": {\n        \"role\": \"system\",\n        \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n        \"name\": null,\n        \"timestamp\": null\n    },\n    \"params\": {\n        \"temperature\": 2\n    },\n    \"properties\": {},\n    \"id\": \"fba13ef6-0ccc-4d63-aec5-c2f7d30ae6b9\",\n    \"chat\": \"b50ac325-b63f-45a1-8a58-1f722559e4d8\",\n    \"query\": {\n        \"role\": \"user\",\n        \"content\": \"Say this is a test\",\n        \"name\": null,\n        \"timestamp\": \"2024-05-09T09:40:38.330000Z\"\n    },\n    \"response\": {\n        \"role\": \"assistant\",\n        \"content\": \"This is a test! How can I assist you today?\",\n        \"name\": null,\n        \"timestamp\": \"2024-05-09T09:40:42.671000Z\",\n        \"finish_reason\": \"stop\"\n    },\n    \"tokens\": {\n        \"query\": 5,\n        \"systemPrompt\": 59,\n        \"queryWithContext\": 75,\n        \"response\": 12\n    },\n    \"liked\": false,\n    \"pinned\": false\n}"
								}
							]
						}
					]
				},
				{
					"name": "Change Max Tokens",
					"item": [
						{
							"name": "Create GPT-35-turbo Chat MaxTokens=10",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Successfully created a Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
											"    pm.environment.set('TEST_CHAT5', jsonData.id)\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\"model\":\"azure~gpt-35-turbo\",\"params\":{\"max_tokens\":10}}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats"
									]
								}
							},
							"response": [
								{
									"name": "Create GPT-35-turbo Chat MaxTokens=10",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\"model\":\"azure~gpt-35-turbo\",\"params\":{\"max_tokens\":10}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 09 May 2024 09:53:57 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "45"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"id\": \"02c91038-5cb8-4232-879b-662c06b142b1\"\n}"
								}
							]
						},
						{
							"name": "Create GPT-35-turbo Chat Message MaxTokens=3",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Successfully created a Chat Message\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
											"    pm.expect(jsonData.chat).to.eql(pm.environment.get(\"TEST_CHAT5\"));\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-35-turbo\");\r",
											"    pm.expect(jsonData.systemPrompt.role).to.eql(\"system\");\r",
											"    pm.expect(jsonData.systemPrompt.content).to.eql(\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \");\r",
											"    pm.expect(jsonData.systemPrompt.name).to.eql(null);\r",
											"    pm.expect(jsonData.systemPrompt.timestamp).to.eql(null);\r",
											"    pm.expect(jsonData.params).to.eql({max_tokens: 3 });\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.query.role).to.eql('user');\r",
											"    pm.expect(jsonData.query.content).to.eql('Say this is a test');\r",
											"    pm.expect(jsonData.query.timestamp).to.not.eql(null);\r",
											"    pm.expect(jsonData.response.role).eq('assistant');\r",
											"    pm.expect(jsonData.response.content).to.include('This is a');\r",
											"    pm.expect(jsonData.response.timestamp).to.not.eql(null);\r",
											"    pm.expect(jsonData.response.finish_reason).eq('length');\r",
											"    pm.expect(Date.parse(jsonData.response.timestamp)).to.gt(Date.parse(jsonData.query.timestamp))\r",
											"    pm.expect(jsonData.tokens.query).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(59);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.eql(75);\r",
											"    pm.expect(jsonData.tokens.response).to.be.at.most(3);\r",
											"    pm.environment.set('TEST_CHATMESSAGE7', jsonData.id)\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "content",
											"value": "Say this is a test",
											"type": "text"
										},
										{
											"key": "params",
											"value": "{\"max_tokens\":3}",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT5}}/messages?cloak=false",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT5}}",
										"messages"
									],
									"query": [
										{
											"key": "cloak",
											"value": "false"
										}
									]
								}
							},
							"response": [
								{
									"name": "Create GPT-35-turbo Chat Message MaxTokens=3",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "formdata",
											"formdata": [
												{
													"key": "content",
													"value": "Say this is a test",
													"type": "text"
												},
												{
													"key": "params",
													"value": "{\"max_tokens\":3}",
													"type": "text"
												},
												{
													"key": "cloak",
													"value": "false",
													"type": "text"
												}
											]
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT5}}/messages",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT5}}",
												"messages"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 09 May 2024 09:58:44 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "904"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"model\": \"azure~gpt-35-turbo\",\n    \"systemPrompt\": {\n        \"role\": \"system\",\n        \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n        \"name\": null,\n        \"timestamp\": null\n    },\n    \"params\": {\n        \"max_tokens\": 3\n    },\n    \"properties\": {},\n    \"id\": \"45dad3ff-dd2c-4840-8acc-5d11432863de\",\n    \"chat\": \"78b17fac-5ff0-4975-a7fc-c36d7206c30a\",\n    \"query\": {\n        \"role\": \"user\",\n        \"content\": \"Say this is a test\",\n        \"name\": null,\n        \"timestamp\": \"2024-05-09T09:58:44.461745Z\"\n    },\n    \"response\": {\n        \"role\": \"assistant\",\n        \"content\": \"This is a\",\n        \"name\": null,\n        \"timestamp\": \"2024-05-09T09:58:44.933541Z\",\n        \"finish_reason\": \"length\"\n    },\n    \"tokens\": {\n        \"query\": 5,\n        \"systemPrompt\": 59,\n        \"queryWithContext\": 75,\n        \"response\": 3\n    },\n    \"liked\": false,\n    \"pinned\": false\n}"
								}
							]
						},
						{
							"name": "Retrieve GPT-35-turbo Chat MaxTokens=10",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_CHAT5\"));\r",
											"    pm.expect(jsonData.name).to.eql(\"Say This Is A Test\");\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-35-turbo\");\r",
											"    pm.expect(jsonData.systemPrompt.template).to.eql(\"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.personality).to.eql(\"helpful, clever, and very friendly\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.instructions).to.eql(\"You serve as a personal assistant to public officers in singapore\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.guardrails).to.eql(\"You will not answer politically sensitive topics\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.knowledgeBase).to.eql(\"\");\r",
											"    pm.expect(jsonData.systemPrompt.placeholders.length).to.eql(4);\r",
											"    pm.expect(jsonData.userPrompt.template).to.eql(null);\r",
											"    pm.expect(jsonData.userPrompt.variables).to.eql({});\r",
											"    pm.expect(jsonData.userPrompt.placeholders.length).to.eql(0);\r",
											"    pm.expect(jsonData.params).to.eql({max_tokens: 10 });\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.tokens.query).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(59);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.eql(75);\r",
											"    pm.expect(jsonData.tokens.response).to.eql(3);\r",
											"    pm.expect(jsonData.tokens.queries_total).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.responses_total).to.eql(3);\r",
											"    pm.expect(jsonData.messages.length).to.eql(1);\r",
											"    pm.expect(jsonData.pinned).to.eql(false);\r",
											"})"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT5}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT5}}"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve GPT-35-turbo Chat MaxTokens=10",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT5}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT5}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Fri, 31 May 2024 09:03:37 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "4149"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"modifications\": {\n        \"create\": {\n            \"type\": \"create\",\n            \"user_type\": \"user\",\n            \"timestamp\": \"2024-05-31T09:03:30.554000Z\",\n            \"user\": \"5eb6e5cd-ef03-5f88-a494-eb7dacd950ad\",\n            \"details\": {\n                \"id\": \"bb39d428-bb79-441d-9c7a-72b471ad55bc\",\n                \"name\": \"\",\n                \"agents\": [\n                    \"804885b4-423e-485c-b215-92c7dfa8baa8\"\n                ],\n                \"user_prompt\": {\n                    \"template\": null,\n                    \"variables\": {},\n                    \"placeholders\": []\n                },\n                \"systemPrompt\": {\n                    \"template\": \"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\",\n                    \"variables\": {\n                        \"personality\": \"helpful, clever, and very friendly\",\n                        \"instructions\": \"You serve as a personal assistant to public officers in singapore\",\n                        \"guardrails\": \"You will not answer politically sensitive topics\",\n                        \"knowledgeBase\": \"\"\n                    },\n                    \"placeholders\": [\n                        \"personality\",\n                        \"instructions\",\n                        \"guardrails\",\n                        \"knowledgeBase\"\n                    ]\n                },\n                \"params\": {\n                    \"max_tokens\": 10\n                },\n                \"properties\": {},\n                \"model\": \"azure~gpt-35-turbo\",\n                \"pinned\": false\n            }\n        },\n        \"update\": {\n            \"type\": \"update\",\n            \"user_type\": \"user\",\n            \"timestamp\": \"2024-05-31T09:03:35.177000Z\",\n            \"user\": \"5eb6e5cd-ef03-5f88-a494-eb7dacd950ad\",\n            \"details\": {\n                \"messages\": [\n                    {\n                        \"_id\": \"6fa6b426-5cd9-40d1-b2ee-16a7bb8dd9f9\",\n                        \"revision_id\": null,\n                        \"model\": \"azure~gpt-35-turbo\",\n                        \"systemPrompt\": {\n                            \"role\": \"system\",\n                            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n                            \"name\": null,\n                            \"timestamp\": null,\n                            \"options\": null\n                        },\n                        \"params\": {\n                            \"max_tokens\": 3\n                        },\n                        \"properties\": {},\n                        \"chat\": \"bb39d428-bb79-441d-9c7a-72b471ad55bc\",\n                        \"query\": {\n                            \"role\": \"user\",\n                            \"content\": \"Say this is a test\",\n                            \"name\": null,\n                            \"timestamp\": \"2024-05-31T09:03:34.513000Z\",\n                            \"options\": null\n                        },\n                        \"response\": {\n                            \"role\": \"assistant\",\n                            \"content\": \"This is a\",\n                            \"name\": null,\n                            \"timestamp\": \"2024-05-31T09:03:35.167000Z\",\n                            \"options\": null,\n                            \"finish_reason\": \"length\"\n                        },\n                        \"tokens\": {\n                            \"query\": 5,\n                            \"systemPrompt\": 59,\n                            \"queryWithContext\": 75,\n                            \"response\": 3\n                        },\n                        \"liked\": false,\n                        \"pinned\": false\n                    }\n                ],\n                \"tokens\": {\n                    \"query\": 5,\n                    \"systemPrompt\": 59,\n                    \"queryWithContext\": 75,\n                    \"response\": 3,\n                    \"queries_total\": 5,\n                    \"responses_total\": 3\n                }\n            }\n        }\n    },\n    \"name\": \"Say This Is A Test\",\n    \"model\": \"azure~gpt-35-turbo\",\n    \"systemPrompt\": {\n        \"template\": \"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\",\n        \"variables\": {\n            \"personality\": \"helpful, clever, and very friendly\",\n            \"instructions\": \"You serve as a personal assistant to public officers in singapore\",\n            \"guardrails\": \"You will not answer politically sensitive topics\",\n            \"knowledgeBase\": \"\"\n        },\n        \"placeholders\": [\n            \"personality\",\n            \"instructions\",\n            \"guardrails\",\n            \"knowledgeBase\"\n        ]\n    },\n    \"params\": {\n        \"max_tokens\": 10\n    },\n    \"properties\": {},\n    \"id\": \"bb39d428-bb79-441d-9c7a-72b471ad55bc\",\n    \"userPrompt\": {\n        \"template\": null,\n        \"variables\": {},\n        \"placeholders\": []\n    },\n    \"tokens\": {\n        \"query\": 5,\n        \"systemPrompt\": 59,\n        \"queryWithContext\": 75,\n        \"response\": 3,\n        \"queries_total\": 5,\n        \"responses_total\": 3\n    },\n    \"messages\": [\n        {\n            \"model\": \"azure~gpt-35-turbo\",\n            \"systemPrompt\": {\n                \"role\": \"system\",\n                \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n                \"name\": null,\n                \"timestamp\": null,\n                \"options\": null\n            },\n            \"params\": {\n                \"max_tokens\": 3\n            },\n            \"properties\": {},\n            \"id\": \"6fa6b426-5cd9-40d1-b2ee-16a7bb8dd9f9\",\n            \"chat\": \"bb39d428-bb79-441d-9c7a-72b471ad55bc\",\n            \"query\": {\n                \"role\": \"user\",\n                \"content\": \"Say this is a test\",\n                \"name\": null,\n                \"timestamp\": \"2024-05-31T09:03:34.513000Z\",\n                \"options\": null\n            },\n            \"response\": {\n                \"role\": \"assistant\",\n                \"content\": \"This is a\",\n                \"name\": null,\n                \"timestamp\": \"2024-05-31T09:03:35.167000Z\",\n                \"options\": null,\n                \"finish_reason\": \"length\"\n            },\n            \"tokens\": {\n                \"query\": 5,\n                \"systemPrompt\": 59,\n                \"queryWithContext\": 75,\n                \"response\": 3\n            },\n            \"liked\": false,\n            \"pinned\": false\n        }\n    ],\n    \"agents\": [\n        \"804885b4-423e-485c-b215-92c7dfa8baa8\"\n    ],\n    \"pinned\": false\n}"
								}
							]
						},
						{
							"name": "Retrieve GPT-35-turbo Chat MaxTokens=3 Messages",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Messages\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.length).to.eql(1);\r",
											"    pm.expect(pm.environment.get(\"TEST_CHATMESSAGE7\") in jsonData.map((x, i) => {return x.id})).to.eql(false);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT5}}/messages",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT5}}",
										"messages"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve GPT-35-turbo Chat MaxTokens=3 Messages",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT5}}/messages",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT5}}",
												"messages"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 09 May 2024 10:04:57 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "906"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "[\n    {\n        \"model\": \"azure~gpt-35-turbo\",\n        \"systemPrompt\": {\n            \"role\": \"system\",\n            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n            \"name\": null,\n            \"timestamp\": null\n        },\n        \"params\": {\n            \"max_tokens\": 3\n        },\n        \"properties\": {},\n        \"id\": \"45dad3ff-dd2c-4840-8acc-5d11432863de\",\n        \"chat\": \"78b17fac-5ff0-4975-a7fc-c36d7206c30a\",\n        \"query\": {\n            \"role\": \"user\",\n            \"content\": \"Say this is a test\",\n            \"name\": null,\n            \"timestamp\": \"2024-05-09T09:58:44.461000Z\"\n        },\n        \"response\": {\n            \"role\": \"assistant\",\n            \"content\": \"This is a\",\n            \"name\": null,\n            \"timestamp\": \"2024-05-09T09:58:44.933000Z\",\n            \"finish_reason\": \"length\"\n        },\n        \"tokens\": {\n            \"query\": 5,\n            \"systemPrompt\": 59,\n            \"queryWithContext\": 75,\n            \"response\": 3\n        },\n        \"liked\": false,\n        \"pinned\": false\n    }\n]"
								}
							]
						},
						{
							"name": "Retrieve GPT-35-turbo Chat Message MaxTokens=3",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Message\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_CHATMESSAGE7\"));\r",
											"    pm.expect(jsonData.chat).to.eql(pm.environment.get(\"TEST_CHAT5\"));\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-35-turbo\");\r",
											"    pm.expect(jsonData.systemPrompt.role).to.eql(\"system\");\r",
											"    pm.expect(jsonData.systemPrompt.content).to.eql(\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \");\r",
											"    pm.expect(jsonData.systemPrompt.name).to.eql(null);\r",
											"    pm.expect(jsonData.systemPrompt.timestamp).to.eql(null);\r",
											"    pm.expect(jsonData.params).to.eql({max_tokens: 3 });\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.query.role).to.eql('user');\r",
											"    pm.expect(jsonData.query.content).to.eql('Say this is a test');\r",
											"    pm.expect(jsonData.query.timestamp).to.not.eql(null);\r",
											"    pm.expect(jsonData.response.role).eq('assistant');\r",
											"    pm.expect(jsonData.response.content).to.include('This is a');\r",
											"    pm.expect(jsonData.response.timestamp).to.not.eql(null);\r",
											"    pm.expect(jsonData.response.finish_reason).eq('length');\r",
											"    pm.expect(Date.parse(jsonData.response.timestamp)).to.gt(Date.parse(jsonData.query.timestamp))\r",
											"    pm.expect(jsonData.tokens.query).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(59);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.eql(75);\r",
											"    pm.expect(jsonData.tokens.response).eql(3);\r",
											"})"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT5}}/messages/{{TEST_CHATMESSAGE7}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT5}}",
										"messages",
										"{{TEST_CHATMESSAGE7}}"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve GPT-35-turbo Chat Message MaxTokens=3",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT5}}/messages/{{TEST_CHATMESSAGE7}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT5}}",
												"messages",
												"{{TEST_CHATMESSAGE7}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 09 May 2024 10:07:21 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "904"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"model\": \"azure~gpt-35-turbo\",\n    \"systemPrompt\": {\n        \"role\": \"system\",\n        \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n        \"name\": null,\n        \"timestamp\": null\n    },\n    \"params\": {\n        \"max_tokens\": 3\n    },\n    \"properties\": {},\n    \"id\": \"45dad3ff-dd2c-4840-8acc-5d11432863de\",\n    \"chat\": \"78b17fac-5ff0-4975-a7fc-c36d7206c30a\",\n    \"query\": {\n        \"role\": \"user\",\n        \"content\": \"Say this is a test\",\n        \"name\": null,\n        \"timestamp\": \"2024-05-09T09:58:44.461000Z\"\n    },\n    \"response\": {\n        \"role\": \"assistant\",\n        \"content\": \"This is a\",\n        \"name\": null,\n        \"timestamp\": \"2024-05-09T09:58:44.933000Z\",\n        \"finish_reason\": \"length\"\n    },\n    \"tokens\": {\n        \"query\": 5,\n        \"systemPrompt\": 59,\n        \"queryWithContext\": 75,\n        \"response\": 3\n    },\n    \"liked\": false,\n    \"pinned\": false\n}"
								}
							]
						}
					]
				},
				{
					"name": "Change Chat Properties",
					"item": [
						{
							"name": "Create GPT-35-turbo Chat w/ properties",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Successfully created a Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
											"    pm.environment.set('TEST_CHAT6', jsonData.id)\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\"model\":\"azure~gpt-35-turbo\",\"properties\":{\"instructions\":\"You will always start responses with a 'Yes of course'\"}}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats"
									]
								}
							},
							"response": [
								{
									"name": "Create GPT-35-turbo Chat w/ properties",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\"model\":\"azure~gpt-35-turbo\",\"properties\":{\"functionality\":\"You will always start responses with a 'Yes of course'\"}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Fri, 10 May 2024 05:48:16 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "45"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"id\": \"1821f975-62ab-4998-b2a6-2b6a78b09647\"\n}"
								}
							]
						},
						{
							"name": "Create GPT-35-turbo Chat Message w/ properties",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Successfully created a Chat Message\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
											"    pm.expect(jsonData.chat).to.eql(pm.environment.get(\"TEST_CHAT6\"));\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-35-turbo\");\r",
											"    pm.expect(jsonData.systemPrompt.role).to.eql(\"system\");\r",
											"    pm.expect(jsonData.systemPrompt.content).to.eql(\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You will always start responses with a 'Understood my lord'\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \");\r",
											"    pm.expect(jsonData.systemPrompt.name).to.eql(null);\r",
											"    pm.expect(jsonData.systemPrompt.timestamp).to.eql(null);\r",
											"    pm.expect(jsonData.params).to.eql({});\r",
											"    pm.expect(jsonData.properties).to.eql({\"instructions\":\"You will always start responses with a 'Understood my lord'\"});\r",
											"    pm.expect(jsonData.query.role).to.eql('user');\r",
											"    pm.expect(jsonData.query.content).to.eql('Say this is a test');\r",
											"    pm.expect(jsonData.query.timestamp).to.not.eql(null);\r",
											"    pm.expect(jsonData.response.role).eq('assistant');\r",
											"    pm.expect(jsonData.response.content).to.include('Understood my lord');\r",
											"    pm.expect(jsonData.response.timestamp).to.not.eql(null);\r",
											"    pm.expect(Date.parse(jsonData.response.timestamp)).to.gt(Date.parse(jsonData.query.timestamp))\r",
											"    pm.expect(jsonData.tokens.query).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(60);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.eql(76);\r",
											"    pm.expect(jsonData.tokens.response).to.gte(5);\r",
											"    pm.environment.set('TEST_CHATMESSAGE8', jsonData.id)\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "content",
											"value": "Say this is a test",
											"type": "text"
										},
										{
											"key": "properties",
											"value": "{\"instructions\":\"You will always start responses with a 'Understood my lord'\"}",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT6}}/messages?cloak=false",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT6}}",
										"messages"
									],
									"query": [
										{
											"key": "cloak",
											"value": "false"
										}
									]
								}
							},
							"response": [
								{
									"name": "Create GPT-35-turbo Chat Message w/ properties",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "formdata",
											"formdata": [
												{
													"key": "content",
													"value": "Say this is a test",
													"type": "text"
												},
												{
													"key": "properties",
													"value": "{\"instructions\":\"You will always start responses with a 'Understood my lord'\"}",
													"type": "text"
												},
												{
													"key": "cloak",
													"value": "false",
													"type": "text"
												}
											]
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT6}}/messages",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT6}}",
												"messages"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Fri, 31 May 2024 09:04:02 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "1060"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"model\": \"azure~gpt-35-turbo\",\n    \"systemPrompt\": {\n        \"role\": \"system\",\n        \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You will always start responses with a 'Understood my lord'\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n        \"name\": null,\n        \"timestamp\": null,\n        \"options\": null\n    },\n    \"params\": {},\n    \"properties\": {\n        \"instructions\": \"You will always start responses with a 'Understood my lord'\"\n    },\n    \"id\": \"18d53323-ab54-4d5b-b086-68a31970eeaf\",\n    \"chat\": \"6651939a-84e0-45cb-b1e7-6530fcfd4d20\",\n    \"query\": {\n        \"role\": \"user\",\n        \"content\": \"Say this is a test\",\n        \"name\": null,\n        \"timestamp\": \"2024-05-31T09:04:03.179704Z\",\n        \"options\": null\n    },\n    \"response\": {\n        \"role\": \"assistant\",\n        \"content\": \"Understood my lord. This is a test. How may I assist you further?\",\n        \"name\": null,\n        \"timestamp\": \"2024-05-31T09:04:03.981451Z\",\n        \"options\": null,\n        \"finish_reason\": \"stop\"\n    },\n    \"tokens\": {\n        \"query\": 5,\n        \"systemPrompt\": 60,\n        \"queryWithContext\": 76,\n        \"response\": 17\n    },\n    \"liked\": false,\n    \"pinned\": false\n}"
								}
							]
						},
						{
							"name": "Retrieve GPT-35-turbo Chat w/ properties",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_CHAT6\"));\r",
											"    pm.expect(jsonData.name).to.eql(\"Say This Is A Test\");\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-35-turbo\");\r",
											"    pm.expect(jsonData.systemPrompt.template).to.eql(\"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.personality).to.eql(\"helpful, clever, and very friendly\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.instructions).to.eql(\"You serve as a personal assistant to public officers in singapore\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.guardrails).to.eql(\"You will not answer politically sensitive topics\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.knowledgeBase).to.eql(\"\");\r",
											"    pm.expect(jsonData.systemPrompt.placeholders.length).to.eql(4);\r",
											"    pm.expect(jsonData.userPrompt.template).to.eql(null);\r",
											"    pm.expect(jsonData.userPrompt.variables).to.eql({});\r",
											"    pm.expect(jsonData.userPrompt.placeholders.length).to.eql(0);\r",
											"    pm.expect(jsonData.params).to.eql({});\r",
											"    pm.expect(jsonData.properties).to.eql({\"instructions\":\"You will always start responses with a 'Yes of course'\"});\r",
											"    pm.expect(jsonData.tokens.query).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(60);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.eql(76);\r",
											"    pm.expect(jsonData.tokens.response).to.gte(5);\r",
											"    pm.expect(jsonData.tokens.queries_total).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.responses_total).to.gte(10);\r",
											"    pm.expect(jsonData.messages.length).to.eql(1);\r",
											"    pm.expect(jsonData.pinned).to.eql(false);\r",
											"})"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT6}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT6}}"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve GPT-35-turbo Chat w/ properties",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT6}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT6}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Fri, 31 May 2024 09:08:30 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "4487"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"modifications\": {\n        \"create\": {\n            \"type\": \"create\",\n            \"user_type\": \"user\",\n            \"timestamp\": \"2024-05-31T09:03:59.108000Z\",\n            \"user\": \"5eb6e5cd-ef03-5f88-a494-eb7dacd950ad\",\n            \"details\": {\n                \"id\": \"6651939a-84e0-45cb-b1e7-6530fcfd4d20\",\n                \"name\": \"\",\n                \"agents\": [\n                    \"804885b4-423e-485c-b215-92c7dfa8baa8\"\n                ],\n                \"user_prompt\": {\n                    \"template\": null,\n                    \"variables\": {},\n                    \"placeholders\": []\n                },\n                \"systemPrompt\": {\n                    \"template\": \"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\",\n                    \"variables\": {\n                        \"personality\": \"helpful, clever, and very friendly\",\n                        \"instructions\": \"You serve as a personal assistant to public officers in singapore\",\n                        \"guardrails\": \"You will not answer politically sensitive topics\",\n                        \"knowledgeBase\": \"\"\n                    },\n                    \"placeholders\": [\n                        \"personality\",\n                        \"instructions\",\n                        \"guardrails\",\n                        \"knowledgeBase\"\n                    ]\n                },\n                \"params\": {},\n                \"properties\": {\n                    \"instructions\": \"You will always start responses with a 'Yes of course'\"\n                },\n                \"model\": \"azure~gpt-35-turbo\",\n                \"pinned\": false\n            }\n        },\n        \"update\": {\n            \"type\": \"update\",\n            \"user_type\": \"user\",\n            \"timestamp\": \"2024-05-31T09:04:03.991000Z\",\n            \"user\": \"5eb6e5cd-ef03-5f88-a494-eb7dacd950ad\",\n            \"details\": {\n                \"messages\": [\n                    {\n                        \"_id\": \"18d53323-ab54-4d5b-b086-68a31970eeaf\",\n                        \"revision_id\": null,\n                        \"model\": \"azure~gpt-35-turbo\",\n                        \"systemPrompt\": {\n                            \"role\": \"system\",\n                            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You will always start responses with a 'Understood my lord'\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n                            \"name\": null,\n                            \"timestamp\": null,\n                            \"options\": null\n                        },\n                        \"params\": {},\n                        \"properties\": {\n                            \"instructions\": \"You will always start responses with a 'Understood my lord'\"\n                        },\n                        \"chat\": \"6651939a-84e0-45cb-b1e7-6530fcfd4d20\",\n                        \"query\": {\n                            \"role\": \"user\",\n                            \"content\": \"Say this is a test\",\n                            \"name\": null,\n                            \"timestamp\": \"2024-05-31T09:04:03.179000Z\",\n                            \"options\": null\n                        },\n                        \"response\": {\n                            \"role\": \"assistant\",\n                            \"content\": \"Understood my lord. This is a test. How may I assist you further?\",\n                            \"name\": null,\n                            \"timestamp\": \"2024-05-31T09:04:03.981000Z\",\n                            \"options\": null,\n                            \"finish_reason\": \"stop\"\n                        },\n                        \"tokens\": {\n                            \"query\": 5,\n                            \"systemPrompt\": 60,\n                            \"queryWithContext\": 76,\n                            \"response\": 17\n                        },\n                        \"liked\": false,\n                        \"pinned\": false\n                    }\n                ],\n                \"tokens\": {\n                    \"query\": 5,\n                    \"systemPrompt\": 60,\n                    \"queryWithContext\": 76,\n                    \"response\": 17,\n                    \"queries_total\": 5,\n                    \"responses_total\": 17\n                }\n            }\n        }\n    },\n    \"name\": \"Say This Is A Test\",\n    \"model\": \"azure~gpt-35-turbo\",\n    \"systemPrompt\": {\n        \"template\": \"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\",\n        \"variables\": {\n            \"personality\": \"helpful, clever, and very friendly\",\n            \"instructions\": \"You serve as a personal assistant to public officers in singapore\",\n            \"guardrails\": \"You will not answer politically sensitive topics\",\n            \"knowledgeBase\": \"\"\n        },\n        \"placeholders\": [\n            \"personality\",\n            \"instructions\",\n            \"guardrails\",\n            \"knowledgeBase\"\n        ]\n    },\n    \"params\": {},\n    \"properties\": {\n        \"instructions\": \"You will always start responses with a 'Yes of course'\"\n    },\n    \"id\": \"6651939a-84e0-45cb-b1e7-6530fcfd4d20\",\n    \"userPrompt\": {\n        \"template\": null,\n        \"variables\": {},\n        \"placeholders\": []\n    },\n    \"tokens\": {\n        \"query\": 5,\n        \"systemPrompt\": 60,\n        \"queryWithContext\": 76,\n        \"response\": 17,\n        \"queries_total\": 5,\n        \"responses_total\": 17\n    },\n    \"messages\": [\n        {\n            \"model\": \"azure~gpt-35-turbo\",\n            \"systemPrompt\": {\n                \"role\": \"system\",\n                \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You will always start responses with a 'Understood my lord'\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n                \"name\": null,\n                \"timestamp\": null,\n                \"options\": null\n            },\n            \"params\": {},\n            \"properties\": {\n                \"instructions\": \"You will always start responses with a 'Understood my lord'\"\n            },\n            \"id\": \"18d53323-ab54-4d5b-b086-68a31970eeaf\",\n            \"chat\": \"6651939a-84e0-45cb-b1e7-6530fcfd4d20\",\n            \"query\": {\n                \"role\": \"user\",\n                \"content\": \"Say this is a test\",\n                \"name\": null,\n                \"timestamp\": \"2024-05-31T09:04:03.179000Z\",\n                \"options\": null\n            },\n            \"response\": {\n                \"role\": \"assistant\",\n                \"content\": \"Understood my lord. This is a test. How may I assist you further?\",\n                \"name\": null,\n                \"timestamp\": \"2024-05-31T09:04:03.981000Z\",\n                \"options\": null,\n                \"finish_reason\": \"stop\"\n            },\n            \"tokens\": {\n                \"query\": 5,\n                \"systemPrompt\": 60,\n                \"queryWithContext\": 76,\n                \"response\": 17\n            },\n            \"liked\": false,\n            \"pinned\": false\n        }\n    ],\n    \"agents\": [\n        \"804885b4-423e-485c-b215-92c7dfa8baa8\"\n    ],\n    \"pinned\": false\n}"
								}
							]
						},
						{
							"name": "Retrieve GPT-35-turbo Chat w/ properties Messages",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Messages\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.length).to.eql(1);\r",
											"    pm.expect(pm.environment.get(\"TEST_CHATMESSAGE8\") in jsonData.map((x, i) => {return x.id})).to.eql(false);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT6}}/messages",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT6}}",
										"messages"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve GPT-35-turbo Chat w/ properties Messages",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT6}}/messages",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT6}}",
												"messages"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Fri, 10 May 2024 08:25:58 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "988"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "[\n    {\n        \"model\": \"azure~gpt-35-turbo\",\n        \"systemPrompt\": {\n            \"role\": \"system\",\n            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You will always start responses with a 'Understood my lord'\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n            \"name\": null,\n            \"timestamp\": null\n        },\n        \"params\": {},\n        \"properties\": {\n            \"functionality\": \"You will always start responses with a 'Understood my lord'\"\n        },\n        \"id\": \"62baf323-73d3-40ab-a146-7f09f87b8034\",\n        \"chat\": \"97ba9dae-3758-49a3-999f-92a0699f476f\",\n        \"query\": {\n            \"role\": \"user\",\n            \"content\": \"Say this is a test\",\n            \"name\": null,\n            \"timestamp\": \"2024-05-10T08:20:22.815000Z\"\n        },\n        \"response\": {\n            \"role\": \"assistant\",\n            \"content\": \"Understood my lord, this is a test.\",\n            \"name\": null,\n            \"timestamp\": \"2024-05-10T08:20:24.239000Z\",\n            \"finish_reason\": \"stop\"\n        },\n        \"tokens\": {\n            \"query\": 5,\n            \"systemPrompt\": 60,\n            \"queryWithContext\": 76,\n            \"response\": 10\n        },\n        \"liked\": false,\n        \"pinned\": false\n    }\n]"
								}
							]
						},
						{
							"name": "Retrieve GPT-35-turbo Chat Message w/ properties",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Message\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_CHATMESSAGE8\"));\r",
											"    pm.expect(jsonData.chat).to.eql(pm.environment.get(\"TEST_CHAT6\"));\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-35-turbo\");\r",
											"    pm.expect(jsonData.systemPrompt.role).to.eql(\"system\");\r",
											"    pm.expect(jsonData.systemPrompt.content).to.eql(\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You will always start responses with a 'Understood my lord'\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \");\r",
											"    pm.expect(jsonData.systemPrompt.name).to.eql(null);\r",
											"    pm.expect(jsonData.systemPrompt.timestamp).to.eql(null);\r",
											"    pm.expect(jsonData.params).to.eql({});\r",
											"    pm.expect(jsonData.properties).to.eql({\"instructions\":\"You will always start responses with a 'Understood my lord'\"});\r",
											"    pm.expect(jsonData.query.role).to.eql('user');\r",
											"    pm.expect(jsonData.query.content).to.eql('Say this is a test');\r",
											"    pm.expect(jsonData.query.timestamp).to.not.eql(null);\r",
											"    pm.expect(jsonData.response.role).eq('assistant');\r",
											"    pm.expect(jsonData.response.content).to.include('Understood my lord');\r",
											"    pm.expect(jsonData.response.timestamp).to.not.eql(null);\r",
											"    pm.expect(Date.parse(jsonData.response.timestamp)).to.gt(Date.parse(jsonData.query.timestamp))\r",
											"    pm.expect(jsonData.tokens.query).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(60);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.eql(76);\r",
											"    pm.expect(jsonData.tokens.response).gte(6);\r",
											"})"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT6}}/messages/{{TEST_CHATMESSAGE8}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT6}}",
										"messages",
										"{{TEST_CHATMESSAGE8}}"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve GPT-35-turbo Chat Message w/ properties",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT6}}/messages/{{TEST_CHATMESSAGE8}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT6}}",
												"messages",
												"{{TEST_CHATMESSAGE8}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Fri, 31 May 2024 09:08:43 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "1060"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"model\": \"azure~gpt-35-turbo\",\n    \"systemPrompt\": {\n        \"role\": \"system\",\n        \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You will always start responses with a 'Understood my lord'\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n        \"name\": null,\n        \"timestamp\": null,\n        \"options\": null\n    },\n    \"params\": {},\n    \"properties\": {\n        \"instructions\": \"You will always start responses with a 'Understood my lord'\"\n    },\n    \"id\": \"18d53323-ab54-4d5b-b086-68a31970eeaf\",\n    \"chat\": \"6651939a-84e0-45cb-b1e7-6530fcfd4d20\",\n    \"query\": {\n        \"role\": \"user\",\n        \"content\": \"Say this is a test\",\n        \"name\": null,\n        \"timestamp\": \"2024-05-31T09:04:03.179000Z\",\n        \"options\": null\n    },\n    \"response\": {\n        \"role\": \"assistant\",\n        \"content\": \"Understood my lord. This is a test. How may I assist you further?\",\n        \"name\": null,\n        \"timestamp\": \"2024-05-31T09:04:03.981000Z\",\n        \"options\": null,\n        \"finish_reason\": \"stop\"\n    },\n    \"tokens\": {\n        \"query\": 5,\n        \"systemPrompt\": 60,\n        \"queryWithContext\": 76,\n        \"response\": 17\n    },\n    \"liked\": false,\n    \"pinned\": false\n}"
								}
							]
						}
					]
				}
			]
		},
		{
			"name": "Chat Streaming",
			"item": [
				{
					"name": "Initiate Streaming Chat",
					"item": [
						{
							"name": "Create Streaming Chat",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Successfully created a Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
											"    pm.environment.set('TEST_CHAT7', jsonData.id)\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\"model\":\"azure~gpt-35-turbo\"}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats"
									]
								}
							},
							"response": [
								{
									"name": "Create Streaming Chat",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\"model\":\"azure~gpt-35-turbo\"}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Fri, 10 May 2024 10:08:27 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "45"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"id\": \"e32cc656-f8b8-4938-9e2d-485ce059ec05\"\n}"
								}
							]
						},
						{
							"name": "Create Streaming Chat Message 9",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Successfully created a Chat Message\", function () {\r",
											"    var finish_reason = null\r",
											"    console.log(pm.response.text());\r",
											"    chunks = pm.response.text().split('\\n').filter(line => line.trim() !== '');\r",
											"    for (const c of chunks) {\r",
											"        chunk = JSON.parse(c);\r",
											"        console.log(chunk);\r",
											"\r",
											"        if (!finish_reason) {\r",
											"            pm.expect(chunk).to.have.property('role');\r",
											"            pm.expect(chunk).to.have.property('content');\r",
											"            pm.expect(chunk).to.have.property('finish_reason');\r",
											"\r",
											"            if (chunk.finish_reason){\r",
											"                finish_reason = chunk.finish_reason\r",
											"                pm.expect(finish_reason).to.be.oneOf([\"stop\",\r",
											"                                                    \"length\",\r",
											"                                                    \"tool_calls\",\r",
											"                                                    \"content_filter\",\r",
											"                                                    \"function_call\"]);\r",
											"                \r",
											"            }\r",
											"        } else {\r",
											"            pm.expect(chunk.id).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
											"            pm.expect(chunk.chat).to.eql(pm.environment.get(\"TEST_CHAT7\"));\r",
											"            pm.expect(chunk.model).to.eql(\"azure~gpt-35-turbo\");\r",
											"            pm.expect(chunk.systemPrompt.role).to.eql(\"system\");\r",
											"            pm.expect(chunk.systemPrompt.content).to.eql(\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \");\r",
											"            pm.expect(chunk.systemPrompt.name).to.eql(null);\r",
											"            pm.expect(chunk.systemPrompt.timestamp).to.eql(null);\r",
											"            pm.expect(chunk.params).to.eql({});\r",
											"            pm.expect(chunk.properties).to.eql({});\r",
											"            pm.expect(chunk.query.role).to.eql('user');\r",
											"            pm.expect(chunk.query.content).to.eql('Say this is a test');\r",
											"            pm.expect(chunk.query.timestamp).to.not.eql(null);\r",
											"            pm.expect(chunk.response.role).eq('assistant');\r",
											"            pm.expect(chunk.response.content).to.include('is a test');\r",
											"            pm.expect(chunk.response.timestamp).to.not.eql(null);\r",
											"            pm.expect(Date.parse(chunk.response.timestamp)).to.gt(Date.parse(chunk.query.timestamp))\r",
											"            pm.expect(chunk.tokens.query).to.eql(5);\r",
											"            pm.expect(chunk.tokens.systemPrompt).to.eql(59);\r",
											"            pm.expect(chunk.tokens.queryWithContext).to.eql(77);\r",
											"            pm.expect(chunk.tokens.response).to.be.at.least(5);\r",
											"            pm.environment.set('TEST_CHATMESSAGE9', chunk.id)\r",
											"        }\r",
											"    }\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "content",
											"value": "Say this is a test",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT7}}/messages?streaming=true&cloak=false",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT7}}",
										"messages"
									],
									"query": [
										{
											"key": "streaming",
											"value": "true"
										},
										{
											"key": "cloak",
											"value": "false"
										}
									]
								}
							},
							"response": [
								{
									"name": "Create Streaming Chat Message 9",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "formdata",
											"formdata": [
												{
													"key": "content",
													"value": "Say this is a test",
													"type": "text"
												},
												{
													"key": "cloak",
													"value": "false",
													"type": "text"
												}
											]
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT7}}/messages?streaming=true",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT7}}",
												"messages"
											],
											"query": [
												{
													"key": "streaming",
													"value": "true"
												}
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "plain",
									"header": [
										{
											"key": "date",
											"value": "Wed, 15 May 2024 02:52:28 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-type",
											"value": "text/event-stream; charset=utf-8"
										},
										{
											"key": "transfer-encoding",
											"value": "chunked"
										}
									],
									"cookie": [],
									"body": "{\"role\":\"assistant\",\"content\":\"\",\"finish_reason\":null}\n{\"role\":null,\"content\":\"This\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" is\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" a\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" test\",\"finish_reason\":null}\n{\"role\":null,\"content\":\"!\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" How\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" can\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" I\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" assist\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" you\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" today\",\"finish_reason\":null}\n{\"role\":null,\"content\":\"?\",\"finish_reason\":null}\n{\"role\":null,\"content\":null,\"finish_reason\":\"stop\"}\n{\"model\":\"azure~gpt-35-turbo\",\"systemPrompt\":{\"role\":\"system\",\"content\":\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\"name\":null,\"timestamp\":null},\"params\":{},\"properties\":{},\"id\":\"a621dadb-874a-434a-a7e7-e6d745817cc4\",\"chat\":\"c4cace56-9ba3-4f7e-881f-f3f80b20c494\",\"query\":{\"role\":\"user\",\"content\":\"Say this is a test\",\"name\":null,\"timestamp\":\"2024-05-15T02:52:29.622646Z\"},\"response\":{\"role\":\"assistant\",\"content\":\"This is a test! How can I assist you today?\",\"name\":null,\"timestamp\":\"2024-05-15T02:52:31.090506Z\",\"finish_reason\":\"stop\"},\"tokens\":{\"query\":5,\"systemPrompt\":59,\"queryWithContext\":77,\"response\":12}}\n"
								}
							]
						},
						{
							"name": "Retrieve Streaming Chat",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_CHAT7\"));\r",
											"    pm.expect(jsonData.name).to.eql(\"Say This Is A Test\");\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-35-turbo\");\r",
											"    pm.expect(jsonData.systemPrompt.template).to.eql(\"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.personality).to.eql(\"helpful, clever, and very friendly\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.instructions).to.eql(\"You serve as a personal assistant to public officers in singapore\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.guardrails).to.eql(\"You will not answer politically sensitive topics\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.knowledgeBase).to.eql(\"\");\r",
											"    pm.expect(jsonData.systemPrompt.placeholders.length).to.eql(4);\r",
											"    pm.expect(jsonData.userPrompt.template).to.eql(null);\r",
											"    pm.expect(jsonData.userPrompt.variables).to.eql({});\r",
											"    pm.expect(jsonData.userPrompt.placeholders.length).to.eql(0);\r",
											"    pm.expect(jsonData.params).to.eql({});\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.tokens.query).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(59);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.eql(77);\r",
											"    pm.expect(jsonData.tokens.response).to.gte(5);\r",
											"    pm.expect(jsonData.tokens.queries_total).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.responses_total).to.gte(5);\r",
											"    pm.expect(jsonData.messages.length).to.eql(1);\r",
											"    pm.expect(jsonData.pinned).to.eql(false);\r",
											"})"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT7}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT7}}"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Streaming Chat",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT7}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT7}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Thu, 30 May 2024 04:15:12 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "4099"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"modifications\": {\n        \"create\": {\n            \"type\": \"create\",\n            \"user_type\": \"user\",\n            \"timestamp\": \"2024-05-30T04:06:04.396000Z\",\n            \"user\": \"5eb6e5cd-ef03-5f88-a494-eb7dacd950ad\",\n            \"details\": {\n                \"id\": \"cb7bf0a9-bdac-4e41-8e17-ec700331068a\",\n                \"name\": \"\",\n                \"agents\": [\n                    \"804885b4-423e-485c-b215-92c7dfa8baa8\"\n                ],\n                \"user_prompt\": {\n                    \"template\": null,\n                    \"variables\": {},\n                    \"placeholders\": []\n                },\n                \"systemPrompt\": {\n                    \"template\": \"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\",\n                    \"variables\": {\n                        \"personality\": \"helpful, clever, and very friendly\",\n                        \"instructions\": \"You serve as a personal assistant to public officers in singapore\",\n                        \"guardrails\": \"You will not answer politically sensitive topics\",\n                        \"knowledgeBase\": \"\"\n                    },\n                    \"placeholders\": [\n                        \"personality\",\n                        \"instructions\",\n                        \"guardrails\",\n                        \"knowledgeBase\"\n                    ]\n                },\n                \"params\": {},\n                \"properties\": {},\n                \"model\": \"azure~gpt-35-turbo\",\n                \"pinned\": false\n            }\n        },\n        \"update\": {\n            \"type\": \"update\",\n            \"user_type\": \"user\",\n            \"timestamp\": \"2024-05-30T04:06:15.194000Z\",\n            \"user\": \"5eb6e5cd-ef03-5f88-a494-eb7dacd950ad\",\n            \"details\": {\n                \"messages\": [\n                    {\n                        \"_id\": \"3658f5dc-19be-446b-8a28-3a6719720a68\",\n                        \"revision_id\": null,\n                        \"model\": \"azure~gpt-35-turbo\",\n                        \"systemPrompt\": {\n                            \"role\": \"system\",\n                            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n                            \"name\": null,\n                            \"timestamp\": null\n                        },\n                        \"params\": {},\n                        \"properties\": {},\n                        \"chat\": \"cb7bf0a9-bdac-4e41-8e17-ec700331068a\",\n                        \"query\": {\n                            \"role\": \"user\",\n                            \"content\": \"Say this is a test\",\n                            \"name\": null,\n                            \"timestamp\": \"2024-05-30T04:06:14.092000Z\"\n                        },\n                        \"response\": {\n                            \"role\": \"assistant\",\n                            \"content\": \"This is a test! Let me know how I can assist you further.\",\n                            \"name\": null,\n                            \"timestamp\": \"2024-05-30T04:06:15.032000Z\",\n                            \"finish_reason\": \"stop\"\n                        },\n                        \"tokens\": {\n                            \"query\": 5,\n                            \"systemPrompt\": 59,\n                            \"queryWithContext\": 77,\n                            \"response\": 15\n                        },\n                        \"liked\": false,\n                        \"pinned\": false\n                    }\n                ],\n                \"tokens\": {\n                    \"query\": 5,\n                    \"systemPrompt\": 59,\n                    \"queryWithContext\": 77,\n                    \"response\": 15,\n                    \"queries_total\": 5,\n                    \"responses_total\": 15\n                }\n            }\n        }\n    },\n    \"name\": \"Say This Is A Test\",\n    \"model\": \"azure~gpt-35-turbo\",\n    \"systemPrompt\": {\n        \"template\": \"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\",\n        \"variables\": {\n            \"personality\": \"helpful, clever, and very friendly\",\n            \"instructions\": \"You serve as a personal assistant to public officers in singapore\",\n            \"guardrails\": \"You will not answer politically sensitive topics\",\n            \"knowledgeBase\": \"\"\n        },\n        \"placeholders\": [\n            \"personality\",\n            \"instructions\",\n            \"guardrails\",\n            \"knowledgeBase\"\n        ]\n    },\n    \"params\": {},\n    \"properties\": {},\n    \"id\": \"cb7bf0a9-bdac-4e41-8e17-ec700331068a\",\n    \"userPrompt\": {\n        \"template\": null,\n        \"variables\": {},\n        \"placeholders\": []\n    },\n    \"tokens\": {\n        \"query\": 5,\n        \"systemPrompt\": 59,\n        \"queryWithContext\": 77,\n        \"response\": 15,\n        \"queries_total\": 5,\n        \"responses_total\": 15\n    },\n    \"messages\": [\n        {\n            \"model\": \"azure~gpt-35-turbo\",\n            \"systemPrompt\": {\n                \"role\": \"system\",\n                \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n                \"name\": null,\n                \"timestamp\": null\n            },\n            \"params\": {},\n            \"properties\": {},\n            \"id\": \"3658f5dc-19be-446b-8a28-3a6719720a68\",\n            \"chat\": \"cb7bf0a9-bdac-4e41-8e17-ec700331068a\",\n            \"query\": {\n                \"role\": \"user\",\n                \"content\": \"Say this is a test\",\n                \"name\": null,\n                \"timestamp\": \"2024-05-30T04:06:14.092000Z\"\n            },\n            \"response\": {\n                \"role\": \"assistant\",\n                \"content\": \"This is a test! Let me know how I can assist you further.\",\n                \"name\": null,\n                \"timestamp\": \"2024-05-30T04:06:15.032000Z\",\n                \"finish_reason\": \"stop\"\n            },\n            \"tokens\": {\n                \"query\": 5,\n                \"systemPrompt\": 59,\n                \"queryWithContext\": 77,\n                \"response\": 15\n            },\n            \"liked\": false,\n            \"pinned\": false\n        }\n    ],\n    \"agents\": [\n        \"804885b4-423e-485c-b215-92c7dfa8baa8\"\n    ],\n    \"pinned\": false\n}"
								}
							]
						},
						{
							"name": "Retrieve Streaming Chat Messages",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Messages\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.length).to.eql(1);\r",
											"    pm.expect(pm.environment.get(\"TEST_CHATMESSAGE9\") in jsonData.map((x, i) => {return x.id})).to.eql(false);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT7}}/messages",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT7}}",
										"messages"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Streaming Chat Messages",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT7}}/messages",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT7}}",
												"messages"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 15 May 2024 02:54:20 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "925"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "[\n    {\n        \"model\": \"azure~gpt-35-turbo\",\n        \"systemPrompt\": {\n            \"role\": \"system\",\n            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n            \"name\": null,\n            \"timestamp\": null\n        },\n        \"params\": {},\n        \"properties\": {},\n        \"id\": \"a621dadb-874a-434a-a7e7-e6d745817cc4\",\n        \"chat\": \"c4cace56-9ba3-4f7e-881f-f3f80b20c494\",\n        \"query\": {\n            \"role\": \"user\",\n            \"content\": \"Say this is a test\",\n            \"name\": null,\n            \"timestamp\": \"2024-05-15T02:52:29.622000Z\"\n        },\n        \"response\": {\n            \"role\": \"assistant\",\n            \"content\": \"This is a test! How can I assist you today?\",\n            \"name\": null,\n            \"timestamp\": \"2024-05-15T02:52:31.090000Z\",\n            \"finish_reason\": \"stop\"\n        },\n        \"tokens\": {\n            \"query\": 5,\n            \"systemPrompt\": 59,\n            \"queryWithContext\": 77,\n            \"response\": 12\n        },\n        \"liked\": false,\n        \"pinned\": false\n    }\n]"
								}
							]
						},
						{
							"name": "Retrieve Streaming  Chat Message 9",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Message\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_CHATMESSAGE9\"));\r",
											"    pm.expect(jsonData.chat).to.eql(pm.environment.get(\"TEST_CHAT7\"));\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-35-turbo\");\r",
											"    pm.expect(jsonData.systemPrompt.role).to.eql(\"system\");\r",
											"    pm.expect(jsonData.systemPrompt.content).to.eql(\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \");\r",
											"    pm.expect(jsonData.systemPrompt.name).to.eql(null);\r",
											"    pm.expect(jsonData.systemPrompt.timestamp).to.eql(null);\r",
											"    pm.expect(jsonData.params).to.eql({});\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.query.role).to.eql('user');\r",
											"    pm.expect(jsonData.query.content).to.eql('Say this is a test');\r",
											"    pm.expect(jsonData.query.timestamp).to.not.eql(null);\r",
											"    pm.expect(jsonData.response.role).eq('assistant');\r",
											"    pm.expect(jsonData.response.content).to.include('is a test');\r",
											"    pm.expect(jsonData.response.timestamp).to.not.eql(null);\r",
											"    pm.expect(Date.parse(jsonData.response.timestamp)).to.gt(Date.parse(jsonData.query.timestamp))\r",
											"    pm.expect(jsonData.tokens.query).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(59);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.eql(77);\r",
											"    pm.expect(jsonData.tokens.response).to.gte(5);\r",
											"})"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT7}}/messages/{{TEST_CHATMESSAGE9}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT7}}",
										"messages",
										"{{TEST_CHATMESSAGE9}}"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Streaming  Chat Message 9",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT7}}/messages/{{TEST_CHATMESSAGE9}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT7}}",
												"messages",
												"{{TEST_CHATMESSAGE9}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 15 May 2024 02:57:30 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "923"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"model\": \"azure~gpt-35-turbo\",\n    \"systemPrompt\": {\n        \"role\": \"system\",\n        \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n        \"name\": null,\n        \"timestamp\": null\n    },\n    \"params\": {},\n    \"properties\": {},\n    \"id\": \"cb4d0960-567b-4007-94f3-5bb3b403bae8\",\n    \"chat\": \"02717b12-6c97-4db8-bee3-95fb1022cd36\",\n    \"query\": {\n        \"role\": \"user\",\n        \"content\": \"Say this is a test\",\n        \"name\": null,\n        \"timestamp\": \"2024-05-15T02:55:22.575000Z\"\n    },\n    \"response\": {\n        \"role\": \"assistant\",\n        \"content\": \"This is a test! How can I assist you today?\",\n        \"name\": null,\n        \"timestamp\": \"2024-05-15T02:55:24.086000Z\",\n        \"finish_reason\": \"stop\"\n    },\n    \"tokens\": {\n        \"query\": 5,\n        \"systemPrompt\": 59,\n        \"queryWithContext\": 77,\n        \"response\": 12\n    },\n    \"liked\": false,\n    \"pinned\": false\n}"
								}
							]
						}
					]
				},
				{
					"name": "Continue Steaming Chat with Context",
					"item": [
						{
							"name": "Create Streaming Chat Message 10",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Successfully created a Chat Message\", function () {\r",
											"    var finish_reason = null\r",
											"    chunks = pm.response.text().split('\\n').filter(line => line.trim() !== '');\r",
											"    for (const c of chunks) {\r",
											"        chunk = JSON.parse(c);\r",
											"        console.log(chunk);\r",
											"\r",
											"        if (!finish_reason) {\r",
											"            pm.expect(chunk).to.have.property('role');\r",
											"            pm.expect(chunk).to.have.property('content');\r",
											"            pm.expect(chunk).to.have.property('finish_reason');\r",
											"\r",
											"            if (chunk.finish_reason){\r",
											"                finish_reason = chunk.finish_reason\r",
											"                pm.expect(finish_reason).to.be.oneOf([\"stop\",\r",
											"                                                    \"length\",\r",
											"                                                    \"tool_calls\",\r",
											"                                                    \"content_filter\",\r",
											"                                                    \"function_call\"]);\r",
											"                \r",
											"            }\r",
											"        } else {\r",
											"            pm.expect(chunk.id).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
											"            pm.expect(chunk.chat).to.eql(pm.environment.get(\"TEST_CHAT7\"));\r",
											"            pm.expect(chunk.model).to.eql(\"azure~gpt-35-turbo\");\r",
											"            pm.expect(chunk.systemPrompt.role).to.eql(\"system\");\r",
											"            pm.expect(chunk.systemPrompt.content).to.eql(\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \");\r",
											"            pm.expect(chunk.systemPrompt.name).to.eql(null);\r",
											"            pm.expect(chunk.systemPrompt.timestamp).to.eql(null);\r",
											"            pm.expect(chunk.params).to.eql({});\r",
											"            pm.expect(chunk.properties).to.eql({});\r",
											"            pm.expect(chunk.query.role).to.eql('user');\r",
											"            pm.expect(chunk.query.content).to.eql('Say this is another test');\r",
											"            pm.expect(chunk.query.timestamp).to.not.eql(null);\r",
											"            pm.expect(chunk.response.role).eq('assistant');\r",
											"            pm.expect(chunk.response.content).to.include('another test');\r",
											"            pm.expect(chunk.response.timestamp).to.not.eql(null);\r",
											"            pm.expect(Date.parse(chunk.response.timestamp)).to.gt(Date.parse(chunk.query.timestamp))\r",
											"            pm.expect(chunk.tokens.query).to.eql(5);\r",
											"            pm.expect(chunk.tokens.systemPrompt).to.eql(59);\r",
											"            pm.expect(chunk.tokens.queryWithContext).to.gte(90);\r",
											"            pm.expect(chunk.tokens.response).to.be.at.least(5);\r",
											"            pm.environment.set('TEST_CHATMESSAGE10', chunk.id);\r",
											"        }\r",
											"    }\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "content",
											"value": "Say this is another test",
											"type": "text"
										},
										{
											"key": "cloak",
											"value": "false",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT7}}/messages?streaming=true",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT7}}",
										"messages"
									],
									"query": [
										{
											"key": "streaming",
											"value": "true"
										}
									]
								}
							},
							"response": [
								{
									"name": "Create Streaming Chat Message 10",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "formdata",
											"formdata": [
												{
													"key": "content",
													"value": "Say this is another test",
													"type": "text"
												},
												{
													"key": "cloak",
													"value": "false",
													"type": "text"
												}
											]
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT7}}/messages?streaming=true",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT7}}",
												"messages"
											],
											"query": [
												{
													"key": "streaming",
													"value": "true"
												}
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "plain",
									"header": [
										{
											"key": "date",
											"value": "Wed, 15 May 2024 12:35:35 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-type",
											"value": "text/event-stream; charset=utf-8"
										},
										{
											"key": "transfer-encoding",
											"value": "chunked"
										}
									],
									"cookie": [],
									"body": "{\"role\":\"assistant\",\"content\":\"\",\"finish_reason\":null}\n{\"role\":null,\"content\":\"This\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" is\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" another\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" test\",\"finish_reason\":null}\n{\"role\":null,\"content\":\"!\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" How\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" can\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" I\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" assist\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" you\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" with\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" your\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" test\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" or\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" any\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" other\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" questions\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" you\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" have\",\"finish_reason\":null}\n{\"role\":null,\"content\":\"?\",\"finish_reason\":null}\n{\"role\":null,\"content\":null,\"finish_reason\":\"stop\"}\n{\"model\":\"azure~gpt-35-turbo\",\"systemPrompt\":{\"role\":\"system\",\"content\":\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\"name\":null,\"timestamp\":null},\"params\":{},\"properties\":{},\"id\":\"434fd4a9-642a-49e9-a424-f2099000efcf\",\"chat\":\"11fde8fe-8330-449d-9afa-3eb09f784fff\",\"query\":{\"role\":\"user\",\"content\":\"Say this is another test\",\"name\":null,\"timestamp\":\"2024-05-15T12:35:35.668686Z\"},\"response\":{\"role\":\"assistant\",\"content\":\"This is another test! How can I assist you with your test or any other questions you have?\",\"name\":null,\"timestamp\":\"2024-05-15T12:35:36.553160Z\",\"finish_reason\":\"stop\"},\"tokens\":{\"query\":5,\"systemPrompt\":59,\"queryWithContext\":103,\"response\":20}}\n"
								}
							]
						},
						{
							"name": "Create Streaming Chat Message 11",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Successfully created a Chat Message\", function () {\r",
											"    var finish_reason = null\r",
											"    chunks = pm.response.text().split('\\n').filter(line => line.trim() !== '');\r",
											"    for (const c of chunks) {\r",
											"        chunk = JSON.parse(c);\r",
											"        console.log(chunk);\r",
											"\r",
											"        if (!finish_reason) {\r",
											"            pm.expect(chunk).to.have.property('role');\r",
											"            pm.expect(chunk).to.have.property('content');\r",
											"            pm.expect(chunk).to.have.property('finish_reason');\r",
											"\r",
											"            if (chunk.finish_reason){\r",
											"                finish_reason = chunk.finish_reason\r",
											"                pm.expect(finish_reason).to.be.oneOf([\"stop\",\r",
											"                                                    \"length\",\r",
											"                                                    \"tool_calls\",\r",
											"                                                    \"content_filter\",\r",
											"                                                    \"function_call\"]);\r",
											"                \r",
											"            }\r",
											"        } else {\r",
											"            pm.expect(chunk.id).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
											"            pm.expect(chunk.chat).to.eql(pm.environment.get(\"TEST_CHAT7\"));\r",
											"            pm.expect(chunk.model).to.eql(\"azure~gpt-35-turbo\");\r",
											"            pm.expect(chunk.systemPrompt.role).to.eql(\"system\");\r",
											"            pm.expect(chunk.systemPrompt.content).to.eql(\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \");\r",
											"            pm.expect(chunk.systemPrompt.name).to.eql(null);\r",
											"            pm.expect(chunk.systemPrompt.timestamp).to.eql(null);\r",
											"            pm.expect(chunk.params).to.eql({});\r",
											"            pm.expect(chunk.properties).to.eql({});\r",
											"            pm.expect(chunk.query.role).to.eql('user');\r",
											"            pm.expect(chunk.query.content).to.eql('Say this is the third test');\r",
											"            pm.expect(chunk.query.timestamp).to.not.eql(null);\r",
											"            pm.expect(chunk.response.role).eq('assistant');\r",
											"            pm.expect(chunk.response.content).to.include('the third test');\r",
											"            pm.expect(chunk.response.timestamp).to.not.eql(null);\r",
											"            pm.expect(Date.parse(chunk.response.timestamp)).to.gt(Date.parse(chunk.query.timestamp))\r",
											"            pm.expect(chunk.tokens.query).to.eql(6);\r",
											"            pm.expect(chunk.tokens.systemPrompt).to.eql(59);\r",
											"            pm.expect(chunk.tokens.queryWithContext).to.gte(110);\r",
											"            pm.expect(chunk.tokens.response).to.be.at.least(6);\r",
											"            pm.environment.set('TEST_CHATMESSAGE11', chunk.id);\r",
											"        }\r",
											"    }\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "content",
											"value": "Say this is the third test",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT7}}/messages?streaming=true&cloak=false",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT7}}",
										"messages"
									],
									"query": [
										{
											"key": "streaming",
											"value": "true"
										},
										{
											"key": "cloak",
											"value": "false"
										}
									]
								}
							},
							"response": [
								{
									"name": "Create Streaming Chat Message 11",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "formdata",
											"formdata": [
												{
													"key": "content",
													"value": "Say this is the third test",
													"type": "text"
												},
												{
													"key": "cloak",
													"value": "false",
													"type": "text"
												}
											]
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT7}}/messages?streaming=true",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT7}}",
												"messages"
											],
											"query": [
												{
													"key": "streaming",
													"value": "true"
												}
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "plain",
									"header": [
										{
											"key": "date",
											"value": "Wed, 15 May 2024 13:14:39 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-type",
											"value": "text/event-stream; charset=utf-8"
										},
										{
											"key": "transfer-encoding",
											"value": "chunked"
										}
									],
									"cookie": [],
									"body": "{\"role\":\"assistant\",\"content\":\"\",\"finish_reason\":null}\n{\"role\":null,\"content\":\"This\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" is\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" the\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" third\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" test\",\"finish_reason\":null}\n{\"role\":null,\"content\":\"!\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" Is\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" there\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" anything\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" specific\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" you\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" would\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" like\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" assistance\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" with\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" for\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" this\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" test\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" or\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" any\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" other\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" questions\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" you\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" have\",\"finish_reason\":null}\n{\"role\":null,\"content\":\"?\",\"finish_reason\":null}\n{\"role\":null,\"content\":null,\"finish_reason\":\"stop\"}\n{\"model\":\"azure~gpt-35-turbo\",\"systemPrompt\":{\"role\":\"system\",\"content\":\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\"name\":null,\"timestamp\":null},\"params\":{},\"properties\":{},\"id\":\"fed60ee9-2dc7-47f0-8b73-8f48873b5c85\",\"chat\":\"11fde8fe-8330-449d-9afa-3eb09f784fff\",\"query\":{\"role\":\"user\",\"content\":\"Say this is the third test\",\"name\":null,\"timestamp\":\"2024-05-15T13:14:40.268312Z\"},\"response\":{\"role\":\"assistant\",\"content\":\"This is the third test! Is there anything specific you would like assistance with for this test or any other questions you have?\",\"name\":null,\"timestamp\":\"2024-05-15T13:14:42.414107Z\",\"finish_reason\":\"stop\"},\"tokens\":{\"query\":6,\"systemPrompt\":59,\"queryWithContext\":138,\"response\":25}}\n"
								}
							]
						},
						{
							"name": "Retrieve Streaming Chat",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_CHAT7\"));\r",
											"    pm.expect(jsonData.name).to.eql(\"Say This Is A Test\");\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-35-turbo\");\r",
											"    pm.expect(jsonData.systemPrompt.template).to.eql(\"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.personality).to.eql(\"helpful, clever, and very friendly\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.instructions).to.eql(\"You serve as a personal assistant to public officers in singapore\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.guardrails).to.eql(\"You will not answer politically sensitive topics\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.knowledgeBase).to.eql(\"\");\r",
											"    pm.expect(jsonData.systemPrompt.placeholders.length).to.eql(4);\r",
											"    pm.expect(jsonData.userPrompt.template).to.eql(null);\r",
											"    pm.expect(jsonData.userPrompt.variables).to.eql({});\r",
											"    pm.expect(jsonData.userPrompt.placeholders.length).to.eql(0);\r",
											"    pm.expect(jsonData.params).to.eql({});\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.tokens.query).to.eql(6);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(59);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.gte(80);\r",
											"    pm.expect(jsonData.tokens.response).to.gte(6);\r",
											"    pm.expect(jsonData.tokens.queries_total).to.eql(16);\r",
											"    pm.expect(jsonData.tokens.responses_total).to.gte(16);\r",
											"    pm.expect(jsonData.messages.length).to.eql(3);\r",
											"    pm.expect(jsonData.pinned).to.eql(false);\r",
											"})"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT7}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT7}}"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Streaming Chat",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT7}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT7}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Fri, 31 May 2024 09:09:30 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "8301"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"modifications\": {\n        \"create\": {\n            \"type\": \"create\",\n            \"user_type\": \"user\",\n            \"timestamp\": \"2024-05-31T09:09:04.557000Z\",\n            \"user\": \"5eb6e5cd-ef03-5f88-a494-eb7dacd950ad\",\n            \"details\": {\n                \"id\": \"4d0a4ff6-0b1c-421b-ab4b-f8f49ce548a0\",\n                \"name\": \"\",\n                \"agents\": [\n                    \"804885b4-423e-485c-b215-92c7dfa8baa8\"\n                ],\n                \"user_prompt\": {\n                    \"template\": null,\n                    \"variables\": {},\n                    \"placeholders\": []\n                },\n                \"systemPrompt\": {\n                    \"template\": \"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\",\n                    \"variables\": {\n                        \"personality\": \"helpful, clever, and very friendly\",\n                        \"instructions\": \"You serve as a personal assistant to public officers in singapore\",\n                        \"guardrails\": \"You will not answer politically sensitive topics\",\n                        \"knowledgeBase\": \"\"\n                    },\n                    \"placeholders\": [\n                        \"personality\",\n                        \"instructions\",\n                        \"guardrails\",\n                        \"knowledgeBase\"\n                    ]\n                },\n                \"params\": {},\n                \"properties\": {},\n                \"model\": \"azure~gpt-35-turbo\",\n                \"pinned\": false\n            }\n        },\n        \"update\": {\n            \"type\": \"update\",\n            \"user_type\": \"user\",\n            \"timestamp\": \"2024-05-31T09:09:25.084000Z\",\n            \"user\": \"5eb6e5cd-ef03-5f88-a494-eb7dacd950ad\",\n            \"details\": {\n                \"messages\": [\n                    {\n                        \"_id\": \"df4df698-dbe7-4cce-816c-22044ac34334\",\n                        \"revision_id\": null,\n                        \"model\": \"azure~gpt-35-turbo\",\n                        \"systemPrompt\": {\n                            \"role\": \"system\",\n                            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n                            \"name\": null,\n                            \"timestamp\": null,\n                            \"options\": null\n                        },\n                        \"params\": {},\n                        \"properties\": {},\n                        \"chat\": \"4d0a4ff6-0b1c-421b-ab4b-f8f49ce548a0\",\n                        \"query\": {\n                            \"role\": \"user\",\n                            \"content\": \"Say this is a test\",\n                            \"name\": null,\n                            \"timestamp\": \"2024-05-31T09:09:08.821000Z\",\n                            \"options\": null\n                        },\n                        \"response\": {\n                            \"role\": \"assistant\",\n                            \"content\": \"This is a test! How can I assist you further?\",\n                            \"name\": null,\n                            \"timestamp\": \"2024-05-31T09:09:09.542000Z\",\n                            \"options\": null,\n                            \"finish_reason\": \"stop\"\n                        },\n                        \"tokens\": {\n                            \"query\": 5,\n                            \"systemPrompt\": 59,\n                            \"queryWithContext\": 77,\n                            \"response\": 12\n                        },\n                        \"liked\": false,\n                        \"pinned\": false\n                    },\n                    {\n                        \"_id\": \"296335b1-2e9d-4bf9-b1c8-a35a83b71601\",\n                        \"revision_id\": null,\n                        \"model\": \"azure~gpt-35-turbo\",\n                        \"systemPrompt\": {\n                            \"role\": \"system\",\n                            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n                            \"name\": null,\n                            \"timestamp\": null,\n                            \"options\": null\n                        },\n                        \"params\": {},\n                        \"properties\": {},\n                        \"chat\": \"4d0a4ff6-0b1c-421b-ab4b-f8f49ce548a0\",\n                        \"query\": {\n                            \"role\": \"user\",\n                            \"content\": \"Say this is another test\",\n                            \"name\": null,\n                            \"timestamp\": \"2024-05-31T09:09:17.953000Z\",\n                            \"options\": null\n                        },\n                        \"response\": {\n                            \"role\": \"assistant\",\n                            \"content\": \"This is another test! How can I assist you with your testing needs?\",\n                            \"name\": null,\n                            \"timestamp\": \"2024-05-31T09:09:18.716000Z\",\n                            \"options\": null,\n                            \"finish_reason\": \"stop\"\n                        },\n                        \"tokens\": {\n                            \"query\": 5,\n                            \"systemPrompt\": 59,\n                            \"queryWithContext\": 102,\n                            \"response\": 15\n                        },\n                        \"liked\": false,\n                        \"pinned\": false\n                    },\n                    {\n                        \"_id\": \"a657b8b6-1b93-4e5c-859f-9185abd6f347\",\n                        \"revision_id\": null,\n                        \"model\": \"azure~gpt-35-turbo\",\n                        \"systemPrompt\": {\n                            \"role\": \"system\",\n                            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n                            \"name\": null,\n                            \"timestamp\": null,\n                            \"options\": null\n                        },\n                        \"params\": {},\n                        \"properties\": {},\n                        \"chat\": \"4d0a4ff6-0b1c-421b-ab4b-f8f49ce548a0\",\n                        \"query\": {\n                            \"role\": \"user\",\n                            \"content\": \"Say this is the third test\",\n                            \"name\": null,\n                            \"timestamp\": \"2024-05-31T09:09:23.882000Z\",\n                            \"options\": null\n                        },\n                        \"response\": {\n                            \"role\": \"assistant\",\n                            \"content\": \"This is the third test! Let me know how else I can help you with your testing or if you have any other queries!\",\n                            \"name\": null,\n                            \"timestamp\": \"2024-05-31T09:09:25.078000Z\",\n                            \"options\": null,\n                            \"finish_reason\": \"stop\"\n                        },\n                        \"tokens\": {\n                            \"query\": 6,\n                            \"systemPrompt\": 59,\n                            \"queryWithContext\": 132,\n                            \"response\": 26\n                        },\n                        \"liked\": false,\n                        \"pinned\": false\n                    }\n                ],\n                \"tokens\": {\n                    \"query\": 6,\n                    \"systemPrompt\": 59,\n                    \"queryWithContext\": 132,\n                    \"response\": 26,\n                    \"queries_total\": 16,\n                    \"responses_total\": 53\n                }\n            }\n        }\n    },\n    \"name\": \"Say This Is A Test\",\n    \"model\": \"azure~gpt-35-turbo\",\n    \"systemPrompt\": {\n        \"template\": \"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\",\n        \"variables\": {\n            \"personality\": \"helpful, clever, and very friendly\",\n            \"instructions\": \"You serve as a personal assistant to public officers in singapore\",\n            \"guardrails\": \"You will not answer politically sensitive topics\",\n            \"knowledgeBase\": \"\"\n        },\n        \"placeholders\": [\n            \"personality\",\n            \"instructions\",\n            \"guardrails\",\n            \"knowledgeBase\"\n        ]\n    },\n    \"params\": {},\n    \"properties\": {},\n    \"id\": \"4d0a4ff6-0b1c-421b-ab4b-f8f49ce548a0\",\n    \"userPrompt\": {\n        \"template\": null,\n        \"variables\": {},\n        \"placeholders\": []\n    },\n    \"tokens\": {\n        \"query\": 6,\n        \"systemPrompt\": 59,\n        \"queryWithContext\": 132,\n        \"response\": 26,\n        \"queries_total\": 16,\n        \"responses_total\": 53\n    },\n    \"messages\": [\n        {\n            \"model\": \"azure~gpt-35-turbo\",\n            \"systemPrompt\": {\n                \"role\": \"system\",\n                \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n                \"name\": null,\n                \"timestamp\": null,\n                \"options\": null\n            },\n            \"params\": {},\n            \"properties\": {},\n            \"id\": \"df4df698-dbe7-4cce-816c-22044ac34334\",\n            \"chat\": \"4d0a4ff6-0b1c-421b-ab4b-f8f49ce548a0\",\n            \"query\": {\n                \"role\": \"user\",\n                \"content\": \"Say this is a test\",\n                \"name\": null,\n                \"timestamp\": \"2024-05-31T09:09:08.821000Z\",\n                \"options\": null\n            },\n            \"response\": {\n                \"role\": \"assistant\",\n                \"content\": \"This is a test! How can I assist you further?\",\n                \"name\": null,\n                \"timestamp\": \"2024-05-31T09:09:09.542000Z\",\n                \"options\": null,\n                \"finish_reason\": \"stop\"\n            },\n            \"tokens\": {\n                \"query\": 5,\n                \"systemPrompt\": 59,\n                \"queryWithContext\": 77,\n                \"response\": 12\n            },\n            \"liked\": false,\n            \"pinned\": false\n        },\n        {\n            \"model\": \"azure~gpt-35-turbo\",\n            \"systemPrompt\": {\n                \"role\": \"system\",\n                \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n                \"name\": null,\n                \"timestamp\": null,\n                \"options\": null\n            },\n            \"params\": {},\n            \"properties\": {},\n            \"id\": \"296335b1-2e9d-4bf9-b1c8-a35a83b71601\",\n            \"chat\": \"4d0a4ff6-0b1c-421b-ab4b-f8f49ce548a0\",\n            \"query\": {\n                \"role\": \"user\",\n                \"content\": \"Say this is another test\",\n                \"name\": null,\n                \"timestamp\": \"2024-05-31T09:09:17.953000Z\",\n                \"options\": null\n            },\n            \"response\": {\n                \"role\": \"assistant\",\n                \"content\": \"This is another test! How can I assist you with your testing needs?\",\n                \"name\": null,\n                \"timestamp\": \"2024-05-31T09:09:18.716000Z\",\n                \"options\": null,\n                \"finish_reason\": \"stop\"\n            },\n            \"tokens\": {\n                \"query\": 5,\n                \"systemPrompt\": 59,\n                \"queryWithContext\": 102,\n                \"response\": 15\n            },\n            \"liked\": false,\n            \"pinned\": false\n        },\n        {\n            \"model\": \"azure~gpt-35-turbo\",\n            \"systemPrompt\": {\n                \"role\": \"system\",\n                \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n                \"name\": null,\n                \"timestamp\": null,\n                \"options\": null\n            },\n            \"params\": {},\n            \"properties\": {},\n            \"id\": \"a657b8b6-1b93-4e5c-859f-9185abd6f347\",\n            \"chat\": \"4d0a4ff6-0b1c-421b-ab4b-f8f49ce548a0\",\n            \"query\": {\n                \"role\": \"user\",\n                \"content\": \"Say this is the third test\",\n                \"name\": null,\n                \"timestamp\": \"2024-05-31T09:09:23.882000Z\",\n                \"options\": null\n            },\n            \"response\": {\n                \"role\": \"assistant\",\n                \"content\": \"This is the third test! Let me know how else I can help you with your testing or if you have any other queries!\",\n                \"name\": null,\n                \"timestamp\": \"2024-05-31T09:09:25.078000Z\",\n                \"options\": null,\n                \"finish_reason\": \"stop\"\n            },\n            \"tokens\": {\n                \"query\": 6,\n                \"systemPrompt\": 59,\n                \"queryWithContext\": 132,\n                \"response\": 26\n            },\n            \"liked\": false,\n            \"pinned\": false\n        }\n    ],\n    \"agents\": [\n        \"804885b4-423e-485c-b215-92c7dfa8baa8\"\n    ],\n    \"pinned\": false\n}"
								}
							]
						},
						{
							"name": "Retrieve Streaming Chat Messages",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Messages\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.length).to.eql(3);\r",
											"    pm.expect(jsonData[0].id).to.eql(pm.environment.get(\"TEST_CHATMESSAGE9\"));\r",
											"    pm.expect(jsonData[1].id).to.eql(pm.environment.get(\"TEST_CHATMESSAGE10\"));\r",
											"    pm.expect(jsonData[2].id).to.eql(pm.environment.get(\"TEST_CHATMESSAGE11\"));\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT7}}/messages",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT7}}",
										"messages"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Streaming Chat Messages",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT7}}/messages",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT7}}",
												"messages"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 15 May 2024 13:18:53 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "2929"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "[\n    {\n        \"model\": \"azure~gpt-35-turbo\",\n        \"systemPrompt\": {\n            \"role\": \"system\",\n            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n            \"name\": null,\n            \"timestamp\": null\n        },\n        \"params\": {},\n        \"properties\": {},\n        \"id\": \"aa5f4711-9da3-4d57-8ccd-4e2bd539aca3\",\n        \"chat\": \"11fde8fe-8330-449d-9afa-3eb09f784fff\",\n        \"query\": {\n            \"role\": \"user\",\n            \"content\": \"Say this is a test\",\n            \"name\": null,\n            \"timestamp\": \"2024-05-15T12:35:33.243000Z\"\n        },\n        \"response\": {\n            \"role\": \"assistant\",\n            \"content\": \"This is a test! How can I assist you further today?\",\n            \"name\": null,\n            \"timestamp\": \"2024-05-15T12:35:34.792000Z\",\n            \"finish_reason\": \"stop\"\n        },\n        \"tokens\": {\n            \"query\": 5,\n            \"systemPrompt\": 59,\n            \"queryWithContext\": 77,\n            \"response\": 13\n        },\n        \"liked\": false,\n        \"pinned\": false\n    },\n    {\n        \"model\": \"azure~gpt-35-turbo\",\n        \"systemPrompt\": {\n            \"role\": \"system\",\n            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n            \"name\": null,\n            \"timestamp\": null\n        },\n        \"params\": {},\n        \"properties\": {},\n        \"id\": \"434fd4a9-642a-49e9-a424-f2099000efcf\",\n        \"chat\": \"11fde8fe-8330-449d-9afa-3eb09f784fff\",\n        \"query\": {\n            \"role\": \"user\",\n            \"content\": \"Say this is another test\",\n            \"name\": null,\n            \"timestamp\": \"2024-05-15T12:35:35.668000Z\"\n        },\n        \"response\": {\n            \"role\": \"assistant\",\n            \"content\": \"This is another test! How can I assist you with your test or any other questions you have?\",\n            \"name\": null,\n            \"timestamp\": \"2024-05-15T12:35:36.553000Z\",\n            \"finish_reason\": \"stop\"\n        },\n        \"tokens\": {\n            \"query\": 5,\n            \"systemPrompt\": 59,\n            \"queryWithContext\": 103,\n            \"response\": 20\n        },\n        \"liked\": false,\n        \"pinned\": false\n    },\n    {\n        \"model\": \"azure~gpt-35-turbo\",\n        \"systemPrompt\": {\n            \"role\": \"system\",\n            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n            \"name\": null,\n            \"timestamp\": null\n        },\n        \"params\": {},\n        \"properties\": {},\n        \"id\": \"fed60ee9-2dc7-47f0-8b73-8f48873b5c85\",\n        \"chat\": \"11fde8fe-8330-449d-9afa-3eb09f784fff\",\n        \"query\": {\n            \"role\": \"user\",\n            \"content\": \"Say this is the third test\",\n            \"name\": null,\n            \"timestamp\": \"2024-05-15T13:14:40.268000Z\"\n        },\n        \"response\": {\n            \"role\": \"assistant\",\n            \"content\": \"This is the third test! Is there anything specific you would like assistance with for this test or any other questions you have?\",\n            \"name\": null,\n            \"timestamp\": \"2024-05-15T13:14:42.414000Z\",\n            \"finish_reason\": \"stop\"\n        },\n        \"tokens\": {\n            \"query\": 6,\n            \"systemPrompt\": 59,\n            \"queryWithContext\": 138,\n            \"response\": 25\n        },\n        \"liked\": false,\n        \"pinned\": false\n    }\n]"
								}
							]
						},
						{
							"name": "Retrieve Streaming Chat Message 10",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Message\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_CHATMESSAGE10\"));\r",
											"    pm.expect(jsonData.chat).to.eql(pm.environment.get(\"TEST_CHAT7\"));\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-35-turbo\");\r",
											"    pm.expect(jsonData.systemPrompt.role).to.eql(\"system\");\r",
											"    pm.expect(jsonData.systemPrompt.content).to.eql(\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \");\r",
											"    pm.expect(jsonData.systemPrompt.name).to.eql(null);\r",
											"    pm.expect(jsonData.systemPrompt.timestamp).to.eql(null);\r",
											"    pm.expect(jsonData.params).to.eql({});\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.query.role).to.eql('user');\r",
											"    pm.expect(jsonData.query.content).to.eql('Say this is another test');\r",
											"    pm.expect(jsonData.query.timestamp).to.not.eql(null);\r",
											"    pm.expect(jsonData.response.role).eq('assistant');\r",
											"    pm.expect(jsonData.response.content).to.include('is another test');\r",
											"    pm.expect(jsonData.response.timestamp).to.not.eql(null);\r",
											"    pm.expect(Date.parse(jsonData.response.timestamp)).to.gt(Date.parse(jsonData.query.timestamp))\r",
											"    pm.expect(jsonData.tokens.query).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(59);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.gte(90);\r",
											"    pm.expect(jsonData.tokens.response).to.gte(5);\r",
											"})"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT7}}/messages/{{TEST_CHATMESSAGE10}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT7}}",
										"messages",
										"{{TEST_CHATMESSAGE10}}"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Streaming Chat Message 10",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT7}}/messages/{{TEST_CHATMESSAGE10}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT7}}",
												"messages",
												"{{TEST_CHATMESSAGE10}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 15 May 2024 13:20:05 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "977"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"model\": \"azure~gpt-35-turbo\",\n    \"systemPrompt\": {\n        \"role\": \"system\",\n        \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n        \"name\": null,\n        \"timestamp\": null\n    },\n    \"params\": {},\n    \"properties\": {},\n    \"id\": \"434fd4a9-642a-49e9-a424-f2099000efcf\",\n    \"chat\": \"11fde8fe-8330-449d-9afa-3eb09f784fff\",\n    \"query\": {\n        \"role\": \"user\",\n        \"content\": \"Say this is another test\",\n        \"name\": null,\n        \"timestamp\": \"2024-05-15T12:35:35.668000Z\"\n    },\n    \"response\": {\n        \"role\": \"assistant\",\n        \"content\": \"This is another test! How can I assist you with your test or any other questions you have?\",\n        \"name\": null,\n        \"timestamp\": \"2024-05-15T12:35:36.553000Z\",\n        \"finish_reason\": \"stop\"\n    },\n    \"tokens\": {\n        \"query\": 5,\n        \"systemPrompt\": 59,\n        \"queryWithContext\": 103,\n        \"response\": 20\n    },\n    \"liked\": false,\n    \"pinned\": false\n}"
								}
							]
						},
						{
							"name": "Retrieve Streaming Chat Message 11",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Message\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_CHATMESSAGE11\"));\r",
											"    pm.expect(jsonData.chat).to.eql(pm.environment.get(\"TEST_CHAT7\"));\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-35-turbo\");\r",
											"    pm.expect(jsonData.systemPrompt.role).to.eql(\"system\");\r",
											"    pm.expect(jsonData.systemPrompt.content).to.eql(\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \");\r",
											"    pm.expect(jsonData.systemPrompt.name).to.eql(null);\r",
											"    pm.expect(jsonData.systemPrompt.timestamp).to.eql(null);\r",
											"    pm.expect(jsonData.params).to.eql({});\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.query.role).to.eql('user');\r",
											"    pm.expect(jsonData.query.content).to.eql('Say this is the third test');\r",
											"    pm.expect(jsonData.query.timestamp).to.not.eql(null);\r",
											"    pm.expect(jsonData.response.role).eq('assistant');\r",
											"    pm.expect(jsonData.response.content).to.include('the third test');\r",
											"    pm.expect(jsonData.response.timestamp).to.not.eql(null);\r",
											"    pm.expect(Date.parse(jsonData.response.timestamp)).to.gt(Date.parse(jsonData.query.timestamp))\r",
											"    pm.expect(jsonData.tokens.query).to.eql(6);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(59);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.gte(110);\r",
											"    pm.expect(jsonData.tokens.response).to.gte(6);\r",
											"})"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT7}}/messages/{{TEST_CHATMESSAGE11}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT7}}",
										"messages",
										"{{TEST_CHATMESSAGE11}}"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Chat Message 3",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT7}}/messages/{{TEST_CHATMESSAGE11}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT7}}",
												"messages",
												"{{TEST_CHATMESSAGE11}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Wed, 15 May 2024 13:20:49 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "1017"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"model\": \"azure~gpt-35-turbo\",\n    \"systemPrompt\": {\n        \"role\": \"system\",\n        \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n        \"name\": null,\n        \"timestamp\": null\n    },\n    \"params\": {},\n    \"properties\": {},\n    \"id\": \"fed60ee9-2dc7-47f0-8b73-8f48873b5c85\",\n    \"chat\": \"11fde8fe-8330-449d-9afa-3eb09f784fff\",\n    \"query\": {\n        \"role\": \"user\",\n        \"content\": \"Say this is the third test\",\n        \"name\": null,\n        \"timestamp\": \"2024-05-15T13:14:40.268000Z\"\n    },\n    \"response\": {\n        \"role\": \"assistant\",\n        \"content\": \"This is the third test! Is there anything specific you would like assistance with for this test or any other questions you have?\",\n        \"name\": null,\n        \"timestamp\": \"2024-05-15T13:14:42.414000Z\",\n        \"finish_reason\": \"stop\"\n    },\n    \"tokens\": {\n        \"query\": 6,\n        \"systemPrompt\": 59,\n        \"queryWithContext\": 138,\n        \"response\": 25\n    },\n    \"liked\": false,\n    \"pinned\": false\n}"
								}
							]
						}
					]
				}
			]
		},
		{
			"name": "Chat with Agent",
			"item": [
				{
					"name": "Invalid Agents",
					"item": [
						{
							"name": "Attempt to chat with invalid Agent",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 404\", function () {\r",
											"    pm.response.to.have.status(404);\r",
											"});\r",
											"pm.test(\"Agent(s) does not exist message\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.message).to.eq(\"Agent(s) does not exist\");\r",
											"    pm.expect(jsonData.details.ids).to.include(pm.environment.get(\"TEST_NONEXISTENT_ID\"));\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\"agents\":[\"{{TEST_NONEXISTENT_ID}}\"]}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats"
									]
								}
							},
							"response": [
								{
									"name": "Attempt to chat with invalid Agent",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\"agents\":[\"{{TEST_NONEXISTENT_ID}}\"]}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats"
											]
										}
									},
									"status": "Not Found",
									"code": 404,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Fri, 31 May 2024 09:51:07 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "1025"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 404,\n    \"message\": \"Agent(s) does not exist\",\n    \"request\": {\n        \"url\": \"http://localhost:20002/latest/chats\",\n        \"headers\": {\n            \"content-type\": \"application/json\",\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJEU0FJRCwgR292VGVjaCIsInN1YiI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsImF1ZCI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsIm5iZiI6MTcxNzE0ODQ2MywiaWF0IjoxNzE3MTQ4NDYzLCJleHAiOjE3MTcxNTU2NjMsImp0aSI6IjUzOGEwMjM5LTI2YjItNDcxMS1iYTIxLTJiYWEyNjJiYzU3NyIsImF0X2hhc2giOiIyNmJEdzhTNERpQTU2cUd5bFJpOFB3In0.V0UutjG5EIXeCQR2Mb2X7aFRllONA_4VYEYiBb6izrc\",\n            \"user-agent\": \"PostmanRuntime/7.39.0\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"cfabb086-e157-4fa8-9b89-7704be80206b\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\",\n            \"content-length\": \"51\"\n        },\n        \"path_params\": {},\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 49445\n        },\n        \"body\": {\n            \"agents\": [\n                \"cfd12775-0923-4be7-8112-2c71a6a3f571\"\n            ]\n        }\n    },\n    \"details\": {\n        \"ids\": [\n            \"cfd12775-0923-4be7-8112-2c71a6a3f571\"\n        ]\n    }\n}"
								}
							]
						},
						{
							"name": "Attempt to chat with some invalid Agents",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 404\", function () {\r",
											"    pm.response.to.have.status(404);\r",
											"});\r",
											"pm.test(\"Agent(s) does not exist message\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.message).to.eq(\"Agent(s) does not exist\");\r",
											"    pm.expect(jsonData.details.ids).to.include(pm.environment.get(\"TEST_NONEXISTENT_ID\"));\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\"agents\":[\"{{TEST_NONEXISTENT_ID}}\",\"{{DEFAULT_PLAYGROUND_AGENT_ID}}\"]}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats"
									]
								}
							},
							"response": [
								{
									"name": "Attempt to chat with some invalid Agents",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\"agents\":[\"{{TEST_NONEXISTENT_ID}}\",\"{{DEFAULT_PLAYGROUND_AGENT_ID}}\"]}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats"
											]
										}
									},
									"status": "Not Found",
									"code": 404,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Fri, 31 May 2024 09:57:07 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "1064"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"code\": 404,\n    \"message\": \"Agent(s) does not exist\",\n    \"request\": {\n        \"url\": \"http://localhost:20002/latest/chats\",\n        \"headers\": {\n            \"content-type\": \"application/json\",\n            \"authorization\": \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJEU0FJRCwgR292VGVjaCIsInN1YiI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsImF1ZCI6IjVlYjZlNWNkLWVmMDMtNWY4OC1hNDk0LWViN2RhY2Q5NTBhZCIsIm5iZiI6MTcxNzE0ODQ2MywiaWF0IjoxNzE3MTQ4NDYzLCJleHAiOjE3MTcxNTU2NjMsImp0aSI6IjUzOGEwMjM5LTI2YjItNDcxMS1iYTIxLTJiYWEyNjJiYzU3NyIsImF0X2hhc2giOiIyNmJEdzhTNERpQTU2cUd5bFJpOFB3In0.V0UutjG5EIXeCQR2Mb2X7aFRllONA_4VYEYiBb6izrc\",\n            \"user-agent\": \"PostmanRuntime/7.39.0\",\n            \"accept\": \"*/*\",\n            \"cache-control\": \"no-cache\",\n            \"postman-token\": \"ba575191-0d6e-4f8a-aa18-dbe5991e6145\",\n            \"host\": \"localhost:20002\",\n            \"accept-encoding\": \"gzip, deflate, br\",\n            \"connection\": \"keep-alive\",\n            \"content-length\": \"90\"\n        },\n        \"path_params\": {},\n        \"query_params\": {},\n        \"client\": {\n            \"host\": \"127.0.0.1\",\n            \"port\": 54424\n        },\n        \"body\": {\n            \"agents\": [\n                \"cfd12775-0923-4be7-8112-2c71a6a3f571\",\n                \"804885b4-423e-485c-b215-92c7dfa8baa8\"\n            ]\n        }\n    },\n    \"details\": {\n        \"ids\": [\n            \"cfd12775-0923-4be7-8112-2c71a6a3f571\"\n        ]\n    }\n}"
								}
							]
						}
					]
				},
				{
					"name": "Default Agent",
					"item": [
						{
							"name": "Create Default Agent Chat",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Successfully created a Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
											"    pm.environment.set('TEST_CHAT_DEFAULT', jsonData.id)\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats"
									]
								}
							},
							"response": [
								{
									"name": "Create Default Agent Chat",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Mon, 03 Jun 2024 03:19:07 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "45"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"id\": \"3da84d31-935b-4c52-9671-c8f3ac5a0ab6\"\n}"
								}
							]
						},
						{
							"name": "Create Default Agent Streaming Chat Message",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Successfully created a Chat Message\", function () {\r",
											"    var finish_reason = null\r",
											"    console.log(pm.response.text());\r",
											"    chunks = pm.response.text().split('\\n').filter(line => line.trim() !== '');\r",
											"    for (const c of chunks) {\r",
											"        chunk = JSON.parse(c);\r",
											"        console.log(chunk);\r",
											"\r",
											"        if (!finish_reason) {\r",
											"            pm.expect(chunk).to.have.property('role');\r",
											"            pm.expect(chunk).to.have.property('content');\r",
											"            pm.expect(chunk).to.have.property('finish_reason');\r",
											"\r",
											"            if (chunk.finish_reason){\r",
											"                finish_reason = chunk.finish_reason\r",
											"                pm.expect(finish_reason).to.be.oneOf([\"stop\",\r",
											"                                                    \"length\",\r",
											"                                                    \"tool_calls\",\r",
											"                                                    \"content_filter\",\r",
											"                                                    \"function_call\"]);\r",
											"                \r",
											"            }\r",
											"        } else {\r",
											"            pm.expect(chunk.id).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
											"            pm.expect(chunk.chat).to.eql(pm.environment.get(\"TEST_CHAT_DEFAULT\"));\r",
											"            pm.expect(chunk.model).to.eql(\"azure~gpt-35-turbo\");\r",
											"            pm.expect(chunk.systemPrompt.role).to.eql(\"system\");\r",
											"            pm.expect(chunk.systemPrompt.content).to.eql(\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \");\r",
											"            pm.expect(chunk.systemPrompt.name).to.eql(null);\r",
											"            pm.expect(chunk.systemPrompt.timestamp).to.eql(null);\r",
											"            pm.expect(chunk.params).to.eql({});\r",
											"            pm.expect(chunk.properties).to.eql({});\r",
											"            pm.expect(chunk.query.role).to.eql('user');\r",
											"            pm.expect(chunk.query.content).to.eql('Say this is a test');\r",
											"            pm.expect(chunk.query.timestamp).to.not.eql(null);\r",
											"            pm.expect(chunk.response.role).eq('assistant');\r",
											"            pm.expect(chunk.response.content).to.include('is a test');\r",
											"            pm.expect(chunk.response.timestamp).to.not.eql(null);\r",
											"            pm.expect(Date.parse(chunk.response.timestamp)).to.gt(Date.parse(chunk.query.timestamp))\r",
											"            pm.expect(chunk.tokens.query).to.eql(5);\r",
											"            pm.expect(chunk.tokens.systemPrompt).to.eql(59);\r",
											"            pm.expect(chunk.tokens.queryWithContext).to.eql(77);\r",
											"            pm.expect(chunk.tokens.response).to.be.at.least(5);\r",
											"            pm.environment.set('TEST_CHATMESSAGE10', chunk.id)\r",
											"        }\r",
											"    }\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "content",
											"value": "Say this is a test",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT_DEFAULT}}/messages?streaming=true&cloak=false",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT_DEFAULT}}",
										"messages"
									],
									"query": [
										{
											"key": "streaming",
											"value": "true"
										},
										{
											"key": "cloak",
											"value": "false"
										}
									]
								}
							},
							"response": [
								{
									"name": "Create Default Agent Streaming Chat Message",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "formdata",
											"formdata": [
												{
													"key": "content",
													"value": "Say this is a test",
													"type": "text"
												},
												{
													"key": "cloak",
													"value": "false",
													"type": "text"
												}
											]
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT_DEFAULT}}/messages?streaming=true",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT_DEFAULT}}",
												"messages"
											],
											"query": [
												{
													"key": "streaming",
													"value": "true"
												}
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "plain",
									"header": [
										{
											"key": "date",
											"value": "Mon, 03 Jun 2024 03:21:12 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-type",
											"value": "text/event-stream; charset=utf-8"
										},
										{
											"key": "transfer-encoding",
											"value": "chunked"
										}
									],
									"cookie": [],
									"body": "{\"role\":\"assistant\",\"content\":\"\",\"finish_reason\":null}\n{\"role\":null,\"content\":\"This\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" is\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" a\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" test\",\"finish_reason\":null}\n{\"role\":null,\"content\":\"!\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" How\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" can\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" I\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" assist\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" you\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" today\",\"finish_reason\":null}\n{\"role\":null,\"content\":\"?\",\"finish_reason\":null}\n{\"role\":null,\"content\":null,\"finish_reason\":\"stop\"}\n{\"model\":\"azure~gpt-35-turbo\",\"systemPrompt\":{\"role\":\"system\",\"content\":\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\"name\":null,\"timestamp\":null,\"options\":null},\"params\":{},\"properties\":{},\"id\":\"d2b6bc91-90a7-4f82-a981-e1ec50850fcd\",\"chat\":\"11301477-2133-456a-93de-f12977f77f11\",\"query\":{\"role\":\"user\",\"content\":\"Say this is a test\",\"name\":null,\"timestamp\":\"2024-06-03T03:21:12.386367Z\",\"options\":null},\"response\":{\"role\":\"assistant\",\"content\":\"This is a test! How can I assist you today?\",\"name\":null,\"timestamp\":\"2024-06-03T03:21:13.178276Z\",\"options\":null,\"finish_reason\":\"stop\"},\"tokens\":{\"query\":5,\"systemPrompt\":59,\"queryWithContext\":77,\"response\":12}}\n"
								}
							]
						},
						{
							"name": "Retrieve Default Agent Chat",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_CHAT_DEFAULT\"));\r",
											"    pm.expect(jsonData.name).to.eql(\"Say This Is A Test\");\r",
											"    pm.expect(jsonData.agents).to.include(\"804885b4-423e-485c-b215-92c7dfa8baa8\");\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-35-turbo\");\r",
											"    pm.expect(jsonData.systemPrompt.template).to.eql(\"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.personality).to.eql(\"helpful, clever, and very friendly\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.instructions).to.eql(\"You serve as a personal assistant to public officers in singapore\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.guardrails).to.eql(\"You will not answer politically sensitive topics\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.knowledgeBase).to.eql(\"\");\r",
											"    pm.expect(jsonData.systemPrompt.placeholders.length).to.eql(4);\r",
											"    pm.expect(jsonData.userPrompt.template).to.eql(null);\r",
											"    pm.expect(jsonData.userPrompt.variables).to.eql({});\r",
											"    pm.expect(jsonData.userPrompt.placeholders.length).to.eql(0);\r",
											"    pm.expect(jsonData.params).to.eql({});\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.tokens.query).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(59);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.eql(77);\r",
											"    pm.expect(jsonData.tokens.response).to.gte(5);\r",
											"    pm.expect(jsonData.tokens.queries_total).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.responses_total).to.gte(5);\r",
											"    pm.expect(jsonData.messages.length).to.eql(1);\r",
											"    pm.expect(jsonData.pinned).to.eql(false);\r",
											"})"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT_DEFAULT}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT_DEFAULT}}"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Default Agent Chat",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT_DEFAULT}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT_DEFAULT}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Mon, 03 Jun 2024 03:26:22 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "4161"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"modifications\": {\n        \"create\": {\n            \"type\": \"create\",\n            \"user_type\": \"user\",\n            \"timestamp\": \"2024-06-03T03:20:48.257000Z\",\n            \"user\": \"5eb6e5cd-ef03-5f88-a494-eb7dacd950ad\",\n            \"details\": {\n                \"id\": \"11301477-2133-456a-93de-f12977f77f11\",\n                \"name\": \"\",\n                \"agents\": [\n                    \"804885b4-423e-485c-b215-92c7dfa8baa8\"\n                ],\n                \"user_prompt\": {\n                    \"template\": null,\n                    \"variables\": {},\n                    \"placeholders\": []\n                },\n                \"systemPrompt\": {\n                    \"template\": \"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\",\n                    \"variables\": {\n                        \"personality\": \"helpful, clever, and very friendly\",\n                        \"instructions\": \"You serve as a personal assistant to public officers in singapore\",\n                        \"guardrails\": \"You will not answer politically sensitive topics\",\n                        \"knowledgeBase\": \"\"\n                    },\n                    \"placeholders\": [\n                        \"personality\",\n                        \"instructions\",\n                        \"guardrails\",\n                        \"knowledgeBase\"\n                    ]\n                },\n                \"params\": {},\n                \"properties\": {},\n                \"model\": \"azure~gpt-35-turbo\",\n                \"pinned\": false\n            }\n        },\n        \"update\": {\n            \"type\": \"update\",\n            \"user_type\": \"user\",\n            \"timestamp\": \"2024-06-03T03:21:13.182000Z\",\n            \"user\": \"5eb6e5cd-ef03-5f88-a494-eb7dacd950ad\",\n            \"details\": {\n                \"messages\": [\n                    {\n                        \"_id\": \"d2b6bc91-90a7-4f82-a981-e1ec50850fcd\",\n                        \"revision_id\": null,\n                        \"model\": \"azure~gpt-35-turbo\",\n                        \"systemPrompt\": {\n                            \"role\": \"system\",\n                            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n                            \"name\": null,\n                            \"timestamp\": null,\n                            \"options\": null\n                        },\n                        \"params\": {},\n                        \"properties\": {},\n                        \"chat\": \"11301477-2133-456a-93de-f12977f77f11\",\n                        \"query\": {\n                            \"role\": \"user\",\n                            \"content\": \"Say this is a test\",\n                            \"name\": null,\n                            \"timestamp\": \"2024-06-03T03:21:12.386000Z\",\n                            \"options\": null\n                        },\n                        \"response\": {\n                            \"role\": \"assistant\",\n                            \"content\": \"This is a test! How can I assist you today?\",\n                            \"name\": null,\n                            \"timestamp\": \"2024-06-03T03:21:13.178000Z\",\n                            \"options\": null,\n                            \"finish_reason\": \"stop\"\n                        },\n                        \"tokens\": {\n                            \"query\": 5,\n                            \"systemPrompt\": 59,\n                            \"queryWithContext\": 77,\n                            \"response\": 12\n                        },\n                        \"liked\": false,\n                        \"pinned\": false\n                    }\n                ],\n                \"tokens\": {\n                    \"query\": 5,\n                    \"systemPrompt\": 59,\n                    \"queryWithContext\": 77,\n                    \"response\": 12,\n                    \"queries_total\": 5,\n                    \"responses_total\": 12\n                }\n            }\n        }\n    },\n    \"name\": \"Say This Is A Test\",\n    \"model\": \"azure~gpt-35-turbo\",\n    \"systemPrompt\": {\n        \"template\": \"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\",\n        \"variables\": {\n            \"personality\": \"helpful, clever, and very friendly\",\n            \"instructions\": \"You serve as a personal assistant to public officers in singapore\",\n            \"guardrails\": \"You will not answer politically sensitive topics\",\n            \"knowledgeBase\": \"\"\n        },\n        \"placeholders\": [\n            \"personality\",\n            \"instructions\",\n            \"guardrails\",\n            \"knowledgeBase\"\n        ]\n    },\n    \"params\": {},\n    \"properties\": {},\n    \"id\": \"11301477-2133-456a-93de-f12977f77f11\",\n    \"userPrompt\": {\n        \"template\": null,\n        \"variables\": {},\n        \"placeholders\": []\n    },\n    \"tokens\": {\n        \"query\": 5,\n        \"systemPrompt\": 59,\n        \"queryWithContext\": 77,\n        \"response\": 12,\n        \"queries_total\": 5,\n        \"responses_total\": 12\n    },\n    \"messages\": [\n        {\n            \"model\": \"azure~gpt-35-turbo\",\n            \"systemPrompt\": {\n                \"role\": \"system\",\n                \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n                \"name\": null,\n                \"timestamp\": null,\n                \"options\": null\n            },\n            \"params\": {},\n            \"properties\": {},\n            \"id\": \"d2b6bc91-90a7-4f82-a981-e1ec50850fcd\",\n            \"chat\": \"11301477-2133-456a-93de-f12977f77f11\",\n            \"query\": {\n                \"role\": \"user\",\n                \"content\": \"Say this is a test\",\n                \"name\": null,\n                \"timestamp\": \"2024-06-03T03:21:12.386000Z\",\n                \"options\": null\n            },\n            \"response\": {\n                \"role\": \"assistant\",\n                \"content\": \"This is a test! How can I assist you today?\",\n                \"name\": null,\n                \"timestamp\": \"2024-06-03T03:21:13.178000Z\",\n                \"options\": null,\n                \"finish_reason\": \"stop\"\n            },\n            \"tokens\": {\n                \"query\": 5,\n                \"systemPrompt\": 59,\n                \"queryWithContext\": 77,\n                \"response\": 12\n            },\n            \"liked\": false,\n            \"pinned\": false\n        }\n    ],\n    \"agents\": [\n        \"804885b4-423e-485c-b215-92c7dfa8baa8\"\n    ],\n    \"pinned\": false\n}"
								}
							]
						},
						{
							"name": "Retrieve Default Agent Chat Messages",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Messages\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.length).to.eql(1);\r",
											"    pm.expect(pm.environment.get(\"TEST_CHATMESSAGE10\") in jsonData.map((x, i) => {return x.id})).to.eql(false);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT_DEFAULT}}/messages",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT_DEFAULT}}",
										"messages"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Default Agent Chat Messages",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT_DEFAULT}}/messages",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT_DEFAULT}}",
												"messages"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Mon, 03 Jun 2024 03:26:41 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "970"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "[\n    {\n        \"model\": \"azure~gpt-35-turbo\",\n        \"systemPrompt\": {\n            \"role\": \"system\",\n            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n            \"name\": null,\n            \"timestamp\": null,\n            \"options\": null\n        },\n        \"params\": {},\n        \"properties\": {},\n        \"id\": \"d2b6bc91-90a7-4f82-a981-e1ec50850fcd\",\n        \"chat\": \"11301477-2133-456a-93de-f12977f77f11\",\n        \"query\": {\n            \"role\": \"user\",\n            \"content\": \"Say this is a test\",\n            \"name\": null,\n            \"timestamp\": \"2024-06-03T03:21:12.386000Z\",\n            \"options\": null\n        },\n        \"response\": {\n            \"role\": \"assistant\",\n            \"content\": \"This is a test! How can I assist you today?\",\n            \"name\": null,\n            \"timestamp\": \"2024-06-03T03:21:13.178000Z\",\n            \"options\": null,\n            \"finish_reason\": \"stop\"\n        },\n        \"tokens\": {\n            \"query\": 5,\n            \"systemPrompt\": 59,\n            \"queryWithContext\": 77,\n            \"response\": 12\n        },\n        \"liked\": false,\n        \"pinned\": false\n    }\n]"
								}
							]
						},
						{
							"name": "Retrieve Default Agent Chat Message 10",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Message\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_CHATMESSAGE10\"));\r",
											"    pm.expect(jsonData.chat).to.eql(pm.environment.get(\"TEST_CHAT_DEFAULT\"));\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-35-turbo\");\r",
											"    pm.expect(jsonData.systemPrompt.role).to.eql(\"system\");\r",
											"    pm.expect(jsonData.systemPrompt.content).to.eql(\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \");\r",
											"    pm.expect(jsonData.systemPrompt.name).to.eql(null);\r",
											"    pm.expect(jsonData.systemPrompt.timestamp).to.eql(null);\r",
											"    pm.expect(jsonData.params).to.eql({});\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.query.role).to.eql('user');\r",
											"    pm.expect(jsonData.query.content).to.eql('Say this is a test');\r",
											"    pm.expect(jsonData.query.timestamp).to.not.eql(null);\r",
											"    pm.expect(jsonData.response.role).eq('assistant');\r",
											"    pm.expect(jsonData.response.content).to.include('is a test');\r",
											"    pm.expect(jsonData.response.timestamp).to.not.eql(null);\r",
											"    pm.expect(Date.parse(jsonData.response.timestamp)).to.gt(Date.parse(jsonData.query.timestamp))\r",
											"    pm.expect(jsonData.tokens.query).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(59);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.eql(77);\r",
											"    pm.expect(jsonData.tokens.response).to.gte(5);\r",
											"})"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT_DEFAULT}}/messages/{{TEST_CHATMESSAGE10}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT_DEFAULT}}",
										"messages",
										"{{TEST_CHATMESSAGE10}}"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Default Agent Chat Message 10",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT_DEFAULT}}/messages/{{TEST_CHATMESSAGE10}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT_DEFAULT}}",
												"messages",
												"{{TEST_CHATMESSAGE10}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Mon, 03 Jun 2024 03:26:51 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "968"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"model\": \"azure~gpt-35-turbo\",\n    \"systemPrompt\": {\n        \"role\": \"system\",\n        \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n        \"name\": null,\n        \"timestamp\": null,\n        \"options\": null\n    },\n    \"params\": {},\n    \"properties\": {},\n    \"id\": \"d2b6bc91-90a7-4f82-a981-e1ec50850fcd\",\n    \"chat\": \"11301477-2133-456a-93de-f12977f77f11\",\n    \"query\": {\n        \"role\": \"user\",\n        \"content\": \"Say this is a test\",\n        \"name\": null,\n        \"timestamp\": \"2024-06-03T03:21:12.386000Z\",\n        \"options\": null\n    },\n    \"response\": {\n        \"role\": \"assistant\",\n        \"content\": \"This is a test! How can I assist you today?\",\n        \"name\": null,\n        \"timestamp\": \"2024-06-03T03:21:13.178000Z\",\n        \"options\": null,\n        \"finish_reason\": \"stop\"\n    },\n    \"tokens\": {\n        \"query\": 5,\n        \"systemPrompt\": 59,\n        \"queryWithContext\": 77,\n        \"response\": 12\n    },\n    \"liked\": false,\n    \"pinned\": false\n}"
								}
							]
						}
					]
				},
				{
					"name": "Playground Agent",
					"item": [
						{
							"name": "Create Playground Agent Chat",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Successfully created a Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
											"    pm.environment.set('TEST_CHAT_PLAYGROUND', jsonData.id)\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\"agents\":[\"{{DEFAULT_PLAYGROUND_AGENT_ID}}\"]}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats"
									]
								}
							},
							"response": [
								{
									"name": "Create Playground Agent Streaming Chat",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\"agents\":[\"{{DEFAULT_PLAYGROUND_AGENT_ID}}\"]}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Fri, 31 May 2024 10:02:13 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "45"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"id\": \"44c99ee9-dce8-476e-8d55-f513d729d9b6\"\n}"
								}
							]
						},
						{
							"name": "Create Playground Agent Streaming Chat Message",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Successfully created a Chat Message\", function () {\r",
											"    var finish_reason = null\r",
											"    console.log(pm.response.text());\r",
											"    chunks = pm.response.text().split('\\n').filter(line => line.trim() !== '');\r",
											"    for (const c of chunks) {\r",
											"        chunk = JSON.parse(c);\r",
											"        console.log(chunk);\r",
											"\r",
											"        if (!finish_reason) {\r",
											"            pm.expect(chunk).to.have.property('role');\r",
											"            pm.expect(chunk).to.have.property('content');\r",
											"            pm.expect(chunk).to.have.property('finish_reason');\r",
											"\r",
											"            if (chunk.finish_reason){\r",
											"                finish_reason = chunk.finish_reason\r",
											"                pm.expect(finish_reason).to.be.oneOf([\"stop\",\r",
											"                                                    \"length\",\r",
											"                                                    \"tool_calls\",\r",
											"                                                    \"content_filter\",\r",
											"                                                    \"function_call\"]);\r",
											"                \r",
											"            }\r",
											"        } else {\r",
											"            pm.expect(chunk.id).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
											"            pm.expect(chunk.chat).to.eql(pm.environment.get(\"TEST_CHAT_PLAYGROUND\"));\r",
											"            pm.expect(chunk.model).to.eql(\"azure~gpt-35-turbo\");\r",
											"            pm.expect(chunk.systemPrompt.role).to.eql(\"system\");\r",
											"            pm.expect(chunk.systemPrompt.content).to.eql(\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \");\r",
											"            pm.expect(chunk.systemPrompt.name).to.eql(null);\r",
											"            pm.expect(chunk.systemPrompt.timestamp).to.eql(null);\r",
											"            pm.expect(chunk.params).to.eql({});\r",
											"            pm.expect(chunk.properties).to.eql({});\r",
											"            pm.expect(chunk.query.role).to.eql('user');\r",
											"            pm.expect(chunk.query.content).to.eql('Say this is a test');\r",
											"            pm.expect(chunk.query.timestamp).to.not.eql(null);\r",
											"            pm.expect(chunk.response.role).eq('assistant');\r",
											"            pm.expect(chunk.response.content).to.include('is a test');\r",
											"            pm.expect(chunk.response.timestamp).to.not.eql(null);\r",
											"            pm.expect(Date.parse(chunk.response.timestamp)).to.gt(Date.parse(chunk.query.timestamp))\r",
											"            pm.expect(chunk.tokens.query).to.eql(5);\r",
											"            pm.expect(chunk.tokens.systemPrompt).to.eql(59);\r",
											"            pm.expect(chunk.tokens.queryWithContext).to.eql(77);\r",
											"            pm.expect(chunk.tokens.response).to.be.at.least(5);\r",
											"            pm.environment.set('TEST_CHATMESSAGE11', chunk.id)\r",
											"        }\r",
											"    }\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "content",
											"value": "Say this is a test",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT_PLAYGROUND}}/messages?streaming=true&cloak=false",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT_PLAYGROUND}}",
										"messages"
									],
									"query": [
										{
											"key": "streaming",
											"value": "true"
										},
										{
											"key": "cloak",
											"value": "false"
										}
									]
								}
							},
							"response": [
								{
									"name": "Create Playground Agent Streaming Chat Message",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "formdata",
											"formdata": [
												{
													"key": "content",
													"value": "Say this is a test",
													"type": "text"
												},
												{
													"key": "cloak",
													"value": "false",
													"type": "text"
												}
											]
										},
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT_PLAYGROUND}}/messages?streaming=true",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT_PLAYGROUND}}",
												"messages"
											],
											"query": [
												{
													"key": "streaming",
													"value": "true"
												}
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "plain",
									"header": [
										{
											"key": "date",
											"value": "Fri, 31 May 2024 10:04:25 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-type",
											"value": "text/event-stream; charset=utf-8"
										},
										{
											"key": "transfer-encoding",
											"value": "chunked"
										}
									],
									"cookie": [],
									"body": "{\"role\":\"assistant\",\"content\":\"\",\"finish_reason\":null}\n{\"role\":null,\"content\":\"This\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" is\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" a\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" test\",\"finish_reason\":null}\n{\"role\":null,\"content\":\"!\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" How\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" can\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" I\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" assist\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" you\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" further\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" today\",\"finish_reason\":null}\n{\"role\":null,\"content\":\"?\",\"finish_reason\":null}\n{\"role\":null,\"content\":null,\"finish_reason\":\"stop\"}\n{\"model\":\"azure~gpt-35-turbo\",\"systemPrompt\":{\"role\":\"system\",\"content\":\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\"name\":null,\"timestamp\":null,\"options\":null},\"params\":{},\"properties\":{},\"id\":\"f163d5e2-999b-424f-97e1-238dea6b4f70\",\"chat\":\"44c99ee9-dce8-476e-8d55-f513d729d9b6\",\"query\":{\"role\":\"user\",\"content\":\"Say this is a test\",\"name\":null,\"timestamp\":\"2024-05-31T10:04:28.133330Z\",\"options\":null},\"response\":{\"role\":\"assistant\",\"content\":\"This is a test! How can I assist you further today?\",\"name\":null,\"timestamp\":\"2024-05-31T10:04:29.033258Z\",\"options\":null,\"finish_reason\":\"stop\"},\"tokens\":{\"query\":5,\"systemPrompt\":59,\"queryWithContext\":77,\"response\":13}}\n"
								}
							]
						},
						{
							"name": "Retrieve Playground Agent Chat",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_CHAT_PLAYGROUND\"));\r",
											"    pm.expect(jsonData.name).to.eql(\"Say This Is A Test\");\r",
											"    pm.expect(jsonData.agents).to.include(\"804885b4-423e-485c-b215-92c7dfa8baa8\");\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-35-turbo\");\r",
											"    pm.expect(jsonData.systemPrompt.template).to.eql(\"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.personality).to.eql(\"helpful, clever, and very friendly\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.instructions).to.eql(\"You serve as a personal assistant to public officers in singapore\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.guardrails).to.eql(\"You will not answer politically sensitive topics\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.knowledgeBase).to.eql(\"\");\r",
											"    pm.expect(jsonData.systemPrompt.placeholders.length).to.eql(4);\r",
											"    pm.expect(jsonData.userPrompt.template).to.eql(null);\r",
											"    pm.expect(jsonData.userPrompt.variables).to.eql({});\r",
											"    pm.expect(jsonData.userPrompt.placeholders.length).to.eql(0);\r",
											"    pm.expect(jsonData.params).to.eql({});\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.tokens.query).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(59);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.eql(77);\r",
											"    pm.expect(jsonData.tokens.response).to.gte(5);\r",
											"    pm.expect(jsonData.tokens.queries_total).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.responses_total).to.gte(5);\r",
											"    pm.expect(jsonData.messages.length).to.eql(1);\r",
											"    pm.expect(jsonData.pinned).to.eql(false);\r",
											"})"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT_PLAYGROUND}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT_PLAYGROUND}}"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Playground Agent Chat",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT_PLAYGROUND}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT_PLAYGROUND}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Mon, 03 Jun 2024 03:31:53 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "4165"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"modifications\": {\n        \"create\": {\n            \"type\": \"create\",\n            \"user_type\": \"user\",\n            \"timestamp\": \"2024-06-03T03:29:53.612000Z\",\n            \"user\": \"5eb6e5cd-ef03-5f88-a494-eb7dacd950ad\",\n            \"details\": {\n                \"id\": \"635976dd-0642-455c-8a16-a82491445745\",\n                \"name\": \"\",\n                \"agents\": [\n                    \"804885b4-423e-485c-b215-92c7dfa8baa8\"\n                ],\n                \"user_prompt\": {\n                    \"template\": null,\n                    \"variables\": {},\n                    \"placeholders\": []\n                },\n                \"systemPrompt\": {\n                    \"template\": \"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\",\n                    \"variables\": {\n                        \"personality\": \"helpful, clever, and very friendly\",\n                        \"instructions\": \"You serve as a personal assistant to public officers in singapore\",\n                        \"guardrails\": \"You will not answer politically sensitive topics\",\n                        \"knowledgeBase\": \"\"\n                    },\n                    \"placeholders\": [\n                        \"personality\",\n                        \"instructions\",\n                        \"guardrails\",\n                        \"knowledgeBase\"\n                    ]\n                },\n                \"params\": {},\n                \"properties\": {},\n                \"model\": \"azure~gpt-35-turbo\",\n                \"pinned\": false\n            }\n        },\n        \"update\": {\n            \"type\": \"update\",\n            \"user_type\": \"user\",\n            \"timestamp\": \"2024-06-03T03:30:05.631000Z\",\n            \"user\": \"5eb6e5cd-ef03-5f88-a494-eb7dacd950ad\",\n            \"details\": {\n                \"messages\": [\n                    {\n                        \"_id\": \"553d9421-b678-4d59-8e13-e4891b05a347\",\n                        \"revision_id\": null,\n                        \"model\": \"azure~gpt-35-turbo\",\n                        \"systemPrompt\": {\n                            \"role\": \"system\",\n                            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n                            \"name\": null,\n                            \"timestamp\": null,\n                            \"options\": null\n                        },\n                        \"params\": {},\n                        \"properties\": {},\n                        \"chat\": \"635976dd-0642-455c-8a16-a82491445745\",\n                        \"query\": {\n                            \"role\": \"user\",\n                            \"content\": \"Say this is a test\",\n                            \"name\": null,\n                            \"timestamp\": \"2024-06-03T03:30:04.057000Z\",\n                            \"options\": null\n                        },\n                        \"response\": {\n                            \"role\": \"assistant\",\n                            \"content\": \"This is a test! How can I assist you further?\",\n                            \"name\": null,\n                            \"timestamp\": \"2024-06-03T03:30:05.627000Z\",\n                            \"options\": null,\n                            \"finish_reason\": \"stop\"\n                        },\n                        \"tokens\": {\n                            \"query\": 5,\n                            \"systemPrompt\": 59,\n                            \"queryWithContext\": 77,\n                            \"response\": 12\n                        },\n                        \"liked\": false,\n                        \"pinned\": false\n                    }\n                ],\n                \"tokens\": {\n                    \"query\": 5,\n                    \"systemPrompt\": 59,\n                    \"queryWithContext\": 77,\n                    \"response\": 12,\n                    \"queries_total\": 5,\n                    \"responses_total\": 12\n                }\n            }\n        }\n    },\n    \"name\": \"Say This Is A Test\",\n    \"model\": \"azure~gpt-35-turbo\",\n    \"systemPrompt\": {\n        \"template\": \"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\",\n        \"variables\": {\n            \"personality\": \"helpful, clever, and very friendly\",\n            \"instructions\": \"You serve as a personal assistant to public officers in singapore\",\n            \"guardrails\": \"You will not answer politically sensitive topics\",\n            \"knowledgeBase\": \"\"\n        },\n        \"placeholders\": [\n            \"personality\",\n            \"instructions\",\n            \"guardrails\",\n            \"knowledgeBase\"\n        ]\n    },\n    \"params\": {},\n    \"properties\": {},\n    \"id\": \"635976dd-0642-455c-8a16-a82491445745\",\n    \"userPrompt\": {\n        \"template\": null,\n        \"variables\": {},\n        \"placeholders\": []\n    },\n    \"tokens\": {\n        \"query\": 5,\n        \"systemPrompt\": 59,\n        \"queryWithContext\": 77,\n        \"response\": 12,\n        \"queries_total\": 5,\n        \"responses_total\": 12\n    },\n    \"messages\": [\n        {\n            \"model\": \"azure~gpt-35-turbo\",\n            \"systemPrompt\": {\n                \"role\": \"system\",\n                \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n                \"name\": null,\n                \"timestamp\": null,\n                \"options\": null\n            },\n            \"params\": {},\n            \"properties\": {},\n            \"id\": \"553d9421-b678-4d59-8e13-e4891b05a347\",\n            \"chat\": \"635976dd-0642-455c-8a16-a82491445745\",\n            \"query\": {\n                \"role\": \"user\",\n                \"content\": \"Say this is a test\",\n                \"name\": null,\n                \"timestamp\": \"2024-06-03T03:30:04.057000Z\",\n                \"options\": null\n            },\n            \"response\": {\n                \"role\": \"assistant\",\n                \"content\": \"This is a test! How can I assist you further?\",\n                \"name\": null,\n                \"timestamp\": \"2024-06-03T03:30:05.627000Z\",\n                \"options\": null,\n                \"finish_reason\": \"stop\"\n            },\n            \"tokens\": {\n                \"query\": 5,\n                \"systemPrompt\": 59,\n                \"queryWithContext\": 77,\n                \"response\": 12\n            },\n            \"liked\": false,\n            \"pinned\": false\n        }\n    ],\n    \"agents\": [\n        \"804885b4-423e-485c-b215-92c7dfa8baa8\"\n    ],\n    \"pinned\": false\n}"
								}
							]
						},
						{
							"name": "Retrieve Playground Agent Chat Messages",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Messages\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.length).to.eql(1);\r",
											"    pm.expect(pm.environment.get(\"TEST_CHATMESSAGE11\") in jsonData.map((x, i) => {return x.id})).to.eql(false);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT_PLAYGROUND}}/messages",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT_PLAYGROUND}}",
										"messages"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Playground Agent Chat Messages",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT_PLAYGROUND}}/messages",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT_PLAYGROUND}}",
												"messages"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Mon, 03 Jun 2024 03:32:45 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "972"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "[\n    {\n        \"model\": \"azure~gpt-35-turbo\",\n        \"systemPrompt\": {\n            \"role\": \"system\",\n            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n            \"name\": null,\n            \"timestamp\": null,\n            \"options\": null\n        },\n        \"params\": {},\n        \"properties\": {},\n        \"id\": \"553d9421-b678-4d59-8e13-e4891b05a347\",\n        \"chat\": \"635976dd-0642-455c-8a16-a82491445745\",\n        \"query\": {\n            \"role\": \"user\",\n            \"content\": \"Say this is a test\",\n            \"name\": null,\n            \"timestamp\": \"2024-06-03T03:30:04.057000Z\",\n            \"options\": null\n        },\n        \"response\": {\n            \"role\": \"assistant\",\n            \"content\": \"This is a test! How can I assist you further?\",\n            \"name\": null,\n            \"timestamp\": \"2024-06-03T03:30:05.627000Z\",\n            \"options\": null,\n            \"finish_reason\": \"stop\"\n        },\n        \"tokens\": {\n            \"query\": 5,\n            \"systemPrompt\": 59,\n            \"queryWithContext\": 77,\n            \"response\": 12\n        },\n        \"liked\": false,\n        \"pinned\": false\n    }\n]"
								}
							]
						},
						{
							"name": "Retrieve Playground Agent Chat Message 11",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Message\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_CHATMESSAGE11\"));\r",
											"    pm.expect(jsonData.chat).to.eql(pm.environment.get(\"TEST_CHAT_PLAYGROUND\"));\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-35-turbo\");\r",
											"    pm.expect(jsonData.systemPrompt.role).to.eql(\"system\");\r",
											"    pm.expect(jsonData.systemPrompt.content).to.eql(\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \");\r",
											"    pm.expect(jsonData.systemPrompt.name).to.eql(null);\r",
											"    pm.expect(jsonData.systemPrompt.timestamp).to.eql(null);\r",
											"    pm.expect(jsonData.params).to.eql({});\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.query.role).to.eql('user');\r",
											"    pm.expect(jsonData.query.content).to.eql('Say this is a test');\r",
											"    pm.expect(jsonData.query.timestamp).to.not.eql(null);\r",
											"    pm.expect(jsonData.response.role).eq('assistant');\r",
											"    pm.expect(jsonData.response.content).to.include('is a test');\r",
											"    pm.expect(jsonData.response.timestamp).to.not.eql(null);\r",
											"    pm.expect(Date.parse(jsonData.response.timestamp)).to.gt(Date.parse(jsonData.query.timestamp))\r",
											"    pm.expect(jsonData.tokens.query).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(59);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.eql(77);\r",
											"    pm.expect(jsonData.tokens.response).to.gte(5);\r",
											"})"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT_PLAYGROUND}}/messages/{{TEST_CHATMESSAGE11}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT_PLAYGROUND}}",
										"messages",
										"{{TEST_CHATMESSAGE11}}"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Playground Agent Chat Message 11",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{SERVICE_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT_PLAYGROUND}}/messages/{{TEST_CHATMESSAGE11}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{SERVICE_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT_PLAYGROUND}}",
												"messages",
												"{{TEST_CHATMESSAGE11}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Mon, 03 Jun 2024 03:33:40 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "970"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"model\": \"azure~gpt-35-turbo\",\n    \"systemPrompt\": {\n        \"role\": \"system\",\n        \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n        \"name\": null,\n        \"timestamp\": null,\n        \"options\": null\n    },\n    \"params\": {},\n    \"properties\": {},\n    \"id\": \"553d9421-b678-4d59-8e13-e4891b05a347\",\n    \"chat\": \"635976dd-0642-455c-8a16-a82491445745\",\n    \"query\": {\n        \"role\": \"user\",\n        \"content\": \"Say this is a test\",\n        \"name\": null,\n        \"timestamp\": \"2024-06-03T03:30:04.057000Z\",\n        \"options\": null\n    },\n    \"response\": {\n        \"role\": \"assistant\",\n        \"content\": \"This is a test! How can I assist you further?\",\n        \"name\": null,\n        \"timestamp\": \"2024-06-03T03:30:05.627000Z\",\n        \"options\": null,\n        \"finish_reason\": \"stop\"\n    },\n    \"tokens\": {\n        \"query\": 5,\n        \"systemPrompt\": 59,\n        \"queryWithContext\": 77,\n        \"response\": 12\n    },\n    \"liked\": false,\n    \"pinned\": false\n}"
								}
							]
						}
					]
				},
				{
					"name": "Single Agent via path",
					"item": [
						{
							"name": "Create Single Agent Chat",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Successfully created a Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
											"    pm.environment.set('TEST_CHAT_SINGLE_AGENT', jsonData.id)\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\"model\":\"azure~gpt-35-turbo\",\"properties\":{},\"params\":{\"temperature\":0.4}}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{DEFAULT_PLAYGROUND_AGENT_ID}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{DEFAULT_PLAYGROUND_AGENT_ID}}"
									]
								}
							},
							"response": [
								{
									"name": "Create Single Agent Chat",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\"model\":\"azure~gpt-35-turbo\",\"properties\":{},\"params\":{\"temperature\":0.4}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{DEFAULT_PLAYGROUND_AGENT_ID}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{CHATS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{DEFAULT_PLAYGROUND_AGENT_ID}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Fri, 21 Jun 2024 04:27:26 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "45"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"id\": \"5f187a25-7fd1-4951-ace6-18b6825a7aab\"\n}"
								}
							]
						},
						{
							"name": "Create Single Agent Streaming Chat Message",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {\r",
											"    pm.response.to.have.status(200);\r",
											"});\r",
											"pm.test(\"Successfully created a Chat Message\", function () {\r",
											"    var finish_reason = null\r",
											"    console.log(pm.response.text());\r",
											"    chunks = pm.response.text().split('\\n').filter(line => line.trim() !== '');\r",
											"    for (const c of chunks) {\r",
											"        chunk = JSON.parse(c);\r",
											"        console.log(chunk);\r",
											"\r",
											"        if (!finish_reason) {\r",
											"            pm.expect(chunk).to.have.property('role');\r",
											"            pm.expect(chunk).to.have.property('content');\r",
											"            pm.expect(chunk).to.have.property('finish_reason');\r",
											"\r",
											"            if (chunk.finish_reason){\r",
											"                finish_reason = chunk.finish_reason\r",
											"                pm.expect(finish_reason).to.be.oneOf([\"stop\",\r",
											"                                                    \"length\",\r",
											"                                                    \"tool_calls\",\r",
											"                                                    \"content_filter\",\r",
											"                                                    \"function_call\"]);\r",
											"                \r",
											"            }\r",
											"        } else {\r",
											"            pm.expect(chunk.id).to.match(/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/gi);\r",
											"            pm.expect(chunk.chat).to.eql(pm.environment.get(\"TEST_CHAT_SINGLE_AGENT\"));\r",
											"            pm.expect(chunk.model).to.eql(\"azure~gpt-35-turbo\");\r",
											"            pm.expect(chunk.systemPrompt.role).to.eql(\"system\");\r",
											"            pm.expect(chunk.systemPrompt.content).to.eql(\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \");\r",
											"            pm.expect(chunk.systemPrompt.name).to.eql(null);\r",
											"            pm.expect(chunk.systemPrompt.timestamp).to.eql(null);\r",
											"            pm.expect(chunk.params).to.eql({\"temperature\":0.4});\r",
											"            pm.expect(chunk.properties).to.eql({});\r",
											"            pm.expect(chunk.query.role).to.eql('user');\r",
											"            pm.expect(chunk.query.content).to.eql('Say this is a test');\r",
											"            pm.expect(chunk.query.timestamp).to.not.eql(null);\r",
											"            pm.expect(chunk.response.role).eq('assistant');\r",
											"            pm.expect(chunk.response.content).to.include('is a test');\r",
											"            pm.expect(chunk.response.timestamp).to.not.eql(null);\r",
											"            pm.expect(Date.parse(chunk.response.timestamp)).to.gt(Date.parse(chunk.query.timestamp))\r",
											"            pm.expect(chunk.tokens.query).to.eql(5);\r",
											"            pm.expect(chunk.tokens.systemPrompt).to.eql(59);\r",
											"            pm.expect(chunk.tokens.queryWithContext).to.eql(77);\r",
											"            pm.expect(chunk.tokens.response).to.be.at.least(5);\r",
											"            pm.environment.set('TEST_CHATMESSAGE_SINGLE_AGENT', chunk.id)\r",
											"        }\r",
											"    }\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "content",
											"value": "Say this is a test",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT_SINGLE_AGENT}}/messages?streaming=true&cloak=false",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT_SINGLE_AGENT}}",
										"messages"
									],
									"query": [
										{
											"key": "streaming",
											"value": "true"
										},
										{
											"key": "cloak",
											"value": "false"
										}
									]
								}
							},
							"response": [
								{
									"name": "Create Single Agent Streaming Chat Message",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "formdata",
											"formdata": [
												{
													"key": "content",
													"value": "Say this is a test",
													"type": "text"
												},
												{
													"key": "cloak",
													"value": "false",
													"type": "text"
												}
											]
										},
										"url": {
											"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT_SINGLE_AGENT}}/messages?streaming=true",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{CHATS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT_SINGLE_AGENT}}",
												"messages"
											],
											"query": [
												{
													"key": "streaming",
													"value": "true"
												}
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "plain",
									"header": [
										{
											"key": "date",
											"value": "Fri, 21 Jun 2024 04:27:28 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-type",
											"value": "text/event-stream; charset=utf-8"
										},
										{
											"key": "transfer-encoding",
											"value": "chunked"
										}
									],
									"cookie": [],
									"body": "{\"role\":\"assistant\",\"content\":\"\",\"finish_reason\":null}\n{\"role\":null,\"content\":\"This\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" is\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" a\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" test\",\"finish_reason\":null}\n{\"role\":null,\"content\":\"!\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" How\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" can\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" I\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" assist\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" you\",\"finish_reason\":null}\n{\"role\":null,\"content\":\" today\",\"finish_reason\":null}\n{\"role\":null,\"content\":\"?\",\"finish_reason\":null}\n{\"role\":null,\"content\":null,\"finish_reason\":\"stop\"}\n{\"model\":\"azure~gpt-35-turbo\",\"systemPrompt\":{\"role\":\"system\",\"content\":\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\"name\":null,\"timestamp\":null,\"options\":null},\"params\":{\"temperature\":0.4},\"properties\":{},\"id\":\"0ded516b-a913-48ea-8d33-bc8f17a5e37f\",\"chat\":\"5f187a25-7fd1-4951-ace6-18b6825a7aab\",\"query\":{\"role\":\"user\",\"content\":\"Say this is a test\",\"name\":null,\"timestamp\":\"2024-06-21T04:27:33.846472Z\",\"options\":null},\"response\":{\"role\":\"assistant\",\"content\":\"This is a test! How can I assist you today?\",\"name\":null,\"timestamp\":\"2024-06-21T04:27:35.631683Z\",\"options\":null,\"finish_reason\":\"stop\"},\"tokens\":{\"query\":5,\"systemPrompt\":59,\"queryWithContext\":77,\"response\":12}}\n"
								}
							]
						},
						{
							"name": "Retrieve Single Agent Chat",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Item\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_CHAT_SINGLE_AGENT\"));\r",
											"    pm.expect(jsonData.name).to.eql(\"Say This Is A Test\");\r",
											"    pm.expect(jsonData.agents).to.include(\"804885b4-423e-485c-b215-92c7dfa8baa8\");\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-35-turbo\");\r",
											"    pm.expect(jsonData.systemPrompt.template).to.eql(\"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.personality).to.eql(\"helpful, clever, and very friendly\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.instructions).to.eql(\"You serve as a personal assistant to public officers in singapore\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.guardrails).to.eql(\"You will not answer politically sensitive topics\");\r",
											"    pm.expect(jsonData.systemPrompt.variables.knowledgeBase).to.eql(\"\");\r",
											"    pm.expect(jsonData.systemPrompt.placeholders.length).to.eql(4);\r",
											"    pm.expect(jsonData.userPrompt.template).to.eql(null);\r",
											"    pm.expect(jsonData.userPrompt.variables).to.eql({});\r",
											"    pm.expect(jsonData.userPrompt.placeholders.length).to.eql(0);\r",
											"    pm.expect(jsonData.params).to.eql({\"temperature\":0.4});\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.tokens.query).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(59);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.eql(77);\r",
											"    pm.expect(jsonData.tokens.response).to.gte(5);\r",
											"    pm.expect(jsonData.tokens.queries_total).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.responses_total).to.gte(5);\r",
											"    pm.expect(jsonData.messages.length).to.eql(1);\r",
											"    pm.expect(jsonData.pinned).to.eql(false);\r",
											"})"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT_SINGLE_AGENT}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT_SINGLE_AGENT}}"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Single Agent Chat",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT_SINGLE_AGENT}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{CHATS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT_SINGLE_AGENT}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Fri, 21 Jun 2024 04:29:53 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "2284"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"meta\": {\n        \"resourceType\": \"chats\",\n        \"owner\": \"5eb6e5cd-ef03-5f88-a494-eb7dacd950ad\",\n        \"ownerType\": \"user\",\n        \"location\": \"https://uat.aibots.gov.sg/latest/chats/5f187a25-7fd1-4951-ace6-18b6825a7aab\",\n        \"version\": 1,\n        \"created\": \"2024-06-21T04:27:26.853000Z\",\n        \"lastModified\": \"2024-06-21T04:27:35.635000Z\",\n        \"deleted\": null,\n        \"archived\": null\n    },\n    \"name\": \"Say This Is A Test\",\n    \"model\": \"azure~gpt-35-turbo\",\n    \"systemPrompt\": {\n        \"template\": \"You are a personal AI assistant with the personality: ${personality}\\n\\nYour purpose is: ${instructions}\\n\\nYou must abide by the following rules: ${guardrails}\\n\\nYou have knowledge of the following information: ${knowledgeBase}\",\n        \"variables\": {\n            \"personality\": \"helpful, clever, and very friendly\",\n            \"instructions\": \"You serve as a personal assistant to public officers in singapore\",\n            \"guardrails\": \"You will not answer politically sensitive topics\",\n            \"knowledgeBase\": \"\"\n        },\n        \"placeholders\": [\n            \"personality\",\n            \"instructions\",\n            \"guardrails\",\n            \"knowledgeBase\"\n        ]\n    },\n    \"params\": {\n        \"temperature\": 0.4\n    },\n    \"properties\": {},\n    \"id\": \"5f187a25-7fd1-4951-ace6-18b6825a7aab\",\n    \"userPrompt\": {\n        \"template\": null,\n        \"variables\": {},\n        \"placeholders\": []\n    },\n    \"tokens\": {\n        \"query\": 5,\n        \"systemPrompt\": 59,\n        \"queryWithContext\": 77,\n        \"response\": 12,\n        \"queries_total\": 5,\n        \"responses_total\": 12\n    },\n    \"messages\": [\n        {\n            \"model\": \"azure~gpt-35-turbo\",\n            \"systemPrompt\": {\n                \"role\": \"system\",\n                \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n                \"name\": null,\n                \"timestamp\": null,\n                \"options\": null\n            },\n            \"params\": {\n                \"temperature\": 0.4\n            },\n            \"properties\": {},\n            \"id\": \"0ded516b-a913-48ea-8d33-bc8f17a5e37f\",\n            \"chat\": \"5f187a25-7fd1-4951-ace6-18b6825a7aab\",\n            \"query\": {\n                \"role\": \"user\",\n                \"content\": \"Say this is a test\",\n                \"name\": null,\n                \"timestamp\": \"2024-06-21T04:27:33.846000Z\",\n                \"options\": null\n            },\n            \"response\": {\n                \"role\": \"assistant\",\n                \"content\": \"This is a test! How can I assist you today?\",\n                \"name\": null,\n                \"timestamp\": \"2024-06-21T04:27:35.631000Z\",\n                \"options\": null,\n                \"finish_reason\": \"stop\"\n            },\n            \"tokens\": {\n                \"query\": 5,\n                \"systemPrompt\": 59,\n                \"queryWithContext\": 77,\n                \"response\": 12\n            },\n            \"liked\": null,\n            \"pinned\": false,\n            \"chunks\": []\n        }\n    ],\n    \"agents\": [\n        \"804885b4-423e-485c-b215-92c7dfa8baa8\"\n    ],\n    \"pinned\": false\n}"
								}
							]
						},
						{
							"name": "Retrieve Single Agent Chat Messages",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Messages\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.length).to.eql(1);\r",
											"    pm.expect(pm.environment.get(\"TEST_CHATMESSAGE_SINGLE_AGENT\") in jsonData.map((x, i) => {return x.id})).to.eql(false);\r",
											"});"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT_SINGLE_AGENT}}/messages",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT_SINGLE_AGENT}}",
										"messages"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Single Agent Chat Messages",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT_SINGLE_AGENT}}/messages",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{CHATS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT_SINGLE_AGENT}}",
												"messages"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Fri, 21 Jun 2024 04:30:02 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "997"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "[\n    {\n        \"model\": \"azure~gpt-35-turbo\",\n        \"systemPrompt\": {\n            \"role\": \"system\",\n            \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n            \"name\": null,\n            \"timestamp\": null,\n            \"options\": null\n        },\n        \"params\": {\n            \"temperature\": 0.4\n        },\n        \"properties\": {},\n        \"id\": \"0ded516b-a913-48ea-8d33-bc8f17a5e37f\",\n        \"chat\": \"5f187a25-7fd1-4951-ace6-18b6825a7aab\",\n        \"query\": {\n            \"role\": \"user\",\n            \"content\": \"Say this is a test\",\n            \"name\": null,\n            \"timestamp\": \"2024-06-21T04:27:33.846000Z\",\n            \"options\": null\n        },\n        \"response\": {\n            \"role\": \"assistant\",\n            \"content\": \"This is a test! How can I assist you today?\",\n            \"name\": null,\n            \"timestamp\": \"2024-06-21T04:27:35.631000Z\",\n            \"options\": null,\n            \"finish_reason\": \"stop\"\n        },\n        \"tokens\": {\n            \"query\": 5,\n            \"systemPrompt\": 59,\n            \"queryWithContext\": 77,\n            \"response\": 12\n        },\n        \"liked\": null,\n        \"pinned\": false,\n        \"chunks\": []\n    }\n]"
								}
							]
						},
						{
							"name": "Retrieve Single Agent Chat Message 11",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test('Status code is 200', function () {\r",
											"    pm.response.to.have.status(200);\r",
											"})\r",
											"\r",
											"pm.test(\"Retrieved Chat Message\", function () {\r",
											"    var jsonData = pm.response.json();\r",
											"    pm.expect(jsonData.id).to.eql(pm.environment.get(\"TEST_CHATMESSAGE_SINGLE_AGENT\"));\r",
											"    pm.expect(jsonData.chat).to.eql(pm.environment.get(\"TEST_CHAT_SINGLE_AGENT\"));\r",
											"    pm.expect(jsonData.model).to.eql(\"azure~gpt-35-turbo\");\r",
											"    pm.expect(jsonData.systemPrompt.role).to.eql(\"system\");\r",
											"    pm.expect(jsonData.systemPrompt.content).to.eql(\"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \");\r",
											"    pm.expect(jsonData.systemPrompt.name).to.eql(null);\r",
											"    pm.expect(jsonData.systemPrompt.timestamp).to.eql(null);\r",
											"    pm.expect(jsonData.params).to.eql({\"temperature\":0.4});\r",
											"    pm.expect(jsonData.properties).to.eql({});\r",
											"    pm.expect(jsonData.query.role).to.eql('user');\r",
											"    pm.expect(jsonData.query.content).to.eql('Say this is a test');\r",
											"    pm.expect(jsonData.query.timestamp).to.not.eql(null);\r",
											"    pm.expect(jsonData.response.role).eq('assistant');\r",
											"    pm.expect(jsonData.response.content).to.include('is a test');\r",
											"    pm.expect(jsonData.response.timestamp).to.not.eql(null);\r",
											"    pm.expect(Date.parse(jsonData.response.timestamp)).to.gt(Date.parse(jsonData.query.timestamp))\r",
											"    pm.expect(jsonData.tokens.query).to.eql(5);\r",
											"    pm.expect(jsonData.tokens.systemPrompt).to.eql(59);\r",
											"    pm.expect(jsonData.tokens.queryWithContext).to.eql(77);\r",
											"    pm.expect(jsonData.tokens.response).to.gte(5);\r",
											"})"
										],
										"type": "text/javascript",
										"packages": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{AUTH_TOKEN}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT_SINGLE_AGENT}}/messages/{{TEST_CHATMESSAGE_SINGLE_AGENT}}",
									"protocol": "{{SCHEME}}",
									"host": [
										"{{CHATS_URL}}"
									],
									"path": [
										"{{API_VERSION}}",
										"chats",
										"{{TEST_CHAT_SINGLE_AGENT}}",
										"messages",
										"{{TEST_CHATMESSAGE_SINGLE_AGENT}}"
									]
								}
							},
							"response": [
								{
									"name": "Retrieve Single Agent Chat Message 11",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{SCHEME}}://{{CHATS_URL}}/{{API_VERSION}}/chats/{{TEST_CHAT_SINGLE_AGENT}}/messages/{{TEST_CHATMESSAGE_SINGLE_AGENT}}",
											"protocol": "{{SCHEME}}",
											"host": [
												"{{CHATS_URL}}"
											],
											"path": [
												"{{API_VERSION}}",
												"chats",
												"{{TEST_CHAT_SINGLE_AGENT}}",
												"messages",
												"{{TEST_CHATMESSAGE_SINGLE_AGENT}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "date",
											"value": "Fri, 21 Jun 2024 08:11:53 GMT"
										},
										{
											"key": "server",
											"value": "uvicorn"
										},
										{
											"key": "content-length",
											"value": "992"
										},
										{
											"key": "content-type",
											"value": "application/json"
										}
									],
									"cookie": [],
									"body": "{\n    \"model\": \"azure~gpt-35-turbo\",\n    \"systemPrompt\": {\n        \"role\": \"system\",\n        \"content\": \"You are a personal AI assistant with the personality: helpful, clever, and very friendly\\n\\nYour purpose is: You serve as a personal assistant to public officers in singapore\\n\\nYou must abide by the following rules: You will not answer politically sensitive topics\\n\\nYou have knowledge of the following information: \",\n        \"name\": null,\n        \"timestamp\": null,\n        \"options\": null\n    },\n    \"params\": {\n        \"temperature\": 0.4\n    },\n    \"properties\": {},\n    \"id\": \"b10e6c52-abff-4ead-a5a9-f7b766a4fcc1\",\n    \"chat\": \"60eab921-6e96-46cf-854a-691075cf2b2c\",\n    \"query\": {\n        \"role\": \"user\",\n        \"content\": \"Say this is a test\",\n        \"name\": null,\n        \"timestamp\": \"2024-06-21T08:11:04.992000Z\",\n        \"options\": null\n    },\n    \"response\": {\n        \"role\": \"assistant\",\n        \"content\": \"This is a test! How can I assist you today?\",\n        \"name\": null,\n        \"timestamp\": \"2024-06-21T08:11:05.909000Z\",\n        \"options\": null,\n        \"finish_reason\": \"stop\"\n    },\n    \"tokens\": {\n        \"query\": 5,\n        \"systemPrompt\": 59,\n        \"queryWithContext\": 77,\n        \"response\": 12\n    },\n    \"liked\": null,\n    \"pinned\": false,\n    \"chunks\": []\n}"
								}
							]
						}
					]
				}
			]
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{AUTH_TOKEN}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "TEST_NON_EXISTENT_ID",
			"value": ""
		}
	]
}